# ============================================================
# Application
# ============================================================
# Base URL of the deployed site (used for metadata, OG images, sitemap)
NEXT_PUBLIC_BASE_URL=http://localhost:3000
# NextAuth callback URL - must match NEXT_PUBLIC_BASE_URL in production
NEXTAUTH_URL=http://localhost:3000
# Cookie domain for cross-subdomain auth (e.g. ".destinypal.com")
NEXTAUTH_COOKIE_DOMAIN=.example.com
# Random string, 32+ characters. Generate: openssl rand -base64 32
NEXTAUTH_SECRET=replace_me
# Encryption key for OAuth tokens. Must be 32 bytes (ASCII or base64)
TOKEN_ENCRYPTION_KEY=32_byte_base64_or_ascii_key

# ============================================================
# Database (PostgreSQL via Supabase)
# ============================================================
# Pooled connection (port 6543) - use for runtime. Prevents connection exhaustion in serverless
DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1
# Direct connection (port 5432) - use for migrations only (prisma migrate dev/deploy)
DIRECT_DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres

# ============================================================
# AI Providers
# ============================================================
# OpenAI - primary LLM provider. Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=replace_me
# Replicate - image/specialized models. Get from https://replicate.com/account/api-tokens
REPLICATE_API_TOKEN=replace_me

# Model selection (change to switch AI models across the app)
FUSION_MODEL=gpt-4.1
FUSION_MINI_MODEL=gpt-4.1-mini
CHAT_MODEL=gpt-4.1

# Token limits per response type
ASK_STREAM_MAX_TOKENS=1600
SAJU_ASK_MAX_TOKENS=700
ASTRO_ASK_MAX_TOKENS=700
ASK_STREAM_CHUNK_SIZE=200

# Feature flags: 1=enabled, 0=disabled
REQUIRE_COMPUTED_PAYLOAD=1
ALLOW_BIRTH_ONLY=0

# ============================================================
# Payments (Stripe)
# ============================================================
# Secret key from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=replace_me
# Price IDs from Stripe Products. Format: price_xxxxxxxxxxxxx
NEXT_PUBLIC_PRICE_MONTHLY=price_xxx
STRIPE_PRICE_PREMIUM_MONTHLY=price_premium_monthly
STRIPE_PRICE_PREMIUM_ANNUAL=price_premium_annual
STRIPE_PRICE_BASIC_MONTHLY=price_basic_monthly
STRIPE_PRICE_BASIC_ANNUAL=price_basic_annual

# ============================================================
# OAuth Providers
# ============================================================
# Google OAuth - https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=replace_me
GOOGLE_CLIENT_SECRET=replace_me

# WeChat OAuth (China) - https://open.weixin.qq.com/
WECHAT_APP_ID=replace_me
WECHAT_APP_SECRET=replace_me

# WhatsApp OAuth (via Meta) - https://developers.facebook.com/
WHATSAPP_APP_ID=replace_me
WHATSAPP_APP_SECRET=replace_me

# ============================================================
# Firebase (optional - used for public visitor stats)
# ============================================================
# JSON string of Firebase config object from Firebase Console > Project Settings
NEXT_PUBLIC_FIREBASE_CONFIG=replace_me

# ============================================================
# Backend AI Server
# ============================================================
# URL of the Flask AI backend. Default: http://localhost:5000
AI_BACKEND_URL=http://localhost:5000
NEXT_PUBLIC_AI_BACKEND=http://localhost:5000

# ============================================================
# Redis / Upstash (optional - enables caching and rate limiting)
# ============================================================
# Upstash REST API - https://console.upstash.com/ (recommended for serverless)
UPSTASH_REDIS_REST_URL=https://your-upstash-url
UPSTASH_REDIS_REST_TOKEN=replace_me
# Standard Redis connection (alternative to Upstash)
REDIS_URL=redis://default:password@host:6379/0

# ============================================================
# Vercel Blob Storage (for file uploads)
# ============================================================
# Automatically provided by Vercel when Blob Storage is enabled
# Get from: Vercel Dashboard > Storage > Create Blob Store
BLOB_READ_WRITE_TOKEN=replace_me

# ============================================================
# Admin & API Tokens
# ============================================================
# Admin API access token. Generate: openssl rand -hex 32
ADMIN_API_TOKEN=replace_me
# Comma-separated admin email addresses
ADMIN_EMAILS=admin@example.com
# Public API token for unauthenticated endpoints
PUBLIC_API_TOKEN=replace_me
NEXT_PUBLIC_API_TOKEN=replace_me
# Token for public metrics endpoint access
PUBLIC_METRICS_TOKEN=replace_me
NEXT_PUBLIC_PUBLIC_METRICS_TOKEN=replace_me
# CORS allowed origins (comma-separated). Example: https://app.example.com,https://www.example.com
ALLOWED_ORIGINS=http://localhost:3000

# ============================================================
# Monitoring & Analytics
# ============================================================
# Sentry DSN - https://sentry.io/ > Project Settings > Client Keys
SENTRY_DSN=replace_me
NEXT_PUBLIC_SENTRY_DSN=replace_me

# Google Analytics Measurement ID - https://analytics.google.com/
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
# Microsoft Clarity Project ID - https://clarity.microsoft.com/
NEXT_PUBLIC_CLARITY_ID=xxxxxxxxxx

# ============================================================
# SEO Verification
# ============================================================
# Google Search Console - https://search.google.com/search-console/
NEXT_PUBLIC_GOOGLE_VERIFICATION=replace_me
# Yandex Webmaster - https://webmaster.yandex.com/
NEXT_PUBLIC_YANDEX_VERIFICATION=replace_me

# ============================================================
# Miscellaneous
# ============================================================
# Increment to bust cached graph/chart data
GRAPH_DATA_VERSION=1

# ============================================================
# Push Notifications (Web Push VAPID)
# ============================================================
# Generate key pair: npx web-push generate-vapid-keys
NEXT_PUBLIC_VAPID_PUBLIC_KEY=replace_me
VAPID_PRIVATE_KEY=replace_me
# Contact email for push service. Format: mailto:you@domain.com
VAPID_SUBJECT=mailto:admin@yourdomain.com

# ============================================================
# Email Notifications
# ============================================================
# Provider: "resend" (recommended), "sendgrid", or "nodemailer"
EMAIL_PROVIDER=resend
# Sender name and address
EMAIL_FROM=DestinyTracker <noreply@destinytracker.com>

# Resend (recommended) - https://resend.com/api-keys
RESEND_API_KEY=replace_me

# SendGrid (alternative) - https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=replace_me

# Nodemailer SMTP (alternative - for self-hosted email)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ============================================================
# Cron Jobs
# ============================================================
# Secret for authenticating cron job requests. Generate: openssl rand -hex 32
CRON_SECRET=replace_me_with_random_string
# Threshold for "low credits" notification (number of credits remaining)
CREDIT_LOW_THRESHOLD=1
# Public support contact email for Contact/Policy pages
NEXT_PUBLIC_SUPPORT_EMAIL=support@destinypal.com
