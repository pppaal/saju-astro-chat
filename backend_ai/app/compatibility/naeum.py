# backend_ai/app/compatibility/naeum.py
"""
Naeum (納音) Five Elements Constants
====================================
납음오행(納音五行) 궁합 분석 상수
60갑자 납음 매핑
"""

# ===============================================================
# 납음오행(納音五行) 궁합 분석 - 60갑자 납음 매핑
# ===============================================================

# 60갑자 → 납음 매핑
GANJI_TO_NAEUM = {
    # 해중금 (金)
    "甲子": "해중금", "乙丑": "해중금",
    # 노중화 (火)
    "丙寅": "노중화", "丁卯": "노중화",
    # 대림목 (木)
    "戊辰": "대림목", "己巳": "대림목",
    # 노방토 (土)
    "庚午": "노방토", "辛未": "노방토",
    # 검봉금 (金)
    "壬申": "검봉금", "癸酉": "검봉금",
    # 산하화 (火)
    "丙申": "산하화", "丁酉": "산하화",
    # 평지목 (木)
    "戊戌": "평지목", "己亥": "평지목",
    # 벽상토 (土)
    "庚子": "벽상토", "辛丑": "벽상토",
    # 금박금 (金)
    "壬寅": "금박금", "癸卯": "금박금",
    # 복등화 (火)
    "甲辰": "복등화", "乙巳": "복등화",
    # 천하수 (水)
    "丙午": "천하수", "丁未": "천하수",
    # 대역토 (土)
    "戊申": "대역토", "己酉": "대역토",
    # 차천금 (金)
    "庚戌": "차천금", "辛亥": "차천금",
    # 상자목 (木)
    "壬子": "상자목", "癸丑": "상자목",
    # 대계수 (水)
    "甲寅": "대계수", "乙卯": "대계수",
    # 사중토 (土)
    "丙辰": "사중토", "丁巳": "사중토",
    # 천상화 (火)
    "戊午": "천상화", "己未": "천상화",
    # 석류목 (木)
    "庚申": "석류목", "辛酉": "석류목",
    # 대해수 (水)
    "壬戌": "대해수", "癸亥": "대해수",
    # 사중금 (金)
    "甲午": "사중금", "乙未": "사중금",
    # 산두화 (火)
    "甲戌": "산두화", "乙亥": "산두화",
    # 간하수 (水)
    "丙子": "간하수", "丁丑": "간하수",
    # 성두토 (土)
    "戊寅": "성두토", "己卯": "성두토",
    # 백랍금 (金)
    "庚辰": "백랍금", "辛巳": "백랍금",
    # 양류목 (木)
    "壬午": "양류목", "癸未": "양류목",
    # 천중수 (水)
    "甲申": "천중수", "乙酉": "천중수",
    # 옥상토 (土)
    "丙戌": "옥상토", "丁亥": "옥상토",
    # 벽력화 (火)
    "戊子": "벽력화", "己丑": "벽력화",
    # 송백목 (木)
    "庚寅": "송백목", "辛卯": "송백목",
    # 장류수 (水)
    "壬辰": "장류수", "癸巳": "장류수",
}

# 납음 → 오행 매핑
NAEUM_TO_ELEMENT = {
    "해중금": "金", "검봉금": "金", "금박금": "金", "차천금": "金", "사중금": "金", "백랍금": "金",
    "노중화": "火", "산하화": "火", "복등화": "火", "천상화": "火", "산두화": "火", "벽력화": "火",
    "대림목": "木", "평지목": "木", "상자목": "木", "석류목": "木", "양류목": "木", "송백목": "木",
    "노방토": "土", "벽상토": "土", "대역토": "土", "사중토": "土", "성두토": "土", "옥상토": "土",
    "천하수": "水", "대계수": "水", "대해수": "水", "간하수": "水", "천중수": "水", "장류수": "水",
}

# 납음 특성 (궁합에 영향)
NAEUM_CHARACTERISTICS = {
    # 해중금 - 숨겨진 보물
    "해중금": {"nature": "숨겨진", "personality": "내면에 큰 가치를 품음", "compatible_nature": ["보호", "성장"]},
    # 천상화 - 빛나는 존재
    "천상화": {"nature": "빛남", "personality": "리더십과 존재감", "compatible_nature": ["숨겨진", "흐름"]},
    # 대림목 - 웅장한 성장
    "대림목": {"nature": "성장", "personality": "큰 그릇", "compatible_nature": ["흐름", "빛남"]},
    # 대해수 - 무한한 포용
    "대해수": {"nature": "흐름", "personality": "모든 것을 품는 포용력", "compatible_nature": ["성장", "숨겨진"]},
    # 노방토 - 겸손한 인내
    "노방토": {"nature": "보호", "personality": "묵묵히 역할 수행", "compatible_nature": ["빛남", "성장"]},
}

# 납음 오행 상생상극 궁합 점수
NAEUM_ELEMENT_COMPATIBILITY = {
    # 상생 관계 (좋음)
    ("木", "火"): {"score": 8, "meaning": "목생화 - 나무가 불을 키움, 서로를 성장시킴"},
    ("火", "土"): {"score": 8, "meaning": "화생토 - 불이 재를 만듦, 열정이 안정을 만듦"},
    ("土", "金"): {"score": 8, "meaning": "토생금 - 흙에서 금이 나옴, 안정이 가치를 만듦"},
    ("金", "水"): {"score": 8, "meaning": "금생수 - 금이 물을 머금음, 결단력이 지혜를 낳음"},
    ("水", "木"): {"score": 8, "meaning": "수생목 - 물이 나무를 키움, 지혜가 성장을 도움"},

    # 상극 관계 (도전적)
    ("木", "土"): {"score": -3, "meaning": "목극토 - 나무가 흙을 뚫음, 갈등 가능"},
    ("土", "水"): {"score": -3, "meaning": "토극수 - 흙이 물을 막음, 의사소통 장애"},
    ("水", "火"): {"score": -4, "meaning": "수극화 - 물이 불을 끔, 열정의 충돌"},
    ("火", "金"): {"score": -3, "meaning": "화극금 - 불이 금을 녹임, 가치관 충돌"},
    ("金", "木"): {"score": -3, "meaning": "금극목 - 금이 나무를 자름, 성장 방해"},

    # 같은 원소 (비화)
    ("木", "木"): {"score": 5, "meaning": "같은 목 - 함께 성장하지만 경쟁 가능"},
    ("火", "火"): {"score": 4, "meaning": "같은 화 - 열정적이지만 과열 주의"},
    ("土", "土"): {"score": 6, "meaning": "같은 토 - 안정적이지만 변화 부족"},
    ("金", "金"): {"score": 5, "meaning": "같은 금 - 결단력 있지만 충돌 가능"},
    ("水", "水"): {"score": 5, "meaning": "같은 수 - 깊이 있지만 방향성 필요"},
}
