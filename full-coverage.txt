
> saju-astro-chatbot@0.1.0 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mc:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest[39m
      [2mCoverage enabled with [22m[33mv8[39m

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiBackend.test.ts[2m > [22m[2mAI Backend[2m > [22m[2mcallAIBackendGeneric[2m > [22m[2mshould handle errors gracefully
[22m[39m{"level":"error","message":"[AI Backend] OpenAI API error","timestamp":"2026-01-29T08:54:24.209Z","context":{"status":500,"error":{"error":"Internal error"}}}
{"level":"error","message":"[AI Backend] Request failed","timestamp":"2026-01-29T08:54:24.213Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis operations with mocked client[2m > [22m[2mcacheGet handles JSON parse errors
[22m[39m{"level":"error","message":"[Redis] Get error","timestamp":"2026-01-29T08:54:24.384Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis operations with mocked client[2m > [22m[2mcacheGet handles Redis errors
[22m[39m{"level":"error","message":"[Redis] Get error","timestamp":"2026-01-29T08:54:24.391Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis operations with mocked client[2m > [22m[2mcacheSet handles Redis errors
[22m[39m{"level":"error","message":"[Redis] Set error","timestamp":"2026-01-29T08:54:24.401Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis operations with mocked client[2m > [22m[2mcacheDel handles Redis errors
[22m[39m{"level":"error","message":"[Redis] Delete error","timestamp":"2026-01-29T08:54:24.405Z","context":{"error":{}}}

 [31mâ¯[39m tests/lib/redis-cache.test.ts [2m([22m[2m29 tests[22m[2m | [22m[31m15 failed[39m[2m)[22m[32m 101[2mms[22m[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould create cache key with prefix[39m[32m 42[2mms[22m[39m
[31m     â†’ expected 'test:v1:id:123' to be 'test:id:123' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould sort params alphabetically[39m[32m 3[2mms[22m[39m
[31m     â†’ expected 'user:v1:a:first|m:middle|z:last' to be 'user:a:first|m:middle|z:last' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle numeric values[39m[32m 2[2mms[22m[39m
[31m     â†’ expected 'cache:v1:count:42|page:1' to be 'cache:count:42|page:1' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle boolean values[39m[32m 2[2mms[22m[39m
[31m     â†’ expected 'feature:v1:beta:false|enabled:true' to be 'feature:beta:false|enabled:true' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle empty params[39m[32m 2[2mms[22m[39m
[31m     â†’ expected 'empty:v1:' to be 'empty:' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle null and undefined values[39m[32m 2[2mms[22m[39m
[31m     â†’ expected 'nullable:v1:a:null|b:undefined' to be 'nullable:a:null|b:undefined' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle complex objects as string[39m[32m 2[2mms[22m[39m
[31m     â†’ expected 'complex:v1:obj:[object Object]' to be 'complex:obj:[object Object]' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle array values[39m[32m 2[2mms[22m[39m
[31m     â†’ expected 'array:v1:items:1,2,3' to be 'array:items:1,2,3' // Object.is equality[39m
   [32mâœ“[39m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould create unique keys for different params[32m 1[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mmakeCacheKey[2m > [22mshould create same key for same params in different order[32m 1[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheGet (unit tests)[2m > [22mshould handle special characters in keys[32m 1[2mms[22m[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mcacheGet (unit tests)[2m > [22mshould handle Korean characters in values[39m[32m 3[2mms[22m[39m
[31m     â†’ expected 'saju:v1:birthYear:1990|name:í™ê¸¸ë™' to be 'saju:birthYear:1990|name:í™ê¸¸ë™' // Object.is equality[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheGet (unit tests)[2m > [22mshould handle date objects as string[32m 2[2mms[22m[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCache Key Generation Patterns[2m > [22mshould generate destiny map cache key[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'destiny:v1:day:15|gender:male|hour:10â€¦' to be 'destiny:day:15|gender:male|hour:10|loâ€¦' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCache Key Generation Patterns[2m > [22mshould generate tarot reading cache key[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'tarot:v1:cards:1,5,10,22,33|category:â€¦' to be 'tarot:cards:1,5,10,22,33|category:lovâ€¦' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCache Key Generation Patterns[2m > [22mshould generate calendar analysis cache key[39m[32m 5[2mms[22m[39m
[31m     â†’ expected 'calendar:v1:endDate:2024-01-31|startDâ€¦' to be 'calendar:endDate:2024-01-31|startDateâ€¦' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCache Key Generation Patterns[2m > [22mshould generate user session cache key[39m[32m 8[2mms[22m[39m
[31m     â†’ expected 'session:v1:deviceId:mobile_ios|userIdâ€¦' to be 'session:deviceId:mobile_ios|userId:abâ€¦' // Object.is equality[39m
   [32mâœ“[39m Redis Cache[2m > [22mCache Key Collision Prevention[2m > [22mshould not collide between different prefixes with same params[32m 1[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mCache Key Collision Prevention[2m > [22mshould not collide between similar param values[32m 1[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mCache Key Collision Prevention[2m > [22mshould distinguish between string and number param values[32m 1[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mEdge Cases[2m > [22mshould handle very long prefix[32m 1[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mEdge Cases[2m > [22mshould handle many parameters[32m 1[2mms[22m[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mEdge Cases[2m > [22mshould handle empty string prefix[39m[32m 1[2mms[22m[39m
[31m     â†’ expected ':v1:a:1' to be ':a:1' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mEdge Cases[2m > [22mshould handle single character values[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'single:v1:a:x|b:y' to be 'single:a:x|b:y' // Object.is equality[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheGet[2m > [22mshould return null when env vars not set (default state)[32m 1[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheGet[2m > [22mshould be exported and callable[32m 0[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheSet[2m > [22mshould return false when env vars not set (default state)[32m 1[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheSet[2m > [22mshould be exported and callable[32m 0[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheSet[2m > [22mshould accept TTL parameter[32m 3[2mms[22m[39m
[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis operations with mocked client[2m > [22m[2mcacheOrCalculate handles cache set failure gracefully
[22m[39m{"level":"error","message":"[Redis] Set error","timestamp":"2026-01-29T08:54:24.447Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis operations with mocked client[2m > [22m[2mcacheGetMany handles Redis errors
[22m[39m{"level":"error","message":"[Redis] Batch get error","timestamp":"2026-01-29T08:54:24.458Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis operations with mocked client[2m > [22m[2mcacheGetMany handles parse errors in results
[22m[39m{"level":"error","message":"[Redis] Batch get error","timestamp":"2026-01-29T08:54:24.464Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis operations with mocked client[2m > [22m[2mclearCacheByPattern handles Redis errors
[22m[39m{"level":"error","message":"[Redis] Clear pattern error","timestamp":"2026-01-29T08:54:24.471Z","context":{"error":{}}}

 [31mâ¯[39m tests/redisCache.test.ts [2m([22m[2m25 tests[22m[2m | [22m[31m18 failed[39m[2m)[22m[32m 80[2mms[22m[39m
   [32mâœ“[39m makeCacheKey: Basic Functionality[2m > [22mgenerates key with prefix and params[32m 7[2mms[22m[39m
   [32mâœ“[39m makeCacheKey: Basic Functionality[2m > [22mgenerates consistent keys for same params[32m 1[2mms[22m[39m
[31m   [31mÃ—[31m makeCacheKey: Basic Functionality[2m > [22mhandles empty params[39m[32m 33[2mms[22m[39m
[31m     â†’ expected 'empty:v1:' to be 'empty:' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Basic Functionality[2m > [22mhandles single param[39m[32m 5[2mms[22m[39m
[31m     â†’ expected 'single:v1:id:abc' to be 'single:id:abc' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Sorting[2m > [22msorts keys alphabetically for consistency[39m[32m 2[2mms[22m[39m
[31m     â†’ expected 'test:v1:a:2|m:3|z:1' to be 'test:a:2|m:3|z:1' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Sorting[2m > [22msorts numeric keys correctly (as strings)[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'numeric:v1:1:a|10:c|2:b' to be 'numeric:1:a|10:c|2:b' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Value Types[2m > [22mhandles string values[39m[32m 2[2mms[22m[39m
[31m     â†’ expected 'str:v1:name:í™ê¸¸ë™' to be 'str:name:í™ê¸¸ë™' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Value Types[2m > [22mhandles number values[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'num:v1:count:42' to be 'num:count:42' // Object.is equality[39m
   [32mâœ“[39m makeCacheKey: Value Types[2m > [22mhandles boolean values[32m 0[2mms[22m[39m
[31m   [31mÃ—[31m makeCacheKey: Value Types[2m > [22mhandles null values[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'null:v1:value:null' to be 'null:value:null' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Value Types[2m > [22mhandles undefined values[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'undef:v1:value:undefined' to be 'undef:value:undefined' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Value Types[2m > [22mhandles object values (toString)[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'obj:v1:data:[object Object]' to be 'obj:data:[object Object]' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Value Types[2m > [22mhandles array values (toString)[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'arr:v1:items:1,2,3' to be 'arr:items:1,2,3' // Object.is equality[39m
   [32mâœ“[39m makeCacheKey: Real World Examples[2m > [22mgenerates saju cache key[32m 1[2mms[22m[39m
   [32mâœ“[39m makeCacheKey: Real World Examples[2m > [22mgenerates astrology cache key[32m 1[2mms[22m[39m
[31m   [31mÃ—[31m makeCacheKey: Real World Examples[2m > [22mgenerates user-specific cache key[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'user:fortune:v1:date:2024-01-15|type:â€¦' to be 'user:fortune:date:2024-01-15|type:daiâ€¦' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Real World Examples[2m > [22mgenerates compatibility cache key[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'compat:v1:user1:abc123|user2:xyz789' to be 'compat:user1:abc123|user2:xyz789' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Special Characters[2m > [22mhandles special characters in values[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'special:v1:name:í™:ê¸¸|ë™' to be 'special:name:í™:ê¸¸|ë™' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Special Characters[2m > [22mhandles spaces in values[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'space:v1:text:hello world' to be 'space:text:hello world' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Special Characters[2m > [22mhandles unicode in values[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'unicode:v1:emoji:ðŸ˜€ðŸŽ‰' to be 'unicode:emoji:ðŸ˜€ðŸŽ‰' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Special Characters[2m > [22mhandles newlines in values[39m[32m 4[2mms[22m[39m
[31m     â†’ expected 'newline:v1:text:line1\nline2' to be 'newline:text:line1\nline2' // Object.is equality[39m
   [32mâœ“[39m makeCacheKey: Edge Cases[2m > [22mhandles very long keys[32m 1[2mms[22m[39m
   [32mâœ“[39m makeCacheKey: Edge Cases[2m > [22mhandles many parameters[32m 1[2mms[22m[39m
[31m   [31mÃ—[31m makeCacheKey: Edge Cases[2m > [22mhandles empty string values[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'empty:v1:value:' to be 'empty:value:' // Object.is equality[39m
[31m   [31mÃ—[31m makeCacheKey: Edge Cases[2m > [22mhandles keys that look like numbers[39m[32m 1[2mms[22m[39m
[31m     â†’ expected 'numkey:v1:123:value' to be 'numkey:123:value' // Object.is equality[39m
[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis operations with mocked client[2m > [22m[2mgetCacheInfo handles Redis errors
[22m[39m{"level":"error","message":"[Redis] Info error","timestamp":"2026-01-29T08:54:25.725Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/cache/redis-cache.test.ts[2m > [22m[2mRedis Cache[2m > [22m[2mRedis client initialization[2m > [22m[2mhandles connection errors gracefully
[22m[39m{"level":"error","message":"[Redis] Failed to connect","timestamp":"2026-01-29T08:54:26.394Z","context":{"error":{}}}

 [31mâ¯[39m tests/lib/cache/redis-cache.test.ts [2m([22m[2m51 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[33m 2186[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mCACHE_TTL[2m > [22mdefines TTL for different data types[32m 11[2mms[22m[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCacheKeys[2m > [22mgenerates saju cache key[39m[32m 48[2mms[22m[39m
[31m     â†’ expected 'saju:v1:1990-01-01:12:00:M' to be 'saju:1990-01-01:12:00:M' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCacheKeys[2m > [22mgenerates tarot cache key[39m[32m 16[2mms[22m[39m
[31m     â†’ expected 'tarot:v1:user123:cXVlc3Rpb24=:celtic' to contain 'tarot:user123'[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCacheKeys[2m > [22mgenerates destiny map key[39m[32m 5[2mms[22m[39m
[31m     â†’ expected 'destiny:v1:1990-01-01:12:00' to be 'destiny:1990-01-01:12:00' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCacheKeys[2m > [22mgenerates calendar key[39m[32m 3[2mms[22m[39m
[31m     â†’ expected 'cal:v1:2024:1:user123' to be 'cal:2024:1:user123' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCacheKeys[2m > [22mgenerates compatibility key[39m[32m 3[2mms[22m[39m
[31m     â†’ expected 'compat:v1:person1:person2' to be 'compat:person1:person2' // Object.is equality[39m
   [32mâœ“[39m Redis Cache[2m > [22mCacheKeys[2m > [22mgenerates yearly calendar key with category[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mCacheKeys[2m > [22mgenerates yearly calendar key without category[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheGet[2m > [22mreturns null when REDIS_URL not set[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheSet[2m > [22mreturns false when REDIS_URL not set[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheDel[2m > [22mreturns false when REDIS_URL not set[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheOrCalculate[2m > [22mcalls calculate function when cache misses[32m 4[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mcacheGetMany[2m > [22mreturns array of nulls when REDIS_URL not set[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mclearCacheByPattern[2m > [22mreturns 0 when REDIS_URL not set[32m 7[2mms[22m[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCacheKeys edge cases[2m > [22mgenerates grading key with truncated hash[39m[32m 6[2mms[22m[39m
[31m     â†’ expected 'grade:v1:2024-01-15:eyJ0ZXN0IjoiZGF0Yâ€¦' to match /^grade:2024-01-15:/[39m
[31m   [31mÃ—[31m Redis Cache[2m > [22mCacheKeys edge cases[2m > [22mhandles special characters in tarot question[39m[32m 4[2mms[22m[39m
[31m     â†’ expected 'tarot:v1:user1:V2hhdCBpcyBteSBsb3ZlIGâ€¦' to contain 'tarot:user1:'[39m
   [32mâœ“[39m Redis Cache[2m > [22mCacheKeys edge cases[2m > [22mgenerates unique keys for different birth times[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mCacheKeys edge cases[2m > [22mgenerates consistent keys for same inputs[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mCACHE_TTL values[2m > [22mhas correct TTL for compatibility[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mCACHE_TTL values[2m > [22mhas correct TTL for grading[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mCACHE_TTL values[2m > [22mall TTL values are positive numbers[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22merror handling patterns[2m > [22mcacheOrCalculate returns calculated value on cache miss[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22merror handling patterns[2m > [22mcacheGetMany returns correct length array[32m 4[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheGet retrieves and parses data from Redis[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheGet returns null for non-existent key[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheGet handles JSON parse errors[32m 8[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheGet handles Redis errors[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheSet stores data with TTL[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheSet uses default TTL when not specified[32m 4[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheSet handles Redis errors[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheDel removes key from Redis[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheDel handles Redis errors[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheOrCalculate uses cached value when available[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheOrCalculate calculates and caches on miss[32m 34[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheOrCalculate handles cache set failure gracefully[32m 7[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheGetMany retrieves multiple keys[32m 6[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheGetMany handles Redis errors[32m 6[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mcacheGetMany handles parse errors in results[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mclearCacheByPattern clears matching keys[32m 3[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mclearCacheByPattern returns 0 when no keys match[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mclearCacheByPattern handles Redis errors[32m 2[2mms[22m[39m
   [33m[2mâœ“[22m[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mgetCacheInfo retrieves Redis stats [33m 516[2mms[22m[39m
   [33m[2mâœ“[22m[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mgetCacheInfo handles Redis errors [33m 740[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis operations with mocked client[2m > [22mgetCacheInfo returns null when Redis not configured[32m 275[2mms[22m[39m
   [33m[2mâœ“[22m[39m Redis Cache[2m > [22mRedis client initialization[2m > [22mcreates Redis client on first use [33m 352[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis client initialization[2m > [22mreuses existing Redis client[32m 22[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis client initialization[2m > [22mhandles connection errors gracefully[32m 19[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mRedis client initialization[2m > [22mregisters error handler on client[32m 14[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mComplex data type handling[2m > [22mhandles nested objects[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mComplex data type handling[2m > [22mhandles arrays[32m 2[2mms[22m[39m
   [32mâœ“[39m Redis Cache[2m > [22mComplex data type handling[2m > [22mhandles special values[32m 2[2mms[22m[39m
 [31mâ¯[39m tests/lib/cache/redis-cache-mock.test.ts [2m([22m[2m45 tests[22m[2m | [22m[31m6 failed[39m[2m)[22m[33m 2554[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mCACHE_TTL constants[2m > [22mshould export all cache TTL values[32m 29[2mms[22m[39m
[31m   [31mÃ—[31m Redis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate saju cache key[39m[32m 136[2mms[22m[39m
[31m     â†’ expected 'saju:v1:1990-01-01:12:00:M' to be 'saju:1990-01-01:12:00:M' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate tarot cache key[39m[32m 37[2mms[22m[39m
[31m     â†’ expected 'tarot:v1:user123:V2hhdCBpcyBteSBmdXR1â€¦' to contain 'tarot:user123:'[39m
[31m   [31mÃ—[31m Redis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate destiny map cache key[39m[33m 416[2mms[22m[39m
[31m     â†’ expected 'destiny:v1:1990-01-01:12:00' to be 'destiny:1990-01-01:12:00' // Object.is equality[39m
[31m   [31mÃ—[31m Redis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate grading cache key[39m[32m 50[2mms[22m[39m
[31m     â†’ expected 'grade:v1:2024-01-01:c2FqdS1kYXRhLXN0câ€¦' to contain 'grade:2024-01-01:'[39m
[31m   [31mÃ—[31m Redis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate calendar cache key[39m[32m 24[2mms[22m[39m
[31m     â†’ expected 'cal:v1:2024:1:user123' to be 'cal:2024:1:user123' // Object.is equality[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate yearly calendar cache key[32m 10[2mms[22m[39m
[31m   [31mÃ—[31m Redis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate compatibility cache key[39m[32m 12[2mms[22m[39m
[31m     â†’ expected 'compat:v1:person1:person2' to be 'compat:person1:person2' // Object.is equality[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheGet[2m > [22mshould get cached data from Redis[32m 28[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheGet[2m > [22mshould return null when Redis not configured[32m 109[2mms[22m[39m
   [33m[2mâœ“[22m[39m Redis Cache Utilities (Mocked)[2m > [22mcacheGet[2m > [22mshould return null when key not found [33m 587[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheGet[2m > [22mshould handle Redis errors gracefully[32m 49[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheGet[2m > [22mshould handle invalid JSON gracefully[32m 11[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheSet[2m > [22mshould set data in Redis with TTL[32m 68[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheSet[2m > [22mshould use default TTL when not provided[32m 159[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheSet[2m > [22mshould return false when Redis not configured[32m 33[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheSet[2m > [22mshould handle Redis errors gracefully[32m 26[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheSet[2m > [22mshould serialize complex objects correctly[32m 299[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheDel[2m > [22mshould delete key from Redis[32m 40[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheDel[2m > [22mshould return false when Redis not configured[32m 7[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheDel[2m > [22mshould handle Redis errors gracefully[32m 6[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheOrCalculate[2m > [22mshould return cached value when available[32m 8[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheOrCalculate[2m > [22mshould calculate and cache when not in cache[32m 31[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheOrCalculate[2m > [22mshould handle cache set failure gracefully[32m 119[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheOrCalculate[2m > [22mshould use default TTL when not provided[32m 27[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheGetMany[2m > [22mshould get multiple keys from Redis[32m 6[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheGetMany[2m > [22mshould return all nulls when Redis not configured[32m 5[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheGetMany[2m > [22mshould handle Redis errors gracefully[32m 5[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mcacheGetMany[2m > [22mshould handle empty keys array[32m 4[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mclearCacheByPattern[2m > [22mshould clear all keys matching pattern[32m 5[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mclearCacheByPattern[2m > [22mshould return 0 when no keys match pattern[32m 9[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mclearCacheByPattern[2m > [22mshould return 0 when Redis not configured[32m 9[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mclearCacheByPattern[2m > [22mshould handle Redis errors gracefully[32m 13[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mgetCacheInfo[2m > [22mshould get Redis cache statistics[32m 5[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mgetCacheInfo[2m > [22mshould return null when Redis not configured[32m 5[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mgetCacheInfo[2m > [22mshould handle Redis errors gracefully[32m 6[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mRedis client initialization[2m > [22mshould initialize Redis client lazily[32m 5[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mRedis client initialization[2m > [22mshould handle connection errors gracefully[32m 5[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mRedis client initialization[2m > [22mshould handle Redis error events[32m 13[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mRedis client initialization[2m > [22mshould reuse existing client on subsequent calls[32m 9[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mEdge cases and error handling[2m > [22mshould handle null values correctly[32m 5[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mEdge cases and error handling[2m > [22mshould handle undefined values by converting to null[32m 8[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mEdge cases and error handling[2m > [22mshould handle very large data correctly[32m 42[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mEdge cases and error handling[2m > [22mshould handle special characters in keys[32m 43[2mms[22m[39m
   [32mâœ“[39m Redis Cache Utilities (Mocked)[2m > [22mEdge cases and error handling[2m > [22mshould handle concurrent operations[32m 23[2mms[22m[39m
[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Basic Generation[2m > [22m[2mshould generate AI premium report successfully
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.178Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Basic Generation[2m > [22m[2mshould generate report in English
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.207Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Basic Generation[2m > [22m[2mshould include all 10 sections
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.209Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Basic Generation[2m > [22m[2mshould include profile information
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.210Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Basic Generation[2m > [22m[2mshould include matrix summary
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.211Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Basic Generation[2m > [22m[2mshould include metadata
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.213Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Options[2m > [22m[2mshould handle focus domain option
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.215Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Options[2m > [22m[2mshould handle detail level option
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.225Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Options[2m > [22m[2mshould handle themed report
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.226Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Options[2m > [22m[2mshould handle comprehensive theme
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.228Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Error Handling[2m > [22m[2mshould handle fetch error
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.229Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Error Handling[2m > [22m[2mshould handle 404 error
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.235Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Error Handling[2m > [22m[2mshould handle malformed JSON response
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.236Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Error Handling[2m > [22m[2mshould handle missing response field
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.241Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Fetch Behavior[2m > [22m[2mshould call fetch with correct URL
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.242Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Fetch Behavior[2m > [22m[2mshould send POST request
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.244Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Fetch Behavior[2m > [22m[2mshould send correct headers
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.245Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Fetch Behavior[2m > [22m[2mshould send request body with prompt
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.246Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Response Parsing[2m > [22m[2mshould parse sections from JSON response
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.247Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Response Parsing[2m > [22m[2mshould extract model and token info
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.249Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Response Parsing[2m > [22m[2mshould measure processing time
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.250Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Report ID[2m > [22m[2mshould generate unique report IDs
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.252Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Report ID[2m > [22m[2mshould include timestamp in ID
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.253Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Matrix Summary[2m > [22m[2mshould extract top 3 top insights
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.254Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Matrix Summary[2m > [22m[2mshould extract key strengths
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.256Z"}

[90mstderr[2m | tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22m[2mgenerateAIPremiumReport - Matrix Summary[2m > [22m[2mshould extract key challenges
[22m[39m{"level":"error","message":"[AI Backend] OPENAI_API_KEY not configured","timestamp":"2026-01-29T08:54:27.257Z"}

 [31mâ¯[39m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts [2m([22m[2m26 tests[22m[2m | [22m[31m24 failed[39m[2m)[22m[32m 88[2mms[22m[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Basic Generation[2m > [22mshould generate AI premium report successfully[39m[32m 33[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Basic Generation[2m > [22mshould generate report in English[39m[32m 2[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Basic Generation[2m > [22mshould include all 10 sections[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Basic Generation[2m > [22mshould include profile information[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Basic Generation[2m > [22mshould include matrix summary[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Basic Generation[2m > [22mshould include metadata[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Options[2m > [22mshould handle focus domain option[39m[32m 10[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Options[2m > [22mshould handle detail level option[39m[32m 2[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Options[2m > [22mshould handle themed report[39m[32m 2[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Options[2m > [22mshould handle comprehensive theme[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
   [32mâœ“[39m generateAIPremiumReport - Error Handling[2m > [22mshould handle fetch error[32m 5[2mms[22m[39m
   [32mâœ“[39m generateAIPremiumReport - Error Handling[2m > [22mshould handle 404 error[32m 1[2mms[22m[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Error Handling[2m > [22mshould handle malformed JSON response[39m[32m 5[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Error Handling[2m > [22mshould handle missing response field[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Fetch Behavior[2m > [22mshould call fetch with correct URL[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Fetch Behavior[2m > [22mshould send POST request[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Fetch Behavior[2m > [22mshould send correct headers[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Fetch Behavior[2m > [22mshould send request body with prompt[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Response Parsing[2m > [22mshould parse sections from JSON response[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Response Parsing[2m > [22mshould extract model and token info[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Response Parsing[2m > [22mshould measure processing time[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Report ID[2m > [22mshould generate unique report IDs[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Report ID[2m > [22mshould include timestamp in ID[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Matrix Summary[2m > [22mshould extract top 3 top insights[39m[32m 2[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Matrix Summary[2m > [22mshould extract key strengths[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
[31m   [31mÃ—[31m generateAIPremiumReport - Matrix Summary[2m > [22mshould extract key challenges[39m[32m 1[2mms[22m[39m
[31m     â†’ OpenAI API key not configured[39m
 [32mâœ“[39m tests/lib/cache/redis-session-mock.test.ts [2m([22m[2m69 tests[22m[2m)[22m[33m 5293[2mms[22m[39m
   [33m[2mâœ“[22m[39m Redis Session Cache (Mock)[2m > [22minitializeRedis[2m > [22mshould warn and use fallback when REDIS_URL is not configured [33m 1583[2mms[22m[39m
   [33m[2mâœ“[22m[39m Redis Session Cache (Mock)[2m > [22minitializeRedis[2m > [22mshould initialize Redis with proper configuration [33m 538[2mms[22m[39m
   [33m[2mâœ“[22m[39m Redis Session Cache (Mock)[2m > [22minitializeRedis[2m > [22mshould handle initial connection failure [33m 765[2mms[22m[39m
   [33m[2mâœ“[22m[39m Redis Session Cache (Mock)[2m > [22minitializeRedis[2m > [22mshould implement retry strategy [33m 390[2mms[22m[39m
 [32mâœ“[39m tests/hooks/all-hooks.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 6652[2mms[22m[39m
   [33m[2mâœ“[22m[39m All Hooks Tests[2m > [22mCalendar Hooks (6)[2m > [22mshould export useCalendarData [33m 1651[2mms[22m[39m
   [33m[2mâœ“[22m[39m All Hooks Tests[2m > [22mCalendar Hooks (6)[2m > [22mshould export useSavedDates [33m 2397[2mms[22m[39m
   [33m[2mâœ“[22m[39m All Hooks Tests[2m > [22mChat Session Hook (1)[2m > [22mshould export useChatSession [33m 1600[2mms[22m[39m
 [32mâœ“[39m tests/types/types-smoke.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 5230[2mms[22m[39m
   [33m[2mâœ“[22m[39m Types Smoke Tests[2m > [22mComponent Types (4)[2m > [22mshould import compatibility types [33m 1049[2mms[22m[39m
   [33m[2mâœ“[22m[39m Types Smoke Tests[2m > [22mComponent Types (4)[2m > [22mshould import destiny map fun insights types [33m 785[2mms[22m[39m
   [33m[2mâœ“[22m[39m Types Smoke Tests[2m > [22mLibrary Types (12)[2m > [22mshould import destiny matrix core types [33m 623[2mms[22m[39m
   [33m[2mâœ“[22m[39m Types Smoke Tests[2m > [22mLibrary Types (12)[2m > [22mshould import i18n types [33m 364[2mms[22m[39m
   [33m[2mâœ“[22m[39m Types Smoke Tests[2m > [22mLibrary Types (12)[2m > [22mshould import tarot types [33m 378[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/iching-modules.test.ts [2m([22m[2m66 tests[22m[2m)[22m[33m 5149[2mms[22m[39m
   [33m[2mâœ“[22m[39m IChing Advanced Core[2m > [22mshould export TRIGRAMS [33m 2224[2mms[22m[39m
   [33m[2mâœ“[22m[39m IChing Data[2m > [22mshould export IChingData array [33m 552[2mms[22m[39m
   [33m[2mâœ“[22m[39m IChing Premium Data[2m > [22mshould export TRIGRAM_INFO [33m 666[2mms[22m[39m
   [33m[2mâœ“[22m[39m IChing Statistics[2m > [22mshould export IChingStatisticsEngine class [33m 377[2mms[22m[39m
 [32mâœ“[39m tests/lib/calendar-system-integration.test.ts [2m([22m[2m23 tests[22m[2m)[22m[33m 9998[2mms[22m[39m
   [33m[2mâœ“[22m[39m Calendar System Integration[2m > [22mReducer[2m > [22mshould export calendar reducer and initial state [33m 1472[2mms[22m[39m
   [33m[2mâœ“[22m[39m Calendar System Integration[2m > [22mHooks[2m > [22mshould export useCalendarData hook [33m 1681[2mms[22m[39m
   [33m[2mâœ“[22m[39m Calendar System Integration[2m > [22mHooks[2m > [22mshould export useSavedDates hook [33m 2400[2mms[22m[39m
   [33m[2mâœ“[22m[39m Calendar System Integration[2m > [22mContext[2m > [22mshould import context module [33m 674[2mms[22m[39m
   [33m[2mâœ“[22m[39m Calendar System Integration[2m > [22mComponents[2m > [22mshould export BirthInfoForm [33m 1931[2mms[22m[39m
   [33m[2mâœ“[22m[39m Calendar System Integration[2m > [22mModule Structure[2m > [22mshould have all Week 4 modules [33m 336[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/prompt/fortune/theme/themePrompts.test.ts [2m([22m[2m35 tests[22m[2m)[22m[33m 3022[2mms[22m[39m
   [33m[2mâœ“[22m[39m Today Prompt[2m > [22mshould export buildTodayPrompt function [33m 1682[2mms[22m[39m
[90mstderr[2m | tests/saju-advanced-simple.test.ts[2m > [22m[2mì‚¬ì£¼ ë°ì´í„° êµ¬ì¡° í™•ì¸[2m > [22m[2mpillar êµ¬ì¡° í™•ì¸
[22m[39mâœ… dayMaster: { name: [32m'åºš'[39m, element: [32m'ê¸ˆ'[39m, yin_yang: [32m'ì–‘'[39m }

âœ… yearPillar êµ¬ì¡°: {
  "heavenlyStem": {
    "name": "åºš",
    "element": "ê¸ˆ",
    "yin_yang": "ì–‘",
    "sibsin": "ë¹„ê²¬"
  },
  "earthlyBranch": {
    "name": "åˆ",
    "element": "í™”",
    "yin_yang": "ì–‘",
    "sibsin": "ì •ê´€"
  },
  "jijanggan": {
    "chogi": {
      "name": "å·±",
      "sibsin": "ì •ì¸"
    },
    "jeonggi": {
      "name": "ä¸",
      "sibsin": "ì •ê´€"
    }
  }
}

âœ… monthPillar êµ¬ì¡°: {
  "heavenlyStem": {
    "name": "è¾›",
    "element": "ê¸ˆ",
    "yin_yang": "ìŒ",
    "sibsin": "ê²ìž¬"
  },
  "earthlyBranch": {
    "name": "å·³",
    "element": "í™”",
    "yin_yang": "ìŒ",
    "sibsin": "íŽ¸ê´€"
  },
  "jijanggan": {
    "chogi": {
      "name": "æˆŠ",
      "sibsin": "íŽ¸ì¸"
    },
    "junggi": {
      "name": "åºš",
      "sibsin": "ë¹„ê²¬"
    },
    "jeonggi": {
      "name": "ä¸™",
      "sibsin": "íŽ¸ê´€"
    }
  }
}

âœ… dayPillar êµ¬ì¡°: {
  "heavenlyStem": {
    "name": "åºš",
    "element": "ê¸ˆ",
    "yin_yang": "ì–‘",
    "sibsin": "ë¹„ê²¬"
  },
  "earthlyBranch": {
    "name": "è¾°",
    "element": "í† ",
    "yin_yang": "ì–‘",
    "sibsin": "íŽ¸ì¸"
  },
  "jijanggan": {
    "chogi": {
      "name": "ä¹™",
      "sibsin": "ì •ìž¬"
    },
    "junggi": {
      "name": "ç™¸",
      "sibsin": "ìƒê´€"
    },
    "jeonggi": {
      "name": "æˆŠ",
      "sibsin": "íŽ¸ì¸"
    }
  }
}

âœ… timePillar êµ¬ì¡°: {
  "heavenlyStem": {
    "name": "ç™¸",
    "element": "ìˆ˜",
    "yin_yang": "ìŒ",
    "sibsin": "ìƒê´€"
  },
  "earthlyBranch": {
    "name": "æœª",
    "element": "í† ",
    "yin_yang": "ìŒ",
    "sibsin": "ì •ì¸"
  },
  "jijanggan": {
    "chogi": {
      "name": "ä¸",
      "sibsin": "ì •ê´€"
    },
    "junggi": {
      "name": "ä¹™",
      "sibsin": "ì •ìž¬"
    },
    "jeonggi": {
      "name": "å·±",
      "sibsin": "ì •ì¸"
    }
  }
}

 [32mâœ“[39m tests/lib/compatibility/compatibility-modules.test.ts [2m([22m[2m55 tests[22m[2m)[22m[33m 9598[2mms[22m[39m
   [33m[2mâœ“[22m[39m Cosmic Compatibility[2m > [22mshould export SajuProfile type [33m 711[2mms[22m[39m
   [33m[2mâœ“[22m[39m Group Compatibility[2m > [22mshould export GroupMember type [33m 8436[2mms[22m[39m
[90mstderr[2m | tests/saju-advanced-simple.test.ts[2m > [22m[2mì‚¬ì£¼ ë°ì´í„° êµ¬ì¡° í™•ì¸[2m > [22m[2mê²©êµ­ ë¶„ì„ìš© pillar ë³€í™˜ í…ŒìŠ¤íŠ¸
[22m[39mâœ… ë³€í™˜ëœ pillars:
   ë…„ì£¼: åºšåˆ
   ì›”ì£¼: è¾›å·³
   ì¼ì£¼: åºšè¾°
   ì‹œì£¼: ç™¸æœª

âœ… ê²©êµ­: ë¯¸ì •
   ì¹´í…Œê³ ë¦¬: ë¯¸ì •

 [32mâœ“[39m tests/app/loading-smoke.test.ts [2m([22m[2m28 tests[22m[2m)[22m[33m 9754[2mms[22m[39m
   [33m[2mâœ“[22m[39m Loading Components Smoke Tests[2m > [22mMain Loading (1)[2m > [22mshould import main loading [33m 4786[2mms[22m[39m
   [33m[2mâœ“[22m[39m Loading Components Smoke Tests[2m > [22mFeature Loading Components (46)[2m > [22mshould import auth loading components [33m 502[2mms[22m[39m
   [33m[2mâœ“[22m[39m Loading Components Smoke Tests[2m > [22mFeature Loading Components (46)[2m > [22mshould import community loading components [33m 418[2mms[22m[39m
   [33m[2mâœ“[22m[39m Loading Components Smoke Tests[2m > [22mFeature Loading Components (46)[2m > [22mshould import destiny-match loading components [33m 510[2mms[22m[39m
   [33m[2mâœ“[22m[39m Loading Components Smoke Tests[2m > [22mFeature Loading Components (46)[2m > [22mshould import dream loading components [33m 373[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/api-errorHandler.test.ts [2m([22m[2m22 tests[22m[2m)[22m[33m 1213[2mms[22m[39m
   [33m[2mâœ“[22m[39m API Error Handler Module[2m > [22mshould export ErrorCodes object [33m 1161[2mms[22m[39m
[90mstderr[2m | tests/saju-advanced-simple.test.ts[2m > [22m[2mì‚¬ì£¼ ë°ì´í„° êµ¬ì¡° í™•ì¸[2m > [22m[2mëª¨ë“  ê³ ê¸‰ë¶„ì„ ì¢…í•© í…ŒìŠ¤íŠ¸
[22m[39m
ðŸ”® ì‚¬ì£¼ ê³ ê¸‰ë¶„ì„ ê²°ê³¼:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ“Œ ê¸°ë³¸ ì •ë³´:
   ì¼ê°„: åºš (ê¸ˆ/ì–‘)
   ë…„ì£¼: åºšåˆ
   ì›”ì£¼: è¾›å·³
   ì¼ì£¼: åºšè¾°
   ì‹œì£¼: ç™¸æœª
   ì˜¤í–‰: ëª©0 í™”2 í† 2 ê¸ˆ3 ìˆ˜1

ðŸ“Œ ê²©êµ­ ë¶„ì„:
   ê²©êµ­: ë¯¸ì • (ë¯¸ì •)
   ì‹ ë¢°ë„: low
   ì„¤ëª…: ê²©êµ­ íŒì •ì„ ìœ„í•œ ì¡°ê±´ì´ ëª…í™•í•˜ì§€ ì•ŠìŒ. ì „ë¬¸ê°€ ìƒë‹´ ê¶Œìž¥...

ðŸ“Œ ìš©ì‹  ë¶„ì„:
   ìš©ì‹ : ìˆ˜ (ì¡°í›„ìš©ì‹ )
   ê¸°ì‹ : undefined
   ì‹ ê°•/ì‹ ì•½: ì¤‘í™”
   ë³´ì¡° ìš©ì‹ : í† 

ðŸ“Œ í†µê·¼ ë¶„ì„:
   í†µê·¼ ì—¬ë¶€: ìžˆìŒ
   í†µê·¼ ê°•ë„: 48
   í†µê·¼ ìœ„ì¹˜: å·³

ðŸ“Œ í˜•ì¶©íšŒí•© ë¶„ì„:
   ì¶©: 0ê°œ - ì—†ìŒ
   í•©: 0ê°œ - ì—†ìŒ
   í˜•: 0ê°œ
   í•´: 0ê°œ

ðŸ“Œ ëŒ€ìš´ ì •ë³´:
   ëŒ€ìš´ ì‹œìž‘ ë‚˜ì´: 7ì„¸
   ëŒ€ìš´ ëª©ë¡ (ì²˜ìŒ 5ê°œ):
     1. å£¬åˆ (7ì„¸)
     2. ç™¸æœª (17ì„¸)
     3. ç”²ç”³ (27ì„¸)
     4. ä¹™é…‰ (37ì„¸)
     5. ä¸™æˆŒ (47ì„¸)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

 [32mâœ“[39m tests/saju-advanced-simple.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 5841[2mms[22m[39m
   [33m[2mâœ“[22m[39m ì‚¬ì£¼ ë°ì´í„° êµ¬ì¡° í™•ì¸[2m > [22mpillar êµ¬ì¡° í™•ì¸ [33m 3151[2mms[22m[39m
   [33m[2mâœ“[22m[39m ì‚¬ì£¼ ë°ì´í„° êµ¬ì¡° í™•ì¸[2m > [22mëª¨ë“  ê³ ê¸‰ë¶„ì„ ì¢…í•© í…ŒìŠ¤íŠ¸ [33m 2473[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/life-prediction-index.test.ts [2m([22m[2m32 tests[22m[2m)[22m[33m 10848[2mms[22m[39m
   [33m[2mâœ“[22m[39m Life Prediction Index Exports[2m > [22mType exports[2m > [22mshould export main types [33m 10814[2mms[22m[39m
 [32mâœ“[39m tests/lib/auth/authOptions.test.ts [2m([22m[2m34 tests[22m[2m)[22m[33m 908[2mms[22m[39m
 [32mâœ“[39m tests/app/api/cities/route.mega.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 2219[2mms[22m[39m
   [33m[2mâœ“[22m[39m GET /api/cities[2m > [22mshould search cities by English name (starts with) [33m 1238[2mms[22m[39m
   [33m[2mâœ“[22m[39m GET /api/cities[2m > [22mshould search by Korean country name [33m 324[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/providers/email-providers.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1105[2mms[22m[39m
   [33m[2mâœ“[22m[39m Email Providers Module[2m > [22mgetEmailProvider[2m > [22mshould export getEmailProvider function [33m 901[2mms[22m[39m
 [32mâœ“[39m tests/lib/saju-core-integration.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 10794[2mms[22m[39m
   [33m[2mâœ“[22m[39m Saju Core Integration[2m > [22mshould calculate saju data with basic inputs [33m 10763[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/client.test.ts [2m([22m[2m37 tests[22m[2m)[22m[33m 14394[2mms[22m[39m
   [33m[2mâœ“[22m[39m ApiClient[2m > [22mshould export ApiClient class [33m 1430[2mms[22m[39m
   [33m[2mâœ“[22m[39m Error Handler[2m > [22mshould export ErrorCodes object [33m 2698[2mms[22m[39m
   [33m[2mâœ“[22m[39m API Middleware[2m > [22mshould export extractLocale function [33m 10058[2mms[22m[39m
 [32mâœ“[39m tests/lib/credits/credits-config.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 11850[2mms[22m[39m
   [33m[2mâœ“[22m[39m Credits Module Exports[2m > [22mshould export PLAN_CONFIG [33m 11829[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar-modules.test.ts [2m([22m[2m88 tests[22m[2m)[22m[33m 15875[2mms[22m[39m
   [33m[2mâœ“[22m[39m Destiny Map Calendar - Constants[2m > [22mshould export STEMS array [33m 1365[2mms[22m[39m
   [33m[2mâœ“[22m[39m Destiny Map Calendar - Utils[2m > [22mshould export isCheoneulGwiin function [33m 693[2mms[22m[39m
   [33m[2mâœ“[22m[39m Destiny Map Calendar - Scoring[2m > [22mshould export calculateDaeunScore function [33m 2177[2mms[22m[39m
   [33m[2mâœ“[22m[39m Destiny Map Calendar - Grading[2m > [22mshould export calculateGrade function [33m 394[2mms[22m[39m
   [33m[2mâœ“[22m[39m Destiny Map Calendar - Public API[2m > [22mshould export calculateYearlyImportantDates function [33m 10748[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/calendar-index.test.ts [2m([22m[2m34 tests[22m[2m)[22m[33m 914[2mms[22m[39m
   [33m[2mâœ“[22m[39m Destiny Calendar Module Exports[2m > [22mCache exports[2m > [22mshould export DestinyCalendarCache [33m 889[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/email-types.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 2329[2mms[22m[39m
   [33m[2mâœ“[22m[39m Email Module Exports[2m > [22mshould export sendEmail function [33m 2318[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/analyzer-profiling.test.ts [2m([22m[2m36 tests[22m[2m)[22m[33m 670[2mms[22m[39m
 [32mâœ“[39m tests/lib/validation/validation-patterns.test.ts [2m([22m[2m54 tests[22m[2m)[22m[33m 1335[2mms[22m[39m
   [33m[2mâœ“[22m[39m Validation Patterns[2m > [22mshould export DATE_RE pattern [33m 1261[2mms[22m[39m
 [32mâœ“[39m tests/app/api/stats/route.mega.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 307[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/api-validation.test.ts [2m([22m[2m25 tests[22m[2m)[22m[33m 507[2mms[22m[39m
   [33m[2mâœ“[22m[39m API Validation Module[2m > [22mshould export validateFields function [33m 478[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/comprehensive.mega.test.ts [2m([22m[2m22 tests[22m[2m)[22m[33m 4162[2mms[22m[39m
   [33m[2mâœ“[22m[39m comprehensive MEGA - generateComprehensivePrediction[2m > [22mshould handle single year range [33m 560[2mms[22m[39m
   [33m[2mâœ“[22m[39m comprehensive MEGA - generateLifePredictionPromptContext[2m > [22mshould generate prompt context string [33m 506[2mms[22m[39m
   [33m[2mâœ“[22m[39m comprehensive MEGA - generateLifePredictionPromptContext[2m > [22mshould handle various year ranges [33m 394[2mms[22m[39m
   [33m[2mâœ“[22m[39m comprehensive MEGA - Integration[2m > [22mshould generate consistent results for same input [33m 1360[2mms[22m[39m
 [32mâœ“[39m tests/api/api-routes-smoke.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 95[2mms[22m[39m
 [32mâœ“[39m tests/contexts/all-contexts.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 546[2mms[22m[39m
   [33m[2mâœ“[22m[39m Context Providers[2m > [22mI18nProvider[2m > [22mshould export I18nProvider [33m 331[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/specificDateEngine.test.ts [2m([22m[2m60 tests[22m[2m)[22m[33m 2617[2mms[22m[39m
   [33m[2mâœ“[22m[39m specificDateEngine - findBestDates[2m > [22mshould handle engagement activity type [33m 432[2mms[22m[39m
   [33m[2mâœ“[22m[39m specificDateEngine - findBestDates[2m > [22mshould handle surgery activity type [33m 353[2mms[22m[39m
   [33m[2mâœ“[22m[39m specificDateEngine - findBestDates[2m > [22mshould handle proposal activity type [33m 444[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/event-timing.mega.test.ts [2m([22m[2m61 tests[22m[2m)[22m[33m 1170[2mms[22m[39m
[90mstderr[2m | tests/app/api/life-prediction/route.mega.test.ts[2m > [22m[2mlife-prediction API - Request Validation[2m > [22m[2mshould reject missing request body
[22m[39m{"level":"error","message":"[life-prediction API error]","timestamp":"2026-01-29T08:54:46.073Z","error":{"message":"Unexpected end of JSON input","name":"SyntaxError","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at NextRequest.json (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/happy-dom/src/fetch/Request.ts:423:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at POST (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\app\\api\\life-prediction\\route.ts:50:18)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\app\\api\\life-prediction\\route.mega.test.ts:82:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/edge-cases/error-handling.test.ts[2m > [22m[2mError Handling Tests[2m > [22m[2mNetwork Errors[2m > [22m[2mshould handle network timeout
[22m[39m{"level":"error","message":"Metrics fetch error:","timestamp":"2026-01-29T08:54:46.334Z","error":{"message":"Network timeout","name":"Error","stack":"Error: Network timeout\n    at Timeout._onTimeout (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\edge-cases\\error-handling.test.ts:19:35)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"}}

[90mstderr[2m | tests/edge-cases/error-handling.test.ts[2m > [22m[2mError Handling Tests[2m > [22m[2mNetwork Errors[2m > [22m[2mshould handle connection refused
[22m[39m{"level":"error","message":"Metrics fetch error:","timestamp":"2026-01-29T08:54:46.462Z","error":{"message":"Failed to fetch","name":"Error","stack":"Error: Failed to fetch\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\edge-cases\\error-handling.test.ts:32:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"}}

[90mstderr[2m | tests/edge-cases/error-handling.test.ts[2m > [22m[2mError Handling Tests[2m > [22m[2mNetwork Errors[2m > [22m[2mshould handle DNS resolution failure
[22m[39m{"level":"error","message":"Metrics fetch error:","timestamp":"2026-01-29T08:54:46.576Z","error":{"message":"getaddrinfo ENOTFOUND","name":"Error","stack":"Error: getaddrinfo ENOTFOUND\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\edge-cases\\error-handling.test.ts:44:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"}}

 [32mâœ“[39m tests/app/api/life-prediction/route.mega.test.ts [2m([22m[2m49 tests[22m[2m)[22m[33m 937[2mms[22m[39m
 [32mâœ“[39m tests/a11y/pages.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 1560[2mms[22m[39m
   [33m[2mâœ“[22m[39m Accessibility: Page Components[2m > [22mNavigation Structure[2m > [22mshould have proper heading hierarchy [33m 458[2mms[22m[39m
 [32mâœ“[39m tests/lib/pushNotifications.test.ts [2m([22m[2m37 tests[22m[2m)[22m[33m 876[2mms[22m[39m
   [33m[2mâœ“[22m[39m pushNotifications[2m > [22misPushNotificationSupported[2m > [22mreturns false when window is undefined [33m 642[2mms[22m[39m
 [32mâœ“[39m tests/components/ui/CreditBadge.test.tsx [2m([22m[2m30 tests[22m[2m)[22m[33m 806[2mms[22m[39m
[90mstderr[2m | tests/a11y/GlobalHeader.test.tsx[2m > [22m[2mAccessibility: GlobalHeader[2m > [22m[2mAuthenticated state[2m > [22m[2mshould have no accessibility violations when logged in
[22m[39mAn update to CreditDisplay inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/a11y/GlobalHeader.test.tsx[2m > [22m[2mAccessibility: GlobalHeader[2m > [22m[2mAuthenticated state[2m > [22m[2mshould have accessible user menu button with aria attributes
[22m[39mAn update to CreditDisplay inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/a11y/GlobalHeader.test.tsx[2m > [22m[2mAccessibility: GlobalHeader[2m > [22m[2mKeyboard navigation[2m > [22m[2mshould have focusable buttons
[22m[39mAn update to CreditDisplay inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m tests/lib/Saju/sajuCache.test.ts [2m([22m[2m51 tests[22m[2m)[22m[33m 525[2mms[22m[39m
 [32mâœ“[39m tests/a11y/GlobalHeader.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 613[2mms[22m[39m
   [33m[2mâœ“[22m[39m Accessibility: GlobalHeader[2m > [22mUnauthenticated state[2m > [22mshould have no accessibility violations [33m 382[2mms[22m[39m
 [32mâœ“[39m tests/edge-cases/error-handling.test.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 2745[2mms[22m[39m
   [33m[2mâœ“[22m[39m Error Handling Tests[2m > [22mNetwork Errors[2m > [22mshould handle network timeout [33m 396[2mms[22m[39m
   [33m[2mâœ“[22m[39m Error Handling Tests[2m > [22mMemory Leaks[2m > [22mshould not update state after unmount [33m 1118[2mms[22m[39m
 [32mâœ“[39m tests/lib/infrastructure/index.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 1922[2mms[22m[39m
   [33m[2mâœ“[22m[39m Infrastructure Index Exports[2m > [22mCircuit Breaker exports[2m > [22mshould export isCircuitOpen [33m 1880[2mms[22m[39m
 [32mâœ“[39m tests/lib/cache/redis-rate-limit-mock.test.ts [2m([22m[2m25 tests[22m[2m)[22m[33m 1484[2mms[22m[39m
   [33m[2mâœ“[22m[39m Redis Rate Limiting (Mocked)[2m > [22mIn-memory fallback behavior[2m > [22mshould cleanup expired in-memory entries [33m 1117[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/engine/engine-modules.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 368[2mms[22m[39m
   [33m[2mâœ“[22m[39m Prediction Engine Modules[2m > [22mindex.ts exports[2m > [22mshould re-export types [33m 317[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useDreamPhase.test.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 1430[2mms[22m[39m
   [33m[2mâœ“[22m[39m useDreamPhase[2m > [22mInitial phase - unauthenticated[2m > [22mshould start with birth-input phase when not authenticated [33m 321[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useLifePredictionProfile.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 1303[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/api-sanitizers.test.ts [2m([22m[2m41 tests[22m[2m)[22m[33m 590[2mms[22m[39m
   [33m[2mâœ“[22m[39m isRecord[2m > [22mshould export isRecord function [33m 511[2mms[22m[39m
 [32mâœ“[39m tests/components/PersonCard.test.tsx [2m([22m[2m24 tests[22m[2m)[22m[33m 1231[2mms[22m[39m
 [32mâœ“[39m tests/lib/numerology/numerology-modules.test.ts [2m([22m[2m50 tests[22m[2m)[22m[33m 851[2mms[22m[39m
   [33m[2mâœ“[22m[39m Numerology Class[2m > [22mshould export Numerology class [33m 789[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useCanvasAnimation.test.ts [2m([22m[2m27 tests[22m[2m)[22m[33m 374[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/all-combinations.test.ts [2m([22m[2m928 tests[22m[2m)[22m[33m 444[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useUserProfile.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 892[2mms[22m[39m
[90mstderr[2m | tests/lib/iChing/enhancedDataLoader.test.ts[2m > [22m[2menhancedDataLoader[2m > [22m[2mclearEnhancedDataCache[2m > [22m[2mshould clear all cached data so re-import is needed
[22m[39m{"level":"error","message":"Failed to load enhanced data for hexagram 1:","timestamp":"2026-01-29T08:54:56.560Z","error":{"message":"[vitest] There was an error when mocking a module. If you are using \"vi.mock\" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock","name":"Error","stack":"Error: [vitest] There was an error when mocking a module. If you are using \"vi.mock\" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock\n    at ManualMockedModule.resolve (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/mocker/dist/chunk-registry.js:160:24)\n    at VitestMocker.callFunctionMock (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/vitest/dist/chunks/execute.B7h3T_Hc.js:322:30)\n    at VitestMocker.requestWithMock (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/vitest/dist/chunks/execute.B7h3T_Hc.js:433:22)\n    at VitestExecutor.dependencyRequest (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/vitest/dist/chunks/execute.B7h3T_Hc.js:692:36)\n    at request (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/vite-node/dist/client.mjs:264:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Module.getEnhancedHexagramData (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\iChing\\enhancedDataLoader.ts:45:38)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\iChing\\enhancedDataLoader.test.ts:279:21\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/iChing/enhancedDataLoader.test.ts[2m > [22m[2menhancedDataLoader[2m > [22m[2mclearEnhancedDataCache[2m > [22m[2mshould clear all cached data so re-import is needed
[22m[39m{"level":"error","message":"Failed to load enhanced data for hexagram 1:","timestamp":"2026-01-29T08:54:56.565Z","error":{"message":"[vitest] There was an error when mocking a module. If you are using \"vi.mock\" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock","name":"Error","stack":"Error: [vitest] There was an error when mocking a module. If you are using \"vi.mock\" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock\n    at ManualMockedModule.resolve (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/mocker/dist/chunk-registry.js:160:24)\n    at VitestMocker.callFunctionMock (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/vitest/dist/chunks/execute.B7h3T_Hc.js:322:30)\n    at VitestMocker.requestWithMock (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/vitest/dist/chunks/execute.B7h3T_Hc.js:433:22)\n    at VitestExecutor.dependencyRequest (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/vitest/dist/chunks/execute.B7h3T_Hc.js:692:36)\n    at request (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/vite-node/dist/client.mjs:264:16)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Module.getEnhancedHexagramData (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\iChing\\enhancedDataLoader.ts:45:38)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\iChing\\enhancedDataLoader.test.ts:285:21\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

 [32mâœ“[39m tests/lib/iChing/enhancedDataLoader.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 1633[2mms[22m[39m
   [33m[2mâœ“[22m[39m enhancedDataLoader[2m > [22mpreloadEnhancedData[2m > [22mshould preload multiple hexagrams in English [33m 1472[2mms[22m[39m
 [32mâœ“[39m tests/lib/env.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 2590[2mms[22m[39m
   [33m[2mâœ“[22m[39m Environment Module[2m > [22menv object[2m > [22mshould provide type-safe access to env vars [33m 1485[2mms[22m[39m
   [33m[2mâœ“[22m[39m Environment Module[2m > [22menv object[2m > [22mshould parse NODE_ENV correctly [33m 313[2mms[22m[39m
 [32mâœ“[39m tests/components/CalendarHeader.test.tsx [2m([22m[2m29 tests[22m[2m)[22m[33m 567[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/performance.test.ts [2m([22m[2m51 tests[22m[2m)[22m[33m 556[2mms[22m[39m
 [32mâœ“[39m tests/lib/services-integration.test.ts [2m([22m[2m41 tests[22m[2m)[22m[33m 31729[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mRate Limiting[2m > [22mshould export rate limit function [33m 873[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mBackend Health[2m > [22mshould export health check functions [33m 541[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mNotification Services[2m > [22mshould export push service helpers [33m 1742[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mAI Services[2m > [22mshould export recommendations service [33m 348[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mEmail Services[2m > [22mshould export email service [33m 4754[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mAuth Services[2m > [22mshould export auth options [33m 16228[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mCredits Services[2m > [22mshould export credit checks [33m 3296[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mConsultation Services[2m > [22mshould export consultation save [33m 383[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mWeekly Fortune[2m > [22mshould export weekly fortune cache helpers [33m 394[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mMarketing Services[2m > [22mshould export image generator helpers [33m 444[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mEnvironment Validation[2m > [22mshould export env validation [33m 444[2mms[22m[39m
   [33m[2mâœ“[22m[39m Services Integration[2m > [22mAll Service Modules[2m > [22mshould import all service modules without errors [33m 343[2mms[22m[39m
 [32mâœ“[39m tests/a11y/components.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 2973[2mms[22m[39m
   [33m[2mâœ“[22m[39m Accessibility: shadcn/ui Components[2m > [22mButton[2m > [22mshould have no accessibility violations [33m 503[2mms[22m[39m
   [33m[2mâœ“[22m[39m Accessibility: shadcn/ui Components[2m > [22mInput[2m > [22mshould have no accessibility violations with label [33m 443[2mms[22m[39m
   [33m[2mâœ“[22m[39m Accessibility: shadcn/ui Components[2m > [22mBadge[2m > [22mshould have no accessibility violations [33m 354[2mms[22m[39m
   [33m[2mâœ“[22m[39m Accessibility: shadcn/ui Components[2m > [22mCard[2m > [22mshould have no accessibility violations [33m 329[2mms[22m[39m
   [33m[2mâœ“[22m[39m Accessibility: shadcn/ui Components[2m > [22mSpinner[2m > [22mshould have no accessibility violations [33m 312[2mms[22m[39m
[90mstderr[2m | tests/components/WeeklyFortuneCard.test.tsx[2m > [22m[2mWeeklyFortuneCard[2m > [22m[2msuccessful fetch[2m > [22m[2mshould render fortune card with data
[22m[39mReceived `true` for a non-boolean attribute `fill`.

If you want to write it to the DOM, pass a string instead: fill="true" or fill={value.toString()}.
Received `true` for a non-boolean attribute `priority`.

If you want to write it to the DOM, pass a string instead: priority="true" or priority={value.toString()}.

 [32mâœ“[39m tests/lib/datetime/timezone.mega.test.ts [2m([22m[2m113 tests[22m[2m)[22m[32m 238[2mms[22m[39m
 [32mâœ“[39m tests/data/home.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 84[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/analyzer-snapshot.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 295[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useFormAutoSave.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 454[2mms[22m[39m
 [32mâœ“[39m tests/components/LanguageSwitcher.test.tsx [2m([22m[2m24 tests[22m[2m)[22m[33m 2404[2mms[22m[39m
 [32mâœ“[39m tests/lib/icp/questions.test.ts [2m([22m[2m40 tests[22m[2m)[22m[33m 711[2mms[22m[39m
 [32mâœ“[39m tests/components/WeeklyFortuneCard.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 1446[2mms[22m[39m
 [32mâœ“[39m tests/lib/icp/icp-modules.test.ts [2m([22m[2m22 tests[22m[2m)[22m[33m 558[2mms[22m[39m
   [33m[2mâœ“[22m[39m ICP Types[2m > [22mshould export ICPOctantCode type [33m 508[2mms[22m[39m
 [32mâœ“[39m tests/lib/rateLimit.test.ts [2m([22m[2m25 tests[22m[2m)[22m[33m 550[2mms[22m[39m
   [33m[2mâœ“[22m[39m rateLimit function[2m > [22mallows all in dev mode without Redis [33m 360[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/config/specialDays.data.test.ts [2m([22m[2m111 tests[22m[2m)[22m[32m 170[2mms[22m[39m
[90mstderr[2m | tests/hooks/calendar/useCalendarData.test.ts[2m > [22m[2museCalendarData[2m > [22m[2mshould handle fetch errors
[22m[39m{"level":"error","message":"[useCalendarData] Failed to fetch calendar","timestamp":"2026-01-29T08:55:05.415Z","context":{"error":"HTTP 500: Internal Server Error"}}

 [32mâœ“[39m tests/lib/destiny-map/calendar/utils-mega.test.ts [2m([22m[2m1771 tests[22m[2m)[22m[33m 551[2mms[22m[39m
[90mstderr[2m | tests/hooks/calendar/useCalendarData.test.ts[2m > [22m[2museCalendarData[2m > [22m[2mshould handle network errors gracefully
[22m[39m{"level":"error","message":"[useCalendarData] Failed to fetch calendar","timestamp":"2026-01-29T08:55:05.636Z","context":{"error":"Network error"}}

 [32mâœ“[39m tests/hooks/calendar/useCalendarData.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 756[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/ai-report/promptBuilders.test.ts [2m([22m[2m63 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32mâœ“[39m tests/lib/utils-smoke.test.ts [2m([22m[2m16 tests[22m[2m)[22m[33m 1370[2mms[22m[39m
   [33m[2mâœ“[22m[39m Utils & Helpers Smoke Tests[2m > [22mDestiny Map Utils & Helpers (7)[2m > [22mshould import helpers index [33m 1028[2mms[22m[39m
 [32mâœ“[39m tests/lib/cache/redis-session.mega.test.ts [2m([22m[2m40 tests[22m[2m)[22m[33m 677[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/aiPromptGenerator.test.ts [2m([22m[2m74 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useBirthInfo.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 194[2mms[22m[39m
 [32mâœ“[39m tests/i18n/i18n-smoke.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 276[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/utils-final.test.ts [2m([22m[2m834 tests[22m[2m)[22m[33m 747[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/prompt/fortune/base/data-extractors.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 62[2mms[22m[39m
 [32mâœ“[39m tests/lib/modules-smoke.test.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 42709[2mms[22m[39m
   [33m[2mâœ“[22m[39m Modules Smoke Tests[2m > [22mSaju Modules[2m > [22mshould import all core saju modules [33m 8142[2mms[22m[39m
   [33m[2mâœ“[22m[39m Modules Smoke Tests[2m > [22mSaju Modules[2m > [22mshould import advanced saju modules [33m 2553[2mms[22m[39m
   [33m[2mâœ“[22m[39m Modules Smoke Tests[2m > [22mDestiny Map Modules[2m > [22mshould import core destiny map modules [33m 5684[2mms[22m[39m
   [33m[2mâœ“[22m[39m Modules Smoke Tests[2m > [22mDestiny Map Modules[2m > [22mshould import destiny matrix modules [33m 2169[2mms[22m[39m
   [33m[2mâœ“[22m[39m Modules Smoke Tests[2m > [22mTarot Modules[2m > [22mshould import all tarot modules [33m 1112[2mms[22m[39m
   [33m[2mâœ“[22m[39m Modules Smoke Tests[2m > [22mUtility Modules[2m > [22mshould import validation modules [33m 693[2mms[22m[39m
   [33m[2mâœ“[22m[39m Modules Smoke Tests[2m > [22mUtility Modules[2m > [22mshould import auth modules [33m 19643[2mms[22m[39m
   [33m[2mâœ“[22m[39m Modules Smoke Tests[2m > [22mUtility Modules[2m > [22mshould import service modules [33m 932[2mms[22m[39m
   [33m[2mâœ“[22m[39m Modules Smoke Tests[2m > [22mUtility Modules[2m > [22mshould import notification modules [33m 1411[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/lifePredictionEngine.test.ts [2m([22m[2m68 tests[22m[2m)[22m[33m 1351[2mms[22m[39m
   [33m[2mâœ“[22m[39m lifePredictionEngine - findOptimalEventTiming[2m > [22mshould find optimal timing for marriage [33m 314[2mms[22m[39m
[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mBasic functionality[2m > [22m[2mshould return valid result with all fields
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.802Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:209:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mBasic functionality[2m > [22m[2mshould include metadata from input
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.830Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:226:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mBasic functionality[2m > [22m[2mshould handle missing optional fields
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.834Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:241:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mAstrology data[2m > [22m[2mshould include planets data
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.837Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:251:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mAstrology data[2m > [22m[2mshould include houses data
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.844Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:265:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mAstrology data[2m > [22m[2mshould include ascendant and MC
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.857Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:279:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mAstrology data[2m > [22m[2mshould include aspects
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.861Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:287:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mAstrology data[2m > [22m[2mshould include transits
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.864Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:298:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mAstrology data[2m > [22m[2mshould include facts
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.867Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:309:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mSaju data[2m > [22m[2mshould include saju facts
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.871Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:319:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mSaju data[2m > [22m[2mshould include pillars
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.874Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:326:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mSaju data[2m > [22m[2mshould include day master
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.877Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:333:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mSaju data[2m > [22m[2mshould include unse (cycles)
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.880Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:340:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mOptional astrology features[2m > [22m[2mshould include extra points if calculated
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.884Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:353:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mOptional astrology features[2m > [22m[2mshould include solar return if calculated
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.887Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:363:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mOptional astrology features[2m > [22m[2mshould include lunar return if calculated
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.889Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:372:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mOptional astrology features[2m > [22m[2mshould include progressions if calculated
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.892Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:381:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mCache behavior[2m > [22m[2mshould cache results
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.895Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:393:23\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mCache behavior[2m > [22m[2mshould cache results
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.898Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:394:23\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mCache behavior[2m > [22m[2mshould return different results for different inputs
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.901Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:411:23\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mCache behavior[2m > [22m[2mshould return different results for different inputs
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.903Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:412:23\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mCache behavior[2m > [22m[2mshould respect cache for same input parameters
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.907Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:421:23\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mCache behavior[2m > [22m[2mshould respect cache for same input parameters
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.931Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:426:23\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mDifferent locations[2m > [22m[2mshould handle Seoul coordinates
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.945Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:447:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mDifferent locations[2m > [22m[2mshould handle New York coordinates
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.956Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:459:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mDifferent locations[2m > [22m[2mshould handle London coordinates
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.963Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:471:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mDifferent locations[2m > [22m[2mshould handle Tokyo coordinates
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.968Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:483:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Dates[2m > [22m[2mshould handle leap year date
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.973Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:496:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Dates[2m > [22m[2mshould handle January 1st
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:10.977Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:507:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Dates[2m > [22m[2mshould handle December 31st
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.021Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:517:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Dates[2m > [22m[2mshould handle early morning hours
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.027Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:526:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Dates[2m > [22m[2mshould handle late night hours
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.030Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:535:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Dates[2m > [22m[2mshould handle noon
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.033Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:544:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Coordinates[2m > [22m[2mshould handle near North Pole
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.035Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:556:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Coordinates[2m > [22m[2mshould handle near South Pole
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.038Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:566:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Coordinates[2m > [22m[2mshould handle International Date Line
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.041Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:576:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Coordinates[2m > [22m[2mshould handle Prime Meridian
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.044Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:587:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mEdge cases - Coordinates[2m > [22m[2mshould handle Equator
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.049Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:597:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mGender variations[2m > [22m[2mshould handle male gender
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.053Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:606:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mGender variations[2m > [22m[2mshould handle female gender
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.058Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:617:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mGender variations[2m > [22m[2mshould handle undefined gender
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.061Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:628:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mPerformance[2m > [22m[2mshould complete within reasonable time
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.066Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:639:7\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mPerformance[2m > [22m[2mshould be faster on second call (cached)
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.069Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:651:7\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - computeDestinyMapRefactored[2m > [22m[2mPerformance[2m > [22m[2mshould be faster on second call (cached)
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.071Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:655:7\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache operations[2m > [22m[2mshould store and retrieve value
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.075Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:684:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache operations[2m > [22m[2mshould clear all entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.078Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:700:7\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache operations[2m > [22m[2mshould clear all entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.081Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:701:7\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache operations[2m > [22m[2mshould report correct cache size
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.084Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:719:7\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache operations[2m > [22m[2mshould report correct cache size
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.087Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:723:7\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache operations[2m > [22m[2mshould report correct cache size
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.089Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:727:7\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.092Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.094Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.096Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.098Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.100Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.102Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.104Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.107Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.109Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - CacheManager[2m > [22m[2mCache eviction[2m > [22m[2mshould handle multiple unique entries
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.111Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:747:9\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - Integration[2m > [22m[2mSummary generation[2m > [22m[2mshould generate non-empty summary
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.114Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:771:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - Integration[2m > [22m[2mSummary generation[2m > [22m[2mshould include name in summary if provided
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.117Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:779:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - Integration[2m > [22m[2mSummary generation[2m > [22m[2mshould handle missing name gracefully
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.119Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:792:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

[90mstderr[2m | tests/lib/destiny-map/astrology/engine-core.mega.test.ts[2m > [22m[2mengine-core MEGA - Integration[2m > [22m[2mComplete workflow[2m > [22m[2mshould process complete birth chart workflow
[22m[39m{"level":"error","message":"[Engine Core] Calculation failed","timestamp":"2026-01-29T08:55:11.127Z","error":{"message":"swisseph.swe_version is not a function","name":"TypeError","stack":"TypeError: swisseph.swe_version is not a function\n    at buildEngineMeta (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\astrology\\advanced\\meta.ts:16:30)\n    at calculateNatal (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\natal-calculations.ts:72:12)\n    at computeDestinyMapRefactored (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\astrology\\engine-core.ts:326:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\astrology\\engine-core.mega.test.ts:811:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"}}

 [32mâœ“[39m tests/lib/auth/tokenRevoke.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 71[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrology/engine-core.mega.test.ts [2m([22m[2m69 tests[22m[2m)[22m[33m 396[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/visualizationData.test.ts [2m([22m[2m72 tests[22m[2m)[22m[32m 137[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/yongsin.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 107[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrology/engine-core.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 220[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/reportService.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 269[2mms[22m[39m
 [32mâœ“[39m tests/edge-cases/components-edge-cases.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 521[2mms[22m[39m
 [32mâœ“[39m tests/app/api/csp-report/route.mega.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 81[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useCompatibilityAnalysis.test.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 368[2mms[22m[39m
 [32mâœ“[39m tests/components/ErrorBoundary.test.tsx [2m([22m[2m19 tests[22m[2m)[22m[33m 379[2mms[22m[39m
 [32mâœ“[39m tests/components/SearchBar.test.tsx [2m([22m[2m12 tests[22m[2m)[22m[33m 315[2mms[22m[39m
 [32mâœ“[39m tests/components/TarotDemoSection.test.tsx [2m([22m[2m12 tests[22m[2m)[22m[33m 882[2mms[22m[39m
 [32mâœ“[39m tests/components/calendar/DayCell.test.tsx [2m([22m[2m21 tests[22m[2m)[22m[33m 696[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/hooks/useInlineTarotAPI.test.ts [2m([22m[2m31 tests[22m[2m)[22m[33m 321[2mms[22m[39m
 [32mâœ“[39m tests/a11y/ErrorBoundary.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 547[2mms[22m[39m
   [33m[2mâœ“[22m[39m Accessibility: ErrorBoundary[2m > [22mError state[2m > [22mshould have no accessibility violations in error state [33m 363[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-match/personalityCompatibility.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 379[2mms[22m[39m
   [33m[2mâœ“[22m[39m Personality Compatibility Module[2m > [22mshould export calculatePersonalityCompatibility function [33m 353[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/stemElementMapping.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/http/http-bodySize.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 812[2mms[22m[39m
   [33m[2mâœ“[22m[39m HTTP enforceBodySize[2m > [22mshould export enforceBodySize function [33m 791[2mms[22m[39m
 [32mâœ“[39m tests/lib/infrastructure/infrastructure-modules.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 484[2mms[22m[39m
   [33m[2mâœ“[22m[39m Infrastructure Module Exports[2m > [22mCircuit Breaker exports[2m > [22mshould export isCircuitOpen [33m 457[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/calendar-helpers.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 309[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/iChingPremiumData.test.ts [2m([22m[2m68 tests[22m[2m)[22m[32m 263[2mms[22m[39m
 [32mâœ“[39m tests/lib/backend-health.comprehensive.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 101[2mms[22m[39m
[90mstderr[2m | tests/lib/Saju/saju.test.ts[2m > [22m[2msaju - Core Calculation[2m > [22m[2mcalculateSajuData[2m > [22m[2mshould throw error for invalid date
[22m[39m{"level":"error","message":"[saju.ts] âŒ Invalid birthLocal:","timestamp":"2026-01-29T08:55:18.800Z","context":{"birthDate":"invalid-date","birthTime":"10:30","isoString":"invalid-dateT10:30:00","timezone":"Asia/Seoul"}}
{"level":"error","message":"[saju.ts] Error during Saju data calculation:","timestamp":"2026-01-29T08:55:18.802Z","error":{"message":"Invalid birthLocal date object","name":"Error","stack":"Error: Invalid birthLocal date object\n    at calculateSajuData (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\Saju\\saju.ts:114:13)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\Saju\\saju.test.ts:271:20\n    at Proxy.assertThrows (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:2767:5)\n    at Proxy.methodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1686:25)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1088:12)\n    at Proxy.overwritingMethodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1735:33)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1420:16)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1686:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\Saju\\saju.test.ts:277:10"}}

 [32mâœ“[39m tests/lib/Saju/saju.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 199[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/templates/paymentReceipt.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 293[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useConsultationHistory.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 343[2mms[22m[39m
 [32mâœ“[39m tests/lib/notifications/pushService.test.ts [2m([22m[2m39 tests[22m[2m)[22m[33m 339[2mms[22m[39m
 [32mâœ“[39m tests/app/api/tarot/chat/route.mega.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 157[2mms[22m[39m
 [32mâœ“[39m tests/lib/notifications/sse.test.ts [2m([22m[2m25 tests[22m[2m)[22m[33m 751[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/tarot-spreads-data.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 84[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useCompatibilityForm.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 756[2mms[22m[39m
   [33m[2mâœ“[22m[39m useCompatibilityForm[2m > [22mshould initialize with 2 persons by default [33m 393[2mms[22m[39m
 [32mâœ“[39m tests/app/pages-smoke.test.ts [2m([22m[2m30 tests[22m[2m)[22m[33m 679[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/data/layers.test.ts [2m([22m[2m45 tests[22m[2m)[22m[33m 408[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/data/layer-integrity.test.ts [2m([22m[2m30 tests[22m[2m)[22m[33m 418[2mms[22m[39m
 [32mâœ“[39m tests/lib/notifications/premiumNotifications.test.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 184[2mms[22m[39m
 [32mâœ“[39m tests/lib/backend-health.test.ts [2m([22m[2m16 tests[22m[2m)[22m[33m 376[2mms[22m[39m
[90mstderr[2m | tests/hooks/useVisitorMetrics.test.ts[2m > [22m[2museVisitorMetrics[2m > [22m[2mshould handle fetch errors gracefully
[22m[39m{"level":"error","message":"Metrics fetch error:","timestamp":"2026-01-29T08:55:24.911Z","error":{"message":"Network error","name":"Error","stack":"Error: Network error\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\hooks\\useVisitorMetrics.test.ts:78:66\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at processTimers (node:internal/timers:520:9)\n    at runSuite (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"}}

 [32mâœ“[39m tests/lib/prediction/prediction-modules.test.ts [2m([22m[2m85 tests[22m[2m)[22m[33m 662[2mms[22m[39m
   [33m[2mâœ“[22m[39m Prediction Module Index[2m > [22mshould export standardizeScore function [33m 462[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/date-analysis-orchestrator.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 431[2mms[22m[39m
   [33m[2mâœ“[22m[39m Date Analysis Orchestrator[2m > [22multraPrecisionEngine exports[2m > [22mexports calculateDailyPillar function [33m 401[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useVisitorMetrics.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 456[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/templates/email-templates.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 99[2mms[22m[39m
 [32mâœ“[39m tests/api/admin/metrics.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 241[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/response-builders.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 107[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/emailService.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 208[2mms[22m[39m
 [32mâœ“[39m tests/components/iching/hooks/useAiStreaming.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 267[2mms[22m[39m
 [32mâœ“[39m tests/lib/circuitBreaker.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 140[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/questionClassifiers.test.ts [2m([22m[2m142 tests[22m[2m)[22m[33m 621[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useDreamChat.test.ts [2m([22m[2m22 tests[22m[2m)[22m[33m 565[2mms[22m[39m
 [32mâœ“[39m tests/lib/replicate.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 207[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useFocusTrap.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 385[2mms[22m[39m
[90mstderr[2m | tests/replicate.test.ts[2m > [22m[2mReplicate Image Generation[2m > [22m[2mWeek Number Calculation[2m > [22m[2mshould calculate week 1 for start of year
[22m[39mPromise returned by `expect(actual).resolves.toBeTruthy()` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
    at C:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/tests/replicate.test.ts:197:21

 [32mâœ“[39m tests/replicate.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 159[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/middleware.mega.test.ts [2m([22m[2m61 tests[22m[2m)[22m[32m 271[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/astrologyengine.test.ts [2m([22m[2m90 tests[22m[2m)[22m[32m 89[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/event-timing.test.ts [2m([22m[2m66 tests[22m[2m)[22m[32m 269[2mms[22m[39m
 [32mâœ“[39m tests/app/api/lib-health/route.mega.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 263[2mms[22m[39m
 [32mâœ“[39m tests/components/ui-components.test.tsx [2m([22m[2m28 tests[22m[2m)[22m[33m 68818[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mShared UI Components[2m > [22mshould export ShareButton [33m 5722[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mCalendar Components[2m > [22mshould export all calendar components [33m 2995[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mAstrology Components[2m > [22mshould export AstrologyChat [33m 1668[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mAstrology Components[2m > [22mshould export ResultDisplay [33m 31085[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mSaju Components[2m > [22mshould export SajuChat [33m 355[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mSaju Components[2m > [22mshould export SajuResultDisplay [33m 8418[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mTarot Components[2m > [22mshould export TarotChat [33m 3644[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mDestiny Map Components[2m > [22mshould export Chat [33m 3549[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mDestiny Map Components[2m > [22mshould export DestinyMatrixStory [33m 2402[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mLife Prediction Components[2m > [22mshould export AdvisorChat [33m 2397[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22mNumerology Components[2m > [22mshould export CompatibilityAnalyzer [33m 3047[2mms[22m[39m
   [33m[2mâœ“[22m[39m UI Components[2m > [22miChing Components[2m > [22mshould export ResultDisplay [33m 2508[2mms[22m[39m
 [32mâœ“[39m tests/app/api/destiny-map/chat-stream/route.mega.test.ts [2m([22m[2m53 tests[22m[2m)[22m[32m 283[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useLifePredictionAnimation.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 86[2mms[22m[39m
 [32mâœ“[39m tests/lib/weeklyFortune.test.ts [2m([22m[2m23 tests[22m[2m)[22m[33m 314[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/constants-comprehensive.test.ts [2m([22m[2m403 tests[22m[2m)[22m[32m 168[2mms[22m[39m
 [32mâœ“[39m tests/lib/http/fetchWithRetry.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 239[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/ultraPrecisionEngine.test.ts [2m([22m[2m61 tests[22m[2m)[22m[32m 208[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/profile-utils.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/errorHandler.mega.test.ts [2m([22m[2m113 tests[22m[2m)[22m[32m 150[2mms[22m[39m
 [32mâœ“[39m tests/lib/textGuards.mega.test.ts [2m([22m[2m262 tests[22m[2m)[22m[32m 239[2mms[22m[39m
 [32mâœ“[39m tests/config/config-smoke.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 499[2mms[22m[39m
   [33m[2mâœ“[22m[39m Config Files Smoke Tests[2m > [22mEnvironment & Validation (2)[2m > [22mshould import env config [33m 321[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useSajuCycles.test.ts [2m([22m[2m27 tests[22m[2m)[22m[33m 465[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/saju-character-analysis.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/cache/chart-cache-client.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 160[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useDreamAnalysis.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 467[2mms[22m[39m
 [32mâœ“[39m tests/lib/userProfile.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 277[2mms[22m[39m
 [32mâœ“[39m tests/app/api/saju/route.mega.test.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 282[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useMyCircle.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 246[2mms[22m[39m
 [32mâœ“[39m tests/lib/cities/formatter.test.ts [2m([22m[2m56 tests[22m[2m)[22m[33m 352[2mms[22m[39m
 [32mâœ“[39m tests/contexts/NotificationContext.test.tsx [2m([22m[2m21 tests[22m[2m)[22m[32m 270[2mms[22m[39m
 [32mâœ“[39m tests/app/api/dates/route.mega.test.ts [2m([22m[2m30 tests[22m[2m)[22m[33m 669[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/pillarLookup.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 94[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/dailyFortuneHelpers.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 82[2mms[22m[39m
 [32mâœ“[39m tests/lib/ai/recommendations.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 179[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/templates/subscriptionCancelled.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 178[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/compatibility-index.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 255[2mms[22m[39m
 [32mâœ“[39m tests/lib/cache/chart-cache-server.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 151[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/johuYongsin.test.ts [2m([22m[2m69 tests[22m[2m)[22m[32m 268[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/timeAnalyzer.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 125[2mms[22m[39m
 [32mâœ“[39m tests/premiumNotifications.test.ts [2m([22m[2m45 tests[22m[2m)[22m[32m 116[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/analyzers/event-category.test.ts [2m([22m[2m86 tests[22m[2m)[22m[32m 89[2mms[22m[39m
 [32mâœ“[39m tests/lib/auth/tokenRotation.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 204[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/builders/recommendation-builder.test.ts [2m([22m[2m51 tests[22m[2m)[22m[32m 246[2mms[22m[39m
 [32mâœ“[39m tests/chatI18n.test.ts [2m([22m[2m47 tests[22m[2m)[22m[32m 106[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/analyzer.test.ts [2m([22m[2m155 tests[22m[2m)[22m[33m 443[2mms[22m[39m
 [32mâœ“[39m tests/components/iching/hooks/useHexagramData.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 130[2mms[22m[39m
 [32mâœ“[39m tests/validateEnv.test.ts [2m([22m[2m37 tests[22m[2m)[22m[33m 447[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrology/helpers.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 86[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/helpers/good-day-finder.test.ts [2m([22m[2m59 tests[22m[2m)[22m[32m 131[2mms[22m[39m
[90mstdout[2m | tests/10-couples-compatibility.test.ts[2m > [22m[2m10 Couples Compatibility Analysis[2m > [22m[2mcalculates unique saju for each person
[22m[39m[ì»¤í”Œ1]
  ì² ìˆ˜: ì¼ê°„=å·±(í† ), ì¼ì£¼=å·±å¯
  ì˜í¬: ì¼ê°„=å·±(í† ), ì¼ì£¼=å·±äº¥
[ì»¤í”Œ2]
  ë¯¼ìˆ˜: ì¼ê°„=æˆŠ(í† ), ì¼ì£¼=æˆŠæˆŒ
  ìˆ˜ì§„: ì¼ê°„=ä¸™(í™”), ì¼ì£¼=ä¸™ç”³
[ì»¤í”Œ3]
  ì§€í›ˆ: ì¼ê°„=å£¬(ìˆ˜), ì¼ì£¼=å£¬è¾°
  ë¯¸ë‚˜: ì¼ê°„=è¾›(ê¸ˆ), ì¼ì£¼=è¾›æœª
[ì»¤í”Œ4]
  í˜„ìš°: ì¼ê°„=ç™¸(ìˆ˜), ì¼ì£¼=ç™¸ä¸‘
  ì†Œì—°: ì¼ê°„=å£¬(ìˆ˜), ì¼ì£¼=å£¬æˆŒ
[ì»¤í”Œ5]
  ì¤€í˜: ì¼ê°„=ä¸(í™”), ì¼ì£¼=ä¸å·³
  ìœ ì§„: ì¼ê°„=ç”²(ëª©), ì¼ì£¼=ç”²å­
[ì»¤í”Œ6]
  ë™í˜„: ì¼ê°„=ä¸(í™”), ì¼ì£¼=ä¸å¯
  ì§€ì—°: ì¼ê°„=ä¸™(í™”), ì¼ì£¼=ä¸™å¯…
[ì»¤í”Œ7]
  ì„±ë¯¼: ì¼ê°„=å·±(í† ), ì¼ì£¼=å·±ä¸‘
  ì˜ˆë¦°: ì¼ê°„=å£¬(ìˆ˜), ì¼ì£¼=å£¬ç”³
[ì»¤í”Œ8]
  ìž¬ì›: ì¼ê°„=æˆŠ(í† ), ì¼ì£¼=æˆŠè¾°
  í•˜ë‚˜: ì¼ê°„=å£¬(ìˆ˜), ì¼ì£¼=å£¬æˆŒ
[ì»¤í”Œ9]
  ìš°ì§„: ì¼ê°„=ç™¸(ìˆ˜), ì¼ì£¼=ç™¸æœª
  ì„œì—°: ì¼ê°„=ä¹™(ëª©), ì¼ì£¼=ä¹™å¯
[ì»¤í”Œ10]
  íƒœí˜„: ì¼ê°„=ç”²(ëª©), ì¼ì£¼=ç”²å­
  ì€ì§€: ì¼ê°„=ä¸(í™”), ì¼ì£¼=ä¸äº¥

ê³ ìœ í•œ ì¼ì£¼: 18ê°œ
ê³ ìœ í•œ ì¼ê°„: 9ì¢…ë¥˜: å·±, æˆŠ, ä¸™, å£¬, è¾›, ç™¸, ä¸, ç”², ä¹™

[90mstdout[2m | tests/10-couples-compatibility.test.ts[2m > [22m[2m10 Couples Compatibility Analysis[2m > [22m[2mperforms comprehensive saju analysis for each couple
[22m[39m
[ì»¤í”Œ1] ì² ìˆ˜ â™¥ ì˜í¬
  ì ìˆ˜: 84ì , ë“±ê¸‰: A
  ìš”ì•½: ðŸ’– ë§¤ìš° ì¢‹ì€ ê¶í•©ì´ì—ìš”! ì‚¬ì£¼ì˜ ëŒ€ë¶€ë¶„ì´ ì¡°í™”ë¡­ê²Œ ì–´ìš°ëŸ¬ì§€ê³  ìžˆì–´ìš”. ìž‘ì€ íŒŒë„ëŠ” ìžˆì„ ìˆ˜ ìžˆì§€ë§Œ, í° íë¦„ì€ ê°™ì€ ë°©í–¥ì„ í–¥í•˜ê³  ìžˆì–´ìš”. ì„œë¡œì— ëŒ€í•œ ë¯¿ìŒì„ ë°”íƒ•ìœ¼ë¡œ ì˜¤ëž˜ì˜¤ëž˜ í•¨ê»˜í•  ìˆ˜ ìžˆëŠ” ë“ ë“ í•œ ì¸ì—°ì´ì—ìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸ’« å·±ì™€ å·±ì˜ ì—ë„ˆì§€ê°€ íŽ¸ì•ˆí•˜ê²Œ íë¥´ëŠ” ê´€ê³„ì˜ˆìš”. í° íŒŒë„ ì—†ì´ ìž”ìž”í•˜ê²Œ í˜ëŸ¬ê°€ëŠ” ê°•ë¬¼ì²˜ëŸ¼, ì„œë¡œì—ê²Œ ì•ˆì •ê°ì„ ì£¼ë©° í•¨ê»˜ ì„±ìž¥í•´ ë‚˜ê°ˆ ìˆ˜ ìžˆì–´ìš”. ë…¸ë ¥ ì—†ì´ë„ ìžì—°ìŠ¤ëŸ½ê²Œ ë§žì¶°ì§€ëŠ” ë¶€ë¶„ì´ ë§Žë‹µë‹ˆë‹¤! / ðŸ‘¼ ì²œì„ê·€ì¸ì´ í•¨ê»˜í•´ìš”! ë§ˆì¹˜ í•˜ëŠ˜ì—ì„œ ë‚´ë ¤ì˜¨ ìˆ˜í˜¸ì²œì‚¬ê°€ ë‘ ì‚¬ëžŒì„ ì§€ì¼œë³´ëŠ” ê²ƒ ê°™ì•„ìš”. íž˜ë“  ìˆœê°„ì—ë„ ê·€ì¸ì´ ë‚˜íƒ€ë‚˜ ë„ì›€ì„ ì£¼ê³ , ìœ„ê¸°ê°€ ê¸°íšŒë¡œ ë°”ë€ŒëŠ” ì‹ ë¹„ë¡œìš´ ìš´ëª…ì˜ ë³´í˜¸ë§‰ì´ ìžˆë‹µë‹ˆë‹¤. í•¨ê»˜ë¼ë©´ ì–´ë–¤ ì–´ë ¤ì›€ë„ ê·¹ë³µí•  ìˆ˜ ìžˆì–´ìš”!

[ì»¤í”Œ2] ë¯¼ìˆ˜ â™¥ ìˆ˜ì§„
  ì ìˆ˜: 67ì , ë“±ê¸‰: B
  ìš”ì•½: ðŸ’« ê´œì°®ì€ ê¶í•©ì´ì—ìš”! ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ, í•¨ê»˜ ë§žì¶°ê°€ë©´ ì ì  ë” ì¢‹ì•„ì§ˆ ìˆ˜ ìžˆëŠ” ê´€ê³„ì˜ˆìš”. ë§ˆì¹˜ ì²˜ìŒì—” ì„œë¨¹í–ˆë˜ ë“€ì—£ì´ ì—°ìŠµì„ í†µí•´ í™˜ìƒì˜ í˜¸í¡ì„ ê°–ì¶”ê²Œ ë˜ëŠ” ê²ƒì²˜ëŸ¼ìš”. ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ ë¹›ì„ ë°œí•  ê±°ì˜ˆìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸ’« æˆŠì™€ ä¸™ì˜ ì—ë„ˆì§€ê°€ íŽ¸ì•ˆí•˜ê²Œ íë¥´ëŠ” ê´€ê³„ì˜ˆìš”. í° íŒŒë„ ì—†ì´ ìž”ìž”í•˜ê²Œ í˜ëŸ¬ê°€ëŠ” ê°•ë¬¼ì²˜ëŸ¼, ì„œë¡œì—ê²Œ ì•ˆì •ê°ì„ ì£¼ë©° í•¨ê»˜ ì„±ìž¥í•´ ë‚˜ê°ˆ ìˆ˜ ìžˆì–´ìš”. ë…¸ë ¥ ì—†ì´ë„ ìžì—°ìŠ¤ëŸ½ê²Œ ë§žì¶°ì§€ëŠ” ë¶€ë¶„ì´ ë§Žë‹µë‹ˆë‹¤! / ðŸ‘¼ ì²œì„ê·€ì¸ì´ í•¨ê»˜í•´ìš”! ë§ˆì¹˜ í•˜ëŠ˜ì—ì„œ ë‚´ë ¤ì˜¨ ìˆ˜í˜¸ì²œì‚¬ê°€ ë‘ ì‚¬ëžŒì„ ì§€ì¼œë³´ëŠ” ê²ƒ ê°™ì•„ìš”. íž˜ë“  ìˆœê°„ì—ë„ ê·€ì¸ì´ ë‚˜íƒ€ë‚˜ ë„ì›€ì„ ì£¼ê³ , ìœ„ê¸°ê°€ ê¸°íšŒë¡œ ë°”ë€ŒëŠ” ì‹ ë¹„ë¡œìš´ ìš´ëª…ì˜ ë³´í˜¸ë§‰ì´ ìžˆë‹µë‹ˆë‹¤. í•¨ê»˜ë¼ë©´ ì–´ë–¤ ì–´ë ¤ì›€ë„ ê·¹ë³µí•  ìˆ˜ ìžˆì–´ìš”!

[ì»¤í”Œ3] ì§€í›ˆ â™¥ ë¯¸ë‚˜
  ì ìˆ˜: 74ì , ë“±ê¸‰: B
  ìš”ì•½: ðŸ’« ê´œì°®ì€ ê¶í•©ì´ì—ìš”! ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ, í•¨ê»˜ ë§žì¶°ê°€ë©´ ì ì  ë” ì¢‹ì•„ì§ˆ ìˆ˜ ìžˆëŠ” ê´€ê³„ì˜ˆìš”. ë§ˆì¹˜ ì²˜ìŒì—” ì„œë¨¹í–ˆë˜ ë“€ì—£ì´ ì—°ìŠµì„ í†µí•´ í™˜ìƒì˜ í˜¸í¡ì„ ê°–ì¶”ê²Œ ë˜ëŠ” ê²ƒì²˜ëŸ¼ìš”. ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ ë¹›ì„ ë°œí•  ê±°ì˜ˆìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸ’« å£¬ì™€ è¾›ì˜ ì—ë„ˆì§€ê°€ íŽ¸ì•ˆí•˜ê²Œ íë¥´ëŠ” ê´€ê³„ì˜ˆìš”. í° íŒŒë„ ì—†ì´ ìž”ìž”í•˜ê²Œ í˜ëŸ¬ê°€ëŠ” ê°•ë¬¼ì²˜ëŸ¼, ì„œë¡œì—ê²Œ ì•ˆì •ê°ì„ ì£¼ë©° í•¨ê»˜ ì„±ìž¥í•´ ë‚˜ê°ˆ ìˆ˜ ìžˆì–´ìš”. ë…¸ë ¥ ì—†ì´ë„ ìžì—°ìŠ¤ëŸ½ê²Œ ë§žì¶°ì§€ëŠ” ë¶€ë¶„ì´ ë§Žë‹µë‹ˆë‹¤! / ðŸ“– ë¬¸ì°½ê·€ì¸ì˜ í•™ë¬¸ì  ê¸°ìš´ì´ ê´€ê³„ì— ê¹Šì´ë¥¼ ë”í•´ìš”! ì„œë¡œì—ê²Œ ì§€ì  ìžê·¹ì„ ì£¼ê³ ë°›ìœ¼ë©°, í•¨ê»˜ ì„±ìž¥í•˜ëŠ” ê²ƒì´ ì¦ê±°ìš´ 'í•™êµ¬íŒŒ ì»¤í”Œ'ì˜ ê¸°ì§ˆì´ ìžˆì–´ìš”. ë¶í´ëŸ½ì´ë‚˜ ìŠ¤í„°ë”” ë°ì´íŠ¸ ì–´ë•Œìš”?

[ì»¤í”Œ4] í˜„ìš° â™¥ ì†Œì—°
  ì ìˆ˜: 71ì , ë“±ê¸‰: B
  ìš”ì•½: ðŸ’« ê´œì°®ì€ ê¶í•©ì´ì—ìš”! ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ, í•¨ê»˜ ë§žì¶°ê°€ë©´ ì ì  ë” ì¢‹ì•„ì§ˆ ìˆ˜ ìžˆëŠ” ê´€ê³„ì˜ˆìš”. ë§ˆì¹˜ ì²˜ìŒì—” ì„œë¨¹í–ˆë˜ ë“€ì—£ì´ ì—°ìŠµì„ í†µí•´ í™˜ìƒì˜ í˜¸í¡ì„ ê°–ì¶”ê²Œ ë˜ëŠ” ê²ƒì²˜ëŸ¼ìš”. ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ ë¹›ì„ ë°œí•  ê±°ì˜ˆìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸŒŸ ç™¸(ìˆ˜)ì™€ å£¬(ìˆ˜)ì˜ ì‹­ì„±ì´ ë§ˆì¹˜ í¼ì¦ ì¡°ê°ì²˜ëŸ¼ ë”± ë§žì•„ë–¨ì–´ì ¸ìš”! ì„œë¡œì˜ ìž¥ì ì„ ê·¹ëŒ€í™”í•˜ê³  ë‹¨ì ì„ ìžì—°ìŠ¤ëŸ½ê²Œ ë³´ì™„í•˜ëŠ” 'ì²œìƒì—°ë¶„' ê¶í•©ì´ì—ìš”. í•¨ê»˜í•˜ë©´ 1+1=3ì´ ë˜ëŠ” ì‹œë„ˆì§€ê°€ í­ë°œí•©ë‹ˆë‹¤! / ðŸ‘¼ ì²œì„ê·€ì¸ì´ í•¨ê»˜í•´ìš”! ë§ˆì¹˜ í•˜ëŠ˜ì—ì„œ ë‚´ë ¤ì˜¨ ìˆ˜í˜¸ì²œì‚¬ê°€ ë‘ ì‚¬ëžŒì„ ì§€ì¼œë³´ëŠ” ê²ƒ ê°™ì•„ìš”. íž˜ë“  ìˆœê°„ì—ë„ ê·€ì¸ì´ ë‚˜íƒ€ë‚˜ ë„ì›€ì„ ì£¼ê³ , ìœ„ê¸°ê°€ ê¸°íšŒë¡œ ë°”ë€ŒëŠ” ì‹ ë¹„ë¡œìš´ ìš´ëª…ì˜ ë³´í˜¸ë§‰ì´ ìžˆë‹µë‹ˆë‹¤. í•¨ê»˜ë¼ë©´ ì–´ë–¤ ì–´ë ¤ì›€ë„ ê·¹ë³µí•  ìˆ˜ ìžˆì–´ìš”!

[ì»¤í”Œ5] ì¤€í˜ â™¥ ìœ ì§„
  ì ìˆ˜: 70ì , ë“±ê¸‰: B
  ìš”ì•½: ðŸ’« ê´œì°®ì€ ê¶í•©ì´ì—ìš”! ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ, í•¨ê»˜ ë§žì¶°ê°€ë©´ ì ì  ë” ì¢‹ì•„ì§ˆ ìˆ˜ ìžˆëŠ” ê´€ê³„ì˜ˆìš”. ë§ˆì¹˜ ì²˜ìŒì—” ì„œë¨¹í–ˆë˜ ë“€ì—£ì´ ì—°ìŠµì„ í†µí•´ í™˜ìƒì˜ í˜¸í¡ì„ ê°–ì¶”ê²Œ ë˜ëŠ” ê²ƒì²˜ëŸ¼ìš”. ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ ë¹›ì„ ë°œí•  ê±°ì˜ˆìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸ’« ä¸ì™€ ç”²ì˜ ì—ë„ˆì§€ê°€ íŽ¸ì•ˆí•˜ê²Œ íë¥´ëŠ” ê´€ê³„ì˜ˆìš”. í° íŒŒë„ ì—†ì´ ìž”ìž”í•˜ê²Œ í˜ëŸ¬ê°€ëŠ” ê°•ë¬¼ì²˜ëŸ¼, ì„œë¡œì—ê²Œ ì•ˆì •ê°ì„ ì£¼ë©° í•¨ê»˜ ì„±ìž¥í•´ ë‚˜ê°ˆ ìˆ˜ ìžˆì–´ìš”. ë…¸ë ¥ ì—†ì´ë„ ìžì—°ìŠ¤ëŸ½ê²Œ ë§žì¶°ì§€ëŠ” ë¶€ë¶„ì´ ë§Žë‹µë‹ˆë‹¤! / ðŸŒ¸ ì²œë•ê·€ì¸ì˜ ê¸°í’ˆì´ ê´€ê³„ì— í’ˆê²©ì„ ë”í•´ìš”! í•œ ì‚¬ëžŒì˜ ë•ë§ì´ ë‘ ì‚¬ëžŒ ëª¨ë‘ë¥¼ ë¹›ë‚˜ê²Œ í•˜ê³ , ì£¼ë³€ì˜ ì¡´ê²½ì„ ì´ëŒì–´ë‚´ëŠ” ê´€ê³„ëžë‹ˆë‹¤.

[ì»¤í”Œ6] ë™í˜„ â™¥ ì§€ì—°
  ì ìˆ˜: 65ì , ë“±ê¸‰: C
  ìš”ì•½: â­ ë…¸ë ¥ì´ í•„ìš”í•œ ê¶í•©ì´ì—ìš”! ì‚¬ì£¼ìƒ ë‹¤ë¥¸ ì ì´ ì¢€ ìžˆì§€ë§Œ, ê·¸ê²Œ ê¼­ ë‚˜ìœ ê±´ ì•„ë‹ˆì—ìš”. ë‹¤ë¦„ì€ ë°°ì›€ì˜ ê¸°íšŒê°€ ë  ìˆ˜ ìžˆì–´ìš”. ì„œë¡œì˜ ë‹¤ë¥¸ ì ì„ ì¸ì •í•˜ê³ , ì†Œí†µí•˜ë©°, ë§žì¶°ê°€ë©´ ì˜ì™¸ë¡œ ì¢‹ì€ íŒ€ì´ ë  ìˆ˜ ìžˆì–´ìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸ’« ä¸ì™€ ä¸™ì˜ ì—ë„ˆì§€ê°€ íŽ¸ì•ˆí•˜ê²Œ íë¥´ëŠ” ê´€ê³„ì˜ˆìš”. í° íŒŒë„ ì—†ì´ ìž”ìž”í•˜ê²Œ í˜ëŸ¬ê°€ëŠ” ê°•ë¬¼ì²˜ëŸ¼, ì„œë¡œì—ê²Œ ì•ˆì •ê°ì„ ì£¼ë©° í•¨ê»˜ ì„±ìž¥í•´ ë‚˜ê°ˆ ìˆ˜ ìžˆì–´ìš”. ë…¸ë ¥ ì—†ì´ë„ ìžì—°ìŠ¤ëŸ½ê²Œ ë§žì¶°ì§€ëŠ” ë¶€ë¶„ì´ ë§Žë‹µë‹ˆë‹¤! / ðŸ‘¼ ì²œì„ê·€ì¸ì´ í•¨ê»˜í•´ìš”! ë§ˆì¹˜ í•˜ëŠ˜ì—ì„œ ë‚´ë ¤ì˜¨ ìˆ˜í˜¸ì²œì‚¬ê°€ ë‘ ì‚¬ëžŒì„ ì§€ì¼œë³´ëŠ” ê²ƒ ê°™ì•„ìš”. íž˜ë“  ìˆœê°„ì—ë„ ê·€ì¸ì´ ë‚˜íƒ€ë‚˜ ë„ì›€ì„ ì£¼ê³ , ìœ„ê¸°ê°€ ê¸°íšŒë¡œ ë°”ë€ŒëŠ” ì‹ ë¹„ë¡œìš´ ìš´ëª…ì˜ ë³´í˜¸ë§‰ì´ ìžˆë‹µë‹ˆë‹¤. í•¨ê»˜ë¼ë©´ ì–´ë–¤ ì–´ë ¤ì›€ë„ ê·¹ë³µí•  ìˆ˜ ìžˆì–´ìš”!

[ì»¤í”Œ7] ì„±ë¯¼ â™¥ ì˜ˆë¦°
  ì ìˆ˜: 61ì , ë“±ê¸‰: C
  ìš”ì•½: â­ ë…¸ë ¥ì´ í•„ìš”í•œ ê¶í•©ì´ì—ìš”! ì‚¬ì£¼ìƒ ë‹¤ë¥¸ ì ì´ ì¢€ ìžˆì§€ë§Œ, ê·¸ê²Œ ê¼­ ë‚˜ìœ ê±´ ì•„ë‹ˆì—ìš”. ë‹¤ë¦„ì€ ë°°ì›€ì˜ ê¸°íšŒê°€ ë  ìˆ˜ ìžˆì–´ìš”. ì„œë¡œì˜ ë‹¤ë¥¸ ì ì„ ì¸ì •í•˜ê³ , ì†Œí†µí•˜ë©°, ë§žì¶°ê°€ë©´ ì˜ì™¸ë¡œ ì¢‹ì€ íŒ€ì´ ë  ìˆ˜ ìžˆì–´ìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸŒŸ å·±(í† )ì™€ å£¬(ìˆ˜)ì˜ ì‹­ì„±ì´ ë§ˆì¹˜ í¼ì¦ ì¡°ê°ì²˜ëŸ¼ ë”± ë§žì•„ë–¨ì–´ì ¸ìš”! ì„œë¡œì˜ ìž¥ì ì„ ê·¹ëŒ€í™”í•˜ê³  ë‹¨ì ì„ ìžì—°ìŠ¤ëŸ½ê²Œ ë³´ì™„í•˜ëŠ” 'ì²œìƒì—°ë¶„' ê¶í•©ì´ì—ìš”. í•¨ê»˜í•˜ë©´ 1+1=3ì´ ë˜ëŠ” ì‹œë„ˆì§€ê°€ í­ë°œí•©ë‹ˆë‹¤! / ðŸ“– ë¬¸ì°½ê·€ì¸ì˜ í•™ë¬¸ì  ê¸°ìš´ì´ ê´€ê³„ì— ê¹Šì´ë¥¼ ë”í•´ìš”! ì„œë¡œì—ê²Œ ì§€ì  ìžê·¹ì„ ì£¼ê³ ë°›ìœ¼ë©°, í•¨ê»˜ ì„±ìž¥í•˜ëŠ” ê²ƒì´ ì¦ê±°ìš´ 'í•™êµ¬íŒŒ ì»¤í”Œ'ì˜ ê¸°ì§ˆì´ ìžˆì–´ìš”. ë¶í´ëŸ½ì´ë‚˜ ìŠ¤í„°ë”” ë°ì´íŠ¸ ì–´ë•Œìš”?

[ì»¤í”Œ8] ìž¬ì› â™¥ í•˜ë‚˜
  ì ìˆ˜: 69ì , ë“±ê¸‰: B
  ìš”ì•½: ðŸ’« ê´œì°®ì€ ê¶í•©ì´ì—ìš”! ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ, í•¨ê»˜ ë§žì¶°ê°€ë©´ ì ì  ë” ì¢‹ì•„ì§ˆ ìˆ˜ ìžˆëŠ” ê´€ê³„ì˜ˆìš”. ë§ˆì¹˜ ì²˜ìŒì—” ì„œë¨¹í–ˆë˜ ë“€ì—£ì´ ì—°ìŠµì„ í†µí•´ í™˜ìƒì˜ í˜¸í¡ì„ ê°–ì¶”ê²Œ ë˜ëŠ” ê²ƒì²˜ëŸ¼ìš”. ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ ë¹›ì„ ë°œí•  ê±°ì˜ˆìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸ’« æˆŠì™€ å£¬ì˜ ì—ë„ˆì§€ê°€ íŽ¸ì•ˆí•˜ê²Œ íë¥´ëŠ” ê´€ê³„ì˜ˆìš”. í° íŒŒë„ ì—†ì´ ìž”ìž”í•˜ê²Œ í˜ëŸ¬ê°€ëŠ” ê°•ë¬¼ì²˜ëŸ¼, ì„œë¡œì—ê²Œ ì•ˆì •ê°ì„ ì£¼ë©° í•¨ê»˜ ì„±ìž¥í•´ ë‚˜ê°ˆ ìˆ˜ ìžˆì–´ìš”. ë…¸ë ¥ ì—†ì´ë„ ìžì—°ìŠ¤ëŸ½ê²Œ ë§žì¶°ì§€ëŠ” ë¶€ë¶„ì´ ë§Žë‹µë‹ˆë‹¤! / ðŸ“– ë¬¸ì°½ê·€ì¸ì˜ í•™ë¬¸ì  ê¸°ìš´ì´ ê´€ê³„ì— ê¹Šì´ë¥¼ ë”í•´ìš”! ì„œë¡œì—ê²Œ ì§€ì  ìžê·¹ì„ ì£¼ê³ ë°›ìœ¼ë©°, í•¨ê»˜ ì„±ìž¥í•˜ëŠ” ê²ƒì´ ì¦ê±°ìš´ 'í•™êµ¬íŒŒ ì»¤í”Œ'ì˜ ê¸°ì§ˆì´ ìžˆì–´ìš”. ë¶í´ëŸ½ì´ë‚˜ ìŠ¤í„°ë”” ë°ì´íŠ¸ ì–´ë•Œìš”?

[ì»¤í”Œ9] ìš°ì§„ â™¥ ì„œì—°
  ì ìˆ˜: 82ì , ë“±ê¸‰: A
  ìš”ì•½: ðŸ’– ë§¤ìš° ì¢‹ì€ ê¶í•©ì´ì—ìš”! ì‚¬ì£¼ì˜ ëŒ€ë¶€ë¶„ì´ ì¡°í™”ë¡­ê²Œ ì–´ìš°ëŸ¬ì§€ê³  ìžˆì–´ìš”. ìž‘ì€ íŒŒë„ëŠ” ìžˆì„ ìˆ˜ ìžˆì§€ë§Œ, í° íë¦„ì€ ê°™ì€ ë°©í–¥ì„ í–¥í•˜ê³  ìžˆì–´ìš”. ì„œë¡œì— ëŒ€í•œ ë¯¿ìŒì„ ë°”íƒ•ìœ¼ë¡œ ì˜¤ëž˜ì˜¤ëž˜ í•¨ê»˜í•  ìˆ˜ ìžˆëŠ” ë“ ë“ í•œ ì¸ì—°ì´ì—ìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸŒŸ ç™¸(ìˆ˜)ì™€ ä¹™(ëª©)ì˜ ì‹­ì„±ì´ ë§ˆì¹˜ í¼ì¦ ì¡°ê°ì²˜ëŸ¼ ë”± ë§žì•„ë–¨ì–´ì ¸ìš”! ì„œë¡œì˜ ìž¥ì ì„ ê·¹ëŒ€í™”í•˜ê³  ë‹¨ì ì„ ìžì—°ìŠ¤ëŸ½ê²Œ ë³´ì™„í•˜ëŠ” 'ì²œìƒì—°ë¶„' ê¶í•©ì´ì—ìš”. í•¨ê»˜í•˜ë©´ 1+1=3ì´ ë˜ëŠ” ì‹œë„ˆì§€ê°€ í­ë°œí•©ë‹ˆë‹¤! / ðŸ‘¼ ì²œì„ê·€ì¸ì´ í•¨ê»˜í•´ìš”! ë§ˆì¹˜ í•˜ëŠ˜ì—ì„œ ë‚´ë ¤ì˜¨ ìˆ˜í˜¸ì²œì‚¬ê°€ ë‘ ì‚¬ëžŒì„ ì§€ì¼œë³´ëŠ” ê²ƒ ê°™ì•„ìš”. íž˜ë“  ìˆœê°„ì—ë„ ê·€ì¸ì´ ë‚˜íƒ€ë‚˜ ë„ì›€ì„ ì£¼ê³ , ìœ„ê¸°ê°€ ê¸°íšŒë¡œ ë°”ë€ŒëŠ” ì‹ ë¹„ë¡œìš´ ìš´ëª…ì˜ ë³´í˜¸ë§‰ì´ ìžˆë‹µë‹ˆë‹¤. í•¨ê»˜ë¼ë©´ ì–´ë–¤ ì–´ë ¤ì›€ë„ ê·¹ë³µí•  ìˆ˜ ìžˆì–´ìš”!

[ì»¤í”Œ10] íƒœí˜„ â™¥ ì€ì§€
  ì ìˆ˜: 74ì , ë“±ê¸‰: B
  ìš”ì•½: ðŸ’« ê´œì°®ì€ ê¶í•©ì´ì—ìš”! ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ, í•¨ê»˜ ë§žì¶°ê°€ë©´ ì ì  ë” ì¢‹ì•„ì§ˆ ìˆ˜ ìžˆëŠ” ê´€ê³„ì˜ˆìš”. ë§ˆì¹˜ ì²˜ìŒì—” ì„œë¨¹í–ˆë˜ ë“€ì—£ì´ ì—°ìŠµì„ í†µí•´ í™˜ìƒì˜ í˜¸í¡ì„ ê°–ì¶”ê²Œ ë˜ëŠ” ê²ƒì²˜ëŸ¼ìš”. ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ ë¹›ì„ ë°œí•  ê±°ì˜ˆìš”!
  ì¸ì‚¬ì´íŠ¸: ðŸ’« ç”²ì™€ ä¸ì˜ ì—ë„ˆì§€ê°€ íŽ¸ì•ˆí•˜ê²Œ íë¥´ëŠ” ê´€ê³„ì˜ˆìš”. í° íŒŒë„ ì—†ì´ ìž”ìž”í•˜ê²Œ í˜ëŸ¬ê°€ëŠ” ê°•ë¬¼ì²˜ëŸ¼, ì„œë¡œì—ê²Œ ì•ˆì •ê°ì„ ì£¼ë©° í•¨ê»˜ ì„±ìž¥í•´ ë‚˜ê°ˆ ìˆ˜ ìžˆì–´ìš”. ë…¸ë ¥ ì—†ì´ë„ ìžì—°ìŠ¤ëŸ½ê²Œ ë§žì¶°ì§€ëŠ” ë¶€ë¶„ì´ ë§Žë‹µë‹ˆë‹¤! / ðŸ‘¼ ì²œì„ê·€ì¸ì´ í•¨ê»˜í•´ìš”! ë§ˆì¹˜ í•˜ëŠ˜ì—ì„œ ë‚´ë ¤ì˜¨ ìˆ˜í˜¸ì²œì‚¬ê°€ ë‘ ì‚¬ëžŒì„ ì§€ì¼œë³´ëŠ” ê²ƒ ê°™ì•„ìš”. íž˜ë“  ìˆœê°„ì—ë„ ê·€ì¸ì´ ë‚˜íƒ€ë‚˜ ë„ì›€ì„ ì£¼ê³ , ìœ„ê¸°ê°€ ê¸°íšŒë¡œ ë°”ë€ŒëŠ” ì‹ ë¹„ë¡œìš´ ìš´ëª…ì˜ ë³´í˜¸ë§‰ì´ ìžˆë‹µë‹ˆë‹¤. í•¨ê»˜ë¼ë©´ ì–´ë–¤ ì–´ë ¤ì›€ë„ ê·¹ë³µí•  ìˆ˜ ìžˆì–´ìš”!

ê³ ìœ í•œ ì ìˆ˜: 9ê°œ

[90mstdout[2m | tests/10-couples-compatibility.test.ts[2m > [22m[2m10 Couples Compatibility Analysis[2m > [22m[2manalyzes ten gods with personalized day master names
[22m[39m
[ì‹­ì„± ë¶„ì„]
Person1 ì£¼ìš” ì‹­ì„±: ë¹„ê²¬, íŽ¸ê´€, ì‹ì‹ , ì •ì¸
Person2 ì£¼ìš” ì‹­ì„±: ë¹„ê²¬, íŽ¸ìž¬, ì •ì¸, ì‹ì‹ 
ê´€ê³„ ì—­í•™: ðŸ’« å·±ì™€ å·±ì˜ ì—ë„ˆì§€ê°€ íŽ¸ì•ˆí•˜ê²Œ íë¥´ëŠ” ê´€ê³„ì˜ˆìš”. í° íŒŒë„ ì—†ì´ ìž”ìž”í•˜ê²Œ í˜ëŸ¬ê°€ëŠ” ê°•ë¬¼ì²˜ëŸ¼, ì„œë¡œì—ê²Œ ì•ˆì •ê°ì„ ì£¼ë©° í•¨ê»˜ ì„±ìž¥í•´ ë‚˜ê°ˆ ìˆ˜ ìžˆì–´ìš”. ë…¸ë ¥ ì—†ì´ë„ ìžì—°ìŠ¤ëŸ½ê²Œ ë§žì¶°ì§€ëŠ” ë¶€ë¶„ì´ ë§Žë‹µë‹ˆë‹¤!
ë„ì›€ ê´€ê³„: ðŸ’° å·±ì¼ê°„ì˜ ê²½ì œì  ê°ê°ì´ å·±ì¼ê°„ì˜ ë¦¬ë”ì‹­ì„ ë¹›ë‚˜ê²Œ í•©ë‹ˆë‹¤! í•œ ì‚¬ëžŒì´ ìžì›ì„ í™•ë³´í•˜ê³ , ë‹¤ë¥¸ ì‚¬ëžŒì´ ê·¸ê²ƒì„ ì‚¬íšŒì  ì˜í–¥ë ¥ìœ¼ë¡œ ì „í™˜í•˜ëŠ” ìµœê³ ì˜ íŒ€ì›Œí¬ì˜ˆìš”. / ðŸ“š å·±ì¼ê°„ì´ ì§€í˜œë¡œìš´ ì¡°ì–¸ìžì´ìž ì •ì‹ ì  ì§€ì£¼ ì—­í• ì„ í•´ìš”! ì¸ìƒì˜ ë°©í–¥ì„ ì œì‹œí•˜ê³ , íž˜ë“  ìˆœê°„ì— ë§ˆìŒì˜ ì•ˆì‹ì²˜ê°€ ë˜ì–´ì£¼ëŠ” 'ì˜í˜¼ì˜ ë©˜í† ' ê°™ì€ ì¡´ìž¬ëžë‹ˆë‹¤. / ðŸ“š å·±ì¼ê°„ì´ ê¹Šì€ í†µì°°ë ¥ìœ¼ë¡œ ë°©í–¥ì„ ì œì‹œí•´ìš”! ë§ˆì¹˜ ì¸ìƒì˜ ë„¤ë¹„ê²Œì´ì…˜ì²˜ëŸ¼, ë³µìž¡í•œ ìƒí™©ì—ì„œë„ í˜„ëª…í•œ í•´ë‹µì„ ì°¾ì•„ì£¼ëŠ” ì§€í˜œë¡œìš´ íŒŒíŠ¸ë„ˆì˜ˆìš”. / âœ¨ å·±ì¼ê°„ì˜ ë°˜ì§ì´ëŠ” ì•„ì´ë””ì–´ê°€ å·±ì¼ê°„ì„ í†µí•´ í˜„ê¸ˆìœ¼ë¡œ ë°”ë€Œì–´ìš”! ì°½ì˜ë ¥ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ê°ê°ì˜ í™˜ìƒì ì¸ ì½œë¼ë³´ë ˆì´ì…˜ - í•¨ê»˜ë¼ë©´ ë¬´ì—ì„œ ìœ ë¥¼ ì°½ì¡°í•  ìˆ˜ ìžˆëŠ” ë§ˆë²• ê°™ì€ ê¶í•©! / ðŸŽ“ ì‚¬íšŒì  ê¶Œìœ„ì™€ í•™ë¬¸ì  ê¹Šì´ê°€ ì•„ë¦„ë‹µê²Œ ì–´ìš°ëŸ¬ì§€ëŠ” ê´€ê³„! í•œ ì‚¬ëžŒì˜ ì¹´ë¦¬ìŠ¤ë§ˆì™€ ë‹¤ë¥¸ ì‚¬ëžŒì˜ ì§€í˜œê°€ ë§Œë‚˜, ì„œë¡œë¥¼ ë” ë†’ì€ ê³³ìœ¼ë¡œ ëŒì–´ì˜¬ë ¤ì£¼ëŠ” 'ìƒìŠ¹ì˜ ë‚˜ì„ ' ê°™ì€ ê¶í•©ì´ì—ìš”. / ðŸ¤ ê³µí†µ ì‹­ì„±(ë¹„ê²¬, ì‹ì‹ , ì •ì¸)ì´ ìžˆì–´ì„œ "ì•„, ë„ˆë„ ê·¸ëž˜?" í•˜ëŠ” ìˆœê°„ì´ ë§Žì„ ê±°ì˜ˆìš”! ë§í•˜ì§€ ì•Šì•„ë„ í†µí•˜ëŠ” ëŠë‚Œ, ë¹„ìŠ·í•œ ê°€ì¹˜ê´€ìœ¼ë¡œ ê¹Šì€ ìœ ëŒ€ê°ì„ ëŠë‚„ ìˆ˜ ìžˆëŠ” 'ì†Œìš¸ë©”ì´íŠ¸' ê¸°ì§ˆì´ ìžˆì–´ìš”.
ì¶©ëŒ ê´€ê³„: âš”ï¸ ëˆ ì•žì—ì„œ ê²½ìŸì‹¬ì´ ë°œë™í•  ìˆ˜ ìžˆì–´ìš”! "ì´ê±´ ë‚´ ê±°!" vs "ë‚˜ë„ í•„ìš”í•´!"ì˜ íŒ½íŒ½í•œ ê¸´ìž¥ê°... ìž¬ì • ë¬¸ì œëŠ” ë¯¸ë¦¬ë¯¸ë¦¬ íˆ¬ëª…í•˜ê²Œ ì†Œí†µí•˜ê³ , ê°ìžì˜ ì˜ì—­ì„ ëª…í™•ížˆ í•´ë‘ëŠ” ê²Œ í˜„ëª…í•´ìš”. / ðŸ¤” "ìžìœ ë¡­ê²Œ í‘œí˜„í•˜ê³  ì‹¶ì–´!" vs "ê¹Šì´ ìƒê°í•˜ê³  ì‹ ì¤‘í•˜ê²Œ!" - ì°½ì˜ì ì¸ ì˜í˜¼ê³¼ ì‹ ì¤‘í•œ í•™ìžì˜ ë§Œë‚¨ì€ ë•Œë¡œ ë¶ˆê½ƒ íŠ€ëŠ” í† ë¡ ì´ ë  ìˆ˜ ìžˆì–´ìš”. í•˜ì§€ë§Œ ì´ ê¸´ìž¥ê°ì´ ì˜¤ížˆë ¤ ì„œë¡œë¥¼ ì„±ìž¥ì‹œí‚¤ëŠ” ìžê·¹ì œê°€ ë  ìˆ˜ë„!

[90mstdout[2m | tests/10-couples-compatibility.test.ts[2m > [22m[2m10 Couples Compatibility Analysis[2m > [22m[2manalyzes shinsals (divine spirits)
[22m[39m
[ì‹ ì‚´ ë¶„ì„]
ë¯¼ìˆ˜ ì‹ ì‚´: ì²œì„ê·€ì¸, í™”ê°œì‚´
ìˆ˜ì§„ ì‹ ì‚´: ì²œì„ê·€ì¸, ë¬¸ì°½ê·€ì¸, ì²œë•ê·€ì¸, ì–‘ì¸ì‚´, ê²ì‚´, í™”ê°œì‚´
ê¸¸í•œ ìƒí˜¸ìž‘ìš©: ðŸ‘¼ ì²œì„ê·€ì¸ì´ í•¨ê»˜í•´ìš”! ë§ˆì¹˜ í•˜ëŠ˜ì—ì„œ ë‚´ë ¤ì˜¨ ìˆ˜í˜¸ì²œì‚¬ê°€ ë‘ ì‚¬ëžŒì„ ì§€ì¼œë³´ëŠ” ê²ƒ ê°™ì•„ìš”. íž˜ë“  ìˆœê°„ì—ë„ ê·€ì¸ì´ ë‚˜íƒ€ë‚˜ ë„ì›€ì„ ì£¼ê³ , ìœ„ê¸°ê°€ ê¸°íšŒë¡œ ë°”ë€ŒëŠ” ì‹ ë¹„ë¡œìš´ ìš´ëª…ì˜ ë³´í˜¸ë§‰ì´ ìžˆë‹µë‹ˆë‹¤. í•¨ê»˜ë¼ë©´ ì–´ë–¤ ì–´ë ¤ì›€ë„ ê·¹ë³µí•  ìˆ˜ ìžˆì–´ìš”! / ðŸŒ¸ ì²œë•ê·€ì¸ì˜ ê¸°í’ˆì´ ê´€ê³„ì— í’ˆê²©ì„ ë”í•´ìš”! í•œ ì‚¬ëžŒì˜ ë•ë§ì´ ë‘ ì‚¬ëžŒ ëª¨ë‘ë¥¼ ë¹›ë‚˜ê²Œ í•˜ê³ , ì£¼ë³€ì˜ ì¡´ê²½ì„ ì´ëŒì–´ë‚´ëŠ” ê´€ê³„ëžë‹ˆë‹¤. / ðŸ“– ë¬¸ì°½ê·€ì¸ì˜ í•™ë¬¸ì  ê¸°ìš´ì´ ê´€ê³„ì— ê¹Šì´ë¥¼ ë”í•´ìš”! ì„œë¡œì—ê²Œ ì§€ì  ìžê·¹ì„ ì£¼ê³ ë°›ìœ¼ë©°, í•¨ê»˜ ì„±ìž¥í•˜ëŠ” ê²ƒì´ ì¦ê±°ìš´ 'í•™êµ¬íŒŒ ì»¤í”Œ'ì˜ ê¸°ì§ˆì´ ìžˆì–´ìš”. ë¶í´ëŸ½ì´ë‚˜ ìŠ¤í„°ë”” ë°ì´íŠ¸ ì–´ë•Œìš”? / ðŸŽ¨ ë”ë¸” í™”ê°œì‚´! ì˜ˆìˆ ì  ê°ì„±ì´ í’ë¶€í•œ 'ì•„í‹°ìŠ¤íŠ¸ ì»¤í”Œ'ì´ì—ìš”! í•¨ê»˜ ë¯¸ìˆ ê´€ì„ ê°€ê³ , ìŒì•…ì„ ë“£ê³ , ì°½ìž‘í™œë™ì„ í•˜ë©´ ì„œë¡œì—ê²Œ ì˜ê°ì„ ì£¼ëŠ” ë®¤ì¦ˆê°€ ë  ìˆ˜ ìžˆì–´ìš”. ì„¸ìƒì˜ ì•„ë¦„ë‹¤ì›€ì„ í•¨ê»˜ ë°œê²¬í•˜ëŠ” ì—¬ì •ì´ ê¸°ë‹¤ë ¤ìš”!
í‰í•œ ìƒí˜¸ìž‘ìš©: âš”ï¸ ì–‘ì¸ì‚´ì˜ ë‚ ì¹´ë¡œìš´ ì—ë„ˆì§€ê°€ ìžˆì–´ìš”! ì¶”ì§„ë ¥ì´ ê°•í•˜ê³  ê²°ë‹¨ë ¥ì´ ìžˆì§€ë§Œ, ë•Œë¡œëŠ” ìƒëŒ€ë°©ì—ê²Œ ë‚ ì¹´ë¡­ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìžˆì–´ìš”. ì¹¼ë‚ ì„ ë‹¤ë“¬ì–´ í•¨ê»˜ ìš”ë¦¬í•˜ëŠ” ë„êµ¬ë¡œ ì“°ë©´ ë©‹ì§„ ì‹œë„ˆì§€ê°€ ë‚˜ìš”! / ðŸŒªï¸ ê²ì‚´ì˜ ê¸°ìš´ì´ ìžˆì–´ì„œ ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”ê°€ ì°¾ì•„ì˜¬ ìˆ˜ ìžˆì–´ìš”! í•˜ì§€ë§Œ í•¨ê»˜ë¼ë©´ ì–´ë–¤ íŒŒë„ë„ ë„˜ì„ ìˆ˜ ìžˆì–´ìš”. ì„œë¡œë¥¼ ë‹» ì‚¼ì•„ í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ì•ˆì •ê°ì„ ë§Œë“¤ì–´ê°€ì„¸ìš”.
ì „ì²´ ì˜í–¥: very_positive

[90mstdout[2m | tests/10-couples-compatibility.test.ts[2m > [22m[2m10 Couples Compatibility Analysis[2m > [22m[2manalyzes harmonies and conflicts
[22m[39m
[í•© ë¶„ì„]
ìœ¡í•©: ì—†ìŒ
ì‚¼í•©: ì‚¼í•© ç”³-å­-è¾° í˜•ì„± / ì‚¼í•© äº¥-æœª í˜•ì„±
ë°©í•©: ê¸ˆë°©í•© í˜•ì„± / ìˆ˜ë°©í•© í˜•ì„±
í•© ì ìˆ˜: 80ì 

[ì¶©í˜•íŒŒí•´ ë¶„ì„]
ì¶©: ì—†ìŒ
í˜•: í˜• ê´€ê³„ æœª-æˆŒ
íŒŒ: ì—†ìŒ
í•´: ì—†ìŒ
ì‹¬ê°ë„: mild

[90mstdout[2m | tests/10-couples-compatibility.test.ts[2m > [22m[2m10 Couples Compatibility Analysis[2m > [22m[2manalyzes yongsin compatibility
[22m[39m
[ìš©ì‹ /í¬ì‹  ë¶„ì„]
í˜„ìš° ìš©ì‹ : metal, í¬ì‹ : earth
ì†Œì—° ìš©ì‹ : earth, í¬ì‹ : fire
ìƒí˜¸ ë³´ì™„: ì•„ë‹ˆì˜¤
ê¶í•©ë„: 75ì 
í•´ì„: ðŸ’« ç™¸ì¼ê°„ì´ å£¬ì¼ê°„ì—ê²Œ í•„ìš”í•œ í† (ì•ˆì •, ì‹ ë¢°, ì¤‘ì‹¬ì˜) ì—ë„ˆì§€ì˜ ì›ì²œì´ì—ìš”! å£¬ì¼ê°„ì€ ç™¸ì¼ê°„ê³¼ í•¨ê»˜í•  ë•Œ ë” ê· í˜• ìž¡ížˆê³  ì™„ì „í•´ì§€ëŠ” ëŠë‚Œì„ ë°›ì„ ê±°ì˜ˆìš”.

[90mstdout[2m | tests/10-couples-compatibility.test.ts[2m > [22m[2m10 Couples Compatibility Analysis[2m > [22m[2manalyzes all advanced analyses for one couple
[22m[39m
[ê³µë§ ë¶„ì„]
ì¤€í˜ ê³µë§: æˆŒ, äº¥
ìœ ì§„ ê³µë§: æˆŒ, äº¥
ì˜í–¥: positive
í•´ì„: ðŸŽ¯ ê³µë§ ì¶©ëŒì´ ì—†ì–´ìš”! ì„œë¡œì˜ ì¡´ìž¬ê°€ ë˜ë ·í•˜ê²Œ ì¸ì‹ë˜ëŠ” ê´€ê³„ì˜ˆìš”. / ðŸ’– ë‘ ë¶„ì€ ì„œë¡œì—ê²Œ ìžì—°ìŠ¤ëŸ½ê²Œ ê¸°ì–µì— ë‚¨ëŠ” ì‚¬ëžŒì´ì—ìš”. 'ê·¸ ì‚¬ëžŒ ìƒê°ì´ ë‚˜ë„¤...' í•˜ê³  ë¬¸ë“ë¬¸ë“ ë– ì˜¤ë¥´ëŠ” ì¡´ìž¬ê° ìžˆëŠ” ê´€ê³„! ì•ˆê°œ ì—†ì´ ë§‘ì€ í•˜ëŠ˜ ì•„ëž˜ì„œ ì„œë¡œë¥¼ ë°”ë¼ë³´ëŠ” ê²ƒ ê°™ì€ ì¸ì—°ì´ì—ìš”.

[ì²œê°„í•© ë¶„ì„]
ì²œê°„í•© ìˆ˜: 1ê°œ
ì´ ì¡°í™”: 20ì 
ì˜ë¯¸: âœ¨ ì²œê°„í•©ì´ í•˜ë‚˜ ìžˆì–´ìš”! íŠ¹ì • ì˜ì—­ì—ì„œ ì°°ë–¡ê¶í•©ì„ ë³´ì—¬ì£¼ëŠ” ê´€ê³„ì˜ˆìš”. ì´ í•©ì´ ìž‘ìš©í•˜ëŠ” ë¶„ì•¼(ì¼, ê°ì •, ê°€ì • ë“±)ì—ì„œëŠ” ë§ˆì¹˜ ì˜¤ëžœ íŒŒíŠ¸ë„ˆì²˜ëŸ¼ ìžì—°ìŠ¤ëŸ½ê²Œ í˜‘ë ¥í•  ìˆ˜ ìžˆì–´ìš”. ìž‘ì§€ë§Œ í™•ì‹¤í•œ ì—°ê²°ê³ ë¦¬ê°€ ë‘ ë¶„ì„ ì´ì–´ì£¼ê³  ìžˆì–´ìš”.

[ê²©êµ­ ë¶„ì„]
ì¤€í˜ ê²©êµ­: ì‹ì‹ ê²©
ìœ ì§„ ê²©êµ­: ì •ì¸ê²©
ê¶í•©: neutral
ì—­í•™: ðŸŒˆ ì‹ì‹ ê²©ì™€ ì •ì¸ê²©ì˜ ë§Œë‚¨ì€ ì„œë¡œ ë‹¤ë¥¸ ìƒ‰ê¹”ì˜ ì¡°í™”ì˜ˆìš”! ë‹¤ì–‘ì„±ì´ ê´€ê³„ë¥¼ í’ìš”ë¡­ê²Œ ë§Œë“¤ì–´ìš”.

[12ìš´ì„± ë¶„ì„]
ì¤€í˜ ì¼ì§€ ìš´ì„±: å·³ â†’ ê±´ë¡
ìœ ì§„ ì¼ì§€ ìš´ì„±: å­ â†’ ëª©ìš•
ì—ë„ˆì§€ ê¶í•©: 60ì 
í•´ì„: âš–ï¸ ä¸ì¼ê°„(ê±´ë¡)ê³¼ ç”²ì¼ê°„(ëª©ìš•), ì—ë„ˆì§€ ë ˆë²¨ì´ ì ë‹¹ížˆ ê· í˜• ìž¡í˜€ ìžˆì–´ìš”! ê·¹ê³¼ ê·¹ì´ ì•„ë‹ˆë¼ì„œ ì„œë¡œë¥¼ ì´í•´í•˜ê¸° ì‰½ê³ , ë¹„ìŠ·í•œ íŽ˜ì´ìŠ¤ë¡œ í•¨ê»˜ ê±¸ì–´ê°ˆ ìˆ˜ ìžˆì–´ìš”. / ðŸŽµ ë§ˆì¹˜ í…œí¬ê°€ ë¹„ìŠ·í•œ ë‘ ë…¸ëž˜ê°€ ìžì—°ìŠ¤ëŸ½ê²Œ ì–´ìš°ëŸ¬ì§€ëŠ” ê²ƒì²˜ëŸ¼, ë¬´ë¦¬ ì—†ì´ ì¡°í™”ë¡œìš´ ê´€ê³„ë¥¼ ë§Œë“¤ì–´ê°ˆ ìˆ˜ ìžˆì–´ìš”. ì•ˆì •ê° ì†ì—ì„œ ì²œì²œížˆ ê¹Šì–´ì§€ëŠ” ì‚¬ëž‘ì´ì—ìš”!

[90mstdout[2m | tests/10-couples-compatibility.test.ts[2m > [22m[2m10 Couples Compatibility Analysis[2m > [22m[2mensures all couples have different analyses
[22m[39m
[ì „ì²´ ê²°ê³¼ ë¹„êµ]
ì ìˆ˜ ë¶„í¬: 84, 67, 74, 71, 70, 65, 61, 69, 82, 74
ë“±ê¸‰ ë¶„í¬: A, B, B, B, B, C, C, B, A, B
ê³ ìœ  ì ìˆ˜: 9ê°œ
ê³ ìœ  ë“±ê¸‰: 3ì¢…ë¥˜

 [32mâœ“[39m tests/10-couples-compatibility.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 235[2mms[22m[39m
[90mstderr[2m | tests/hooks/calendar/useSavedDates.test.ts[2m > [22m[2museSavedDates[2m > [22m[2mtoggleSave - saving[2m > [22m[2mshould handle save error
[22m[39m{"level":"error","message":"[useSavedDates] Toggle save failed","timestamp":"2026-01-29T08:55:52.152Z","context":{"error":"Network error"}}

[90mstderr[2m | tests/hooks/calendar/useSavedDates.test.ts[2m > [22m[2museSavedDates[2m > [22m[2mtoggleSave - saving[2m > [22m[2mshould handle non-ok response
[22m[39m{"level":"error","message":"[useSavedDates] Toggle save failed","timestamp":"2026-01-29T08:55:52.170Z","context":{"error":"HTTP 500"}}

[90mstderr[2m | tests/hooks/calendar/useSavedDates.test.ts[2m > [22m[2museSavedDates[2m > [22m[2mtoggleSave - unsaving[2m > [22m[2mshould handle unsave error
[22m[39m{"level":"error","message":"[useSavedDates] Toggle save failed","timestamp":"2026-01-29T08:55:52.180Z","context":{"error":"Network error"}}

 [32mâœ“[39m tests/lib/validateEnv.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 215[2mms[22m[39m
[90mstderr[2m | tests/lib/destiny-map/prompt/fortune/base/structuredPrompt.test.ts[2m > [22m[2mstructuredPrompt - parseStructuredResponse[2m > [22m[2mEdge cases[2m > [22m[2mshould handle malformed JSON
[22m[39m{"level":"error","message":"[parseStructuredResponse] Error:","timestamp":"2026-01-29T08:55:52.092Z","error":{"message":"Expected property name or '}' in JSON at position 2 (line 1 column 3)","name":"SyntaxError","stack":"SyntaxError: Expected property name or '}' in JSON at position 2 (line 1 column 3)\n    at JSON.parse (<anonymous>)\n    at parseStructuredResponse (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\destiny-map\\prompt\\fortune\\base\\structuredPrompt.ts:752:27)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\lib\\destiny-map\\prompt\\fortune\\base\\structuredPrompt.test.ts:1155:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}}

 [32mâœ“[39m tests/hooks/calendar/useSavedDates.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 196[2mms[22m[39m
 [32mâœ“[39m tests/components/VisitorStats.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[32m 199[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/prompt/fortune/base/structuredPrompt.test.ts [2m([22m[2m93 tests[22m[2m)[22m[33m 389[2mms[22m[39m
 [32mâœ“[39m tests/lib/tarot-integration.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 158[2mms[22m[39m
 [32mâœ“[39m tests/advancedSajuCore.test.ts [2m([22m[2m48 tests[22m[2m)[22m[32m 122[2mms[22m[39m
 [32mâœ“[39m tests/lib/security/tokenCrypto.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 225[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useLifePredictionPhase.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 225[2mms[22m[39m
 [32mâœ“[39m tests/lib/logger/logger-index.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 115[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/analyzer-integration.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 278[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/data/minor-arcana.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 142[2mms[22m[39m
 [32mâœ“[39m tests/pillarLookup.test.ts [2m([22m[2m61 tests[22m[2m)[22m[33m 450[2mms[22m[39m
   [33m[2mâœ“[22m[39m getNaeum / getNaeumElement[2m > [22mreturns null for invalid pillar [33m 337[2mms[22m[39m
 [32mâœ“[39m tests/lib/logger/index.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 202[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/currentTimingAnalyzer.test.ts [2m([22m[2m58 tests[22m[2m)[22m[32m 97[2mms[22m[39m
 [32mâœ“[39m tests/lib/errors/ApiError.mega.test.ts [2m([22m[2m70 tests[22m[2m)[22m[32m 91[2mms[22m[39m
 [32mâœ“[39m tests/lib/constants/routes.test.ts [2m([22m[2m64 tests[22m[2m)[22m[32m 132[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/errors.test.ts [2m([22m[2m48 tests[22m[2m)[22m[32m 170[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useLifePredictionState.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 150[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/sajuStatistics.test.ts [2m([22m[2m90 tests[22m[2m)[22m[32m 270[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction-helpers.test.ts [2m([22m[2m121 tests[22m[2m)[22m[32m 114[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/comprehensive.test.ts [2m([22m[2m50 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/index.test.ts [2m([22m[2m77 tests[22m[2m)[22m[32m 151[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/healthCareer.test.ts [2m([22m[2m71 tests[22m[2m)[22m[32m 158[2mms[22m[39m
 [32mâœ“[39m tests/lib/payments/prices.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 730[2mms[22m[39m
   [33m[2mâœ“[22m[39m Payments Prices Module[2m > [22mshould export PlanKey type [33m 704[2mms[22m[39m
[90mstderr[2m | tests/saju-calculation.test.ts[2m > [22m[2mSaju Calculation: Edge Cases[2m > [22m[2mhandles very old dates (1900s) - throws error for unsupported range
[22m[39m{"level":"error","message":"[saju.ts] Error during Saju data calculation:","timestamp":"2026-01-29T08:56:03.988Z","error":{"message":"Supported solar-term year range is 1940â€“2050. Received: 1900.","name":"RangeError","stack":"RangeError: Supported solar-term year range is 1940â€“2050. Received: 1900.\n    at assertKasiYearInRange (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\Saju\\constants.ts:122:11)\n    at calculateSajuData (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\lib\\Saju\\saju.ts:118:5)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\saju-calculation.test.ts:475:18\n    at Proxy.assertThrows (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:2767:5)\n    at Proxy.methodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1686:25)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1088:12)\n    at Proxy.overwritingMethodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1735:33)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1420:16)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1686:25)"}}

 [32mâœ“[39m tests/saju-calculation.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 230[2mms[22m[39m
[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2mgoToPrevMonth[2m > [22m[2mshould navigate to previous month
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2mgoToPrevMonth[2m > [22m[2mshould handle year boundary - January to December
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2mgoToNextMonth[2m > [22m[2mshould navigate to next month
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2mgoToNextMonth[2m > [22m[2mshould handle year boundary - December to January
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2msequential navigation[2m > [22m[2mshould handle multiple prev month navigations
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2msequential navigation[2m > [22m[2mshould handle multiple next month navigations
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2msequential navigation[2m > [22m[2mshould handle mixed navigation
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2medge cases[2m > [22m[2mshould handle leap year February to March
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2medge cases[2m > [22m[2mshould handle navigation across multiple years
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/hooks/calendar/useMonthNavigation.test.ts[2m > [22m[2museMonthNavigation[2m > [22m[2medge cases[2m > [22m[2mshould handle rapid navigation
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m tests/hooks/calendar/useMonthNavigation.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 178[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/validator.mega.test.ts [2m([22m[2m63 tests[22m[2m)[22m[32m 123[2mms[22m[39m
 [32mâœ“[39m tests/app/api/admin/metrics/route.mega.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 119[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/sanitizers.mega.test.ts [2m([22m[2m141 tests[22m[2m)[22m[32m 87[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/report-helpers.test.ts [2m([22m[2m118 tests[22m[2m)[22m[32m 292[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useTarotDemo.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 186[2mms[22m[39m
 [32mâœ“[39m tests/lib/ai/ai-summarize.test.ts [2m([22m[2m16 tests[22m[2m)[22m[33m 754[2mms[22m[39m
   [33m[2mâœ“[22m[39m AI Summarize Module Exports[2m > [22mshould export summarizeConversation function [33m 719[2mms[22m[39m
[90mstderr[2m | tests/lib/api/errorResponse.mega.test.ts[2m > [22m[2merrorResponse MEGA - withErrorHandling[2m > [22m[2mshould catch and convert errors
[22m[39m{"level":"error","message":"[API Handler Error]","timestamp":"2026-01-29T08:56:06.581Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/api/errorResponse.mega.test.ts[2m > [22m[2merrorResponse MEGA - withErrorHandling[2m > [22m[2mshould include stack in development
[22m[39m{"level":"error","message":"[API Handler Error]","timestamp":"2026-01-29T08:56:06.587Z","context":{"error":{}}}

[90mstderr[2m | tests/lib/api/errorResponse.mega.test.ts[2m > [22m[2merrorResponse MEGA - withErrorHandling[2m > [22m[2mshould not include stack in production
[22m[39m{"level":"error","message":"[API Handler Error]","timestamp":"2026-01-29T08:56:06.616Z","context":{"error":{}}}
{"level":"error","message":"[API Error]","timestamp":"2026-01-29T08:56:06.616Z","context":{"requestId":"Ld-qAgNAtu","code":"INTERNAL_ERROR","status":500,"message":"Test","details":{}}}

[90mstderr[2m | tests/lib/api/errorResponse.mega.test.ts[2m > [22m[2merrorResponse MEGA - withErrorHandling[2m > [22m[2mshould handle non-Error objects
[22m[39m{"level":"error","message":"[API Handler Error]","timestamp":"2026-01-29T08:56:06.630Z","context":{"error":"string error"}}

 [32mâœ“[39m tests/lib/api/errorResponse.mega.test.ts [2m([22m[2m111 tests[22m[2m)[22m[32m 175[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/iChingData.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 151[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/analyzer-validation.test.ts [2m([22m[2m45 tests[22m[2m)[22m[32m 263[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/providers/emailProviders.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 271[2mms[22m[39m
 [32mâœ“[39m tests/hooks/usePersonaMemory.test.ts [2m([22m[2m23 tests[22m[2m)[22m[33m 791[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/hooks/useInlineTarotState.test.ts [2m([22m[2m40 tests[22m[2m)[22m[33m 541[2mms[22m[39m
 [32mâœ“[39m tests/lib/marketing/marketing-modules.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 116[2mms[22m[39m
 [32mâœ“[39m tests/components/HeroSection.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[32m 174[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/tarot-data.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 154[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/timingScore.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 99[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/analyzer-boundary.test.ts [2m([22m[2m68 tests[22m[2m)[22m[32m 82[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/stemBranchUtils.mega.test.ts [2m([22m[2m434 tests[22m[2m)[22m[33m 379[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/element-utils.mega.test.ts [2m([22m[2m199 tests[22m[2m)[22m[33m 530[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/engine.test.ts [2m([22m[2m272 tests[22m[2m)[22m[32m 139[2mms[22m[39m
 [32mâœ“[39m tests/security.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 189[2mms[22m[39m
 [32mâœ“[39m tests/app/api/me/route.mega.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 76[2mms[22m[39m
 [32mâœ“[39m tests/lib/comprehensive-imports.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 69[2mms[22m[39m
 [32mâœ“[39m tests/lib/streaming/serverStreamProxy.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 186[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useCardReveal.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 186[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrology/natal-calculations.mega.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 195[2mms[22m[39m
 [32mâœ“[39m tests/contexts/ConsentContext.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[32m 266[2mms[22m[39m
 [32mâœ“[39m tests/contexts/CalendarContext.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[32m 182[2mms[22m[39m
 [32mâœ“[39m tests/lib/validation/calendar-schema.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/schemas.test.ts [2m([22m[2m57 tests[22m[2m)[22m[32m 164[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/relation-analysis.test.ts [2m([22m[2m60 tests[22m[2m)[22m[32m 124[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/tarot-storage.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 108[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/templates.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 163[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/constants.test.ts [2m([22m[2m104 tests[22m[2m)[22m[32m 142[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/ultra-precision-daily.test.ts [2m([22m[2m94 tests[22m[2m)[22m[32m 154[2mms[22m[39m
 [32mâœ“[39m tests/lib/credits/withCredits.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/data/major-arcana.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 232[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/timezone.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 147[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/validator.test.ts [2m([22m[2m60 tests[22m[2m)[22m[32m 132[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/eventCorrelation.test.ts [2m([22m[2m47 tests[22m[2m)[22m[32m 75[2mms[22m[39m
 [32mâœ“[39m tests/app/api/destiny-matrix/route.mega.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 109[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/ichingPatterns.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 167[2mms[22m[39m
 [32mâœ“[39m tests/lib/marketing/imageGenerator.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 69[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/analyzer-stress.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 129[2mms[22m[39m
 [32mâœ“[39m tests/app/api/content-access/route.mega.test.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 526[2mms[22m[39m
   [33m[2mâœ“[22m[39m POST /api/content-access[2m > [22mshould save content access record successfully [33m 337[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useCityAutocomplete.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 227[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/advancedIChingCore.test.ts [2m([22m[2m65 tests[22m[2m)[22m[32m 93[2mms[22m[39m
 [32mâœ“[39m tests/lib/apiGuard.comprehensive.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 86[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/ultra-precision-constants.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 105[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/strategies/InvestmentStrategy.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useCardSelection.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 139[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/ichingStatistics.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 124[2mms[22m[39m
 [32mâœ“[39m tests/lib/referral/referralService.test.ts [2m([22m[2m58 tests[22m[2m)[22m[32m 76[2mms[22m[39m
 [32mâœ“[39m tests/sajuIntegrity.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 112[2mms[22m[39m
 [32mâœ“[39m tests/tarotStorage.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 119[2mms[22m[39m
 [32mâœ“[39m tests/lib/marketing/socialMediaPoster.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 167[2mms[22m[39m
 [32mâœ“[39m tests/lib/datetime/timezone.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 225[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/templates/subscriptionConfirm.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 243[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/tabs/data/karma-data.test.ts [2m([22m[2m48 tests[22m[2m)[22m[32m 153[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/zodValidation.test.ts [2m([22m[2m67 tests[22m[2m)[22m[32m 96[2mms[22m[39m
[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when DATABASE_URL is missing
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - DATABASE_URL: Invalid input: expected string, received undefined

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when DATABASE_URL is invalid URL
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - DATABASE_URL: Invalid URL

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when NEXTAUTH_SECRET is too short
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - NEXTAUTH_SECRET: Too small: expected string to have >=32 characters

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when NEXTAUTH_URL is invalid
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - NEXTAUTH_URL: Invalid URL

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when STRIPE_SECRET_KEY missing sk_ prefix
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - STRIPE_SECRET_KEY: Invalid string: must start with "sk_"

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when STRIPE_PUBLISHABLE_KEY missing pk_ prefix
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - STRIPE_PUBLISHABLE_KEY: Invalid string: must start with "pk_"

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when ADMIN_EMAILS is missing
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - ADMIN_EMAILS: Invalid input: expected string, received undefined

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when OPENAI_API_KEY missing sk- prefix
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - OPENAI_API_KEY: Invalid string: must start with "sk-"

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when REDIS_URL is invalid
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - REDIS_URL: Invalid URL

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould fail when UPSTASH_REDIS_REST_URL is invalid
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - UPSTASH_REDIS_REST_URL: Invalid URL

Please check your .env file.


[90mstderr[2m | tests/lib/env-validation.test.ts[2m > [22m[2mvalidateEnv[2m > [22m[2mshould exit process with code 1 on validation failure
[22m[39m
ðŸš¨ Missing or invalid environment variables:

  - DATABASE_URL: Invalid input: expected string, received undefined
  - NEXTAUTH_SECRET: Too small: expected string to have >=32 characters

Please check your .env file.


 [32mâœ“[39m tests/lib/metrics/metrics.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 94[2mms[22m[39m
 [32mâœ“[39m tests/lib/env-validation.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 115[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/zodValidation.mega.test.ts [2m([22m[2m177 tests[22m[2m)[22m[32m 284[2mms[22m[39m
 [32mâœ“[39m tests/app/api/numerology/route.mega.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 125[2mms[22m[39m
 [32mâœ“[39m tests/lib/dream/types.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 95[2mms[22m[39m
 [32mâœ“[39m tests/app/api/db-ping/route.mega.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 310[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/validation-comprehensive.test.ts [2m([22m[2m69 tests[22m[2m)[22m[32m 70[2mms[22m[39m
 [32mâœ“[39m tests/contexts/CreditModalContext.test.tsx [2m([22m[2m24 tests[22m[2m)[22m[32m 157[2mms[22m[39m
 [32mâœ“[39m tests/core-api.test.ts [2m([22m[2m47 tests[22m[2m)[22m[32m 256[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useLifePredictionAPI.test.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 316[2mms[22m[39m
 [32mâœ“[39m tests/lib/config/pricing.test.ts [2m([22m[2m53 tests[22m[2m)[22m[32m 117[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju-integration.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 79[2mms[22m[39m
 [32mâœ“[39m tests/lib/ai/summarize.test.ts [2m([22m[2m80 tests[22m[2m)[22m[32m 112[2mms[22m[39m
 [32mâœ“[39m tests/lib/cache/invalidateClientCaches.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [31mâ¯[39m tests/lib/destiny-matrix/ai-report/aiBackend.test.ts [2m([22m[2m5 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 130081[2mms[22m[39m
   [32mâœ“[39m AI Backend[2m > [22mcallAIBackendGeneric[2m > [22mshould call OpenAI API directly[32m 26[2mms[22m[39m
   [32mâœ“[39m AI Backend[2m > [22mcallAIBackendGeneric[2m > [22mshould handle JSON in code blocks[32m 8[2mms[22m[39m
   [32mâœ“[39m AI Backend[2m > [22mcallAIBackendGeneric[2m > [22mshould handle errors gracefully[32m 13[2mms[22m[39m
   [32mâœ“[39m AI Backend[2m > [22mcallAIBackendGeneric[2m > [22mshould return empty object if JSON parsing fails[32m 3[2mms[22m[39m
[31m   [31mÃ—[31m AI Backend[2m > [22mcallAIBackendGeneric[2m > [22mshould handle timeout[39m[33m 130024[2mms[22m[39m
[31m     â†’ Test timed out in 130000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
 [32mâœ“[39m tests/lib/Saju/fortuneSimulator.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 81[2mms[22m[39m
 [32mâœ“[39m tests/app/api/compatibility/route.mega.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 128[2mms[22m[39m
 [32mâœ“[39m tests/backendHealth.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 98[2mms[22m[39m
 [32mâœ“[39m tests/app/api/past-life/route.mega.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 74[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/data/zodiacData.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 106[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/analyzer-regression.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 93[2mms[22m[39m
 [32mâœ“[39m tests/credit-service.test.ts [2m([22m[2m47 tests[22m[2m)[22m[32m 70[2mms[22m[39m
 [32mâœ“[39m tests/lib/chartDataCache.test.ts [2m([22m[2m45 tests[22m[2m)[22m[32m 107[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/astro-bonus.test.ts [2m([22m[2m87 tests[22m[2m)[22m[32m 96[2mms[22m[39m
 [32mâœ“[39m tests/lib/stripe/premiumCache.test.ts [2m([22m[2m41 tests[22m[2m)[22m[33m 332[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/precisionEngine.test.ts [2m([22m[2m57 tests[22m[2m)[22m[32m 87[2mms[22m[39m
 [32mâœ“[39m tests/lib/metrics.test.ts [2m([22m[2m60 tests[22m[2m)[22m[32m 119[2mms[22m[39m
[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - audit()[2m > [22m[2mEvent creation[2m > [22m[2mshould handle failed events with error messages
[22m[39m{"level":"error","message":"[Audit:auth] login","timestamp":"2026-01-29T08:56:35.951Z","context":{"eventId":"audit_mkz7zp7z_cco902","success":false,"error":"Invalid credentials"}}

[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - audit()[2m > [22m[2mAll severities[2m > [22m[2mshould support error severity
[22m[39m{"level":"error","message":"[Audit:security] test_action","timestamp":"2026-01-29T08:56:35.958Z","context":{"eventId":"audit_mkz7zp86_5vu8gn","success":false}}

[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - audit()[2m > [22m[2mAll severities[2m > [22m[2mshould support critical severity
[22m[39m{"level":"error","message":"[Audit:security] test_action","timestamp":"2026-01-29T08:56:35.959Z","context":{"eventId":"audit_mkz7zp87_u7j40w","success":false}}

[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - getAuditEvents()[2m > [22m[2mFiltering[2m > [22m[2mshould filter by severity
[22m[39m{"level":"error","message":"[Audit:security] breach","timestamp":"2026-01-29T08:56:35.961Z","context":{"eventId":"audit_mkz7zp89_pgwl8x","success":false}}

[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - getAuditEvents()[2m > [22m[2mFiltering[2m > [22m[2mshould filter by success status
[22m[39m{"level":"error","message":"[Audit:auth] login_fail","timestamp":"2026-01-29T08:56:35.962Z","context":{"eventId":"audit_mkz7zp8a_evqpp0","success":false}}

[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - auditSecurity()[2m > [22m[2mshould log security events
[22m[39m{"level":"error","message":"[Audit:security] xss_attempt","timestamp":"2026-01-29T08:56:35.972Z","context":{"eventId":"audit_mkz7zp8k_m4i5dw","ip":"192.168.1.1","success":false,"details":{"blocked":true}}}

[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - auditSuspicious()[2m > [22m[2mshould log suspicious activity
[22m[39m{"level":"error","message":"[Audit:security] suspicious_brute_force","timestamp":"2026-01-29T08:56:35.977Z","context":{"eventId":"audit_mkz7zp8p_x7dxo3","ip":"192.168.1.1","success":false,"details":{"attempts":10}}}

[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - getAuditSummary()[2m > [22m[2mshould return summary statistics
[22m[39m{"level":"error","message":"[Audit:auth] login_fail","timestamp":"2026-01-29T08:56:35.978Z","context":{"eventId":"audit_mkz7zp8q_u9ivhf","success":false}}

[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - getAuditSummary()[2m > [22m[2mshould calculate success rate if available
[22m[39m{"level":"error","message":"[Audit:auth] login_fail","timestamp":"2026-01-29T08:56:35.981Z","context":{"eventId":"audit_mkz7zp8t_z48jn2","success":false}}

[90mstderr[2m | tests/lib/security/auditLog.mega.test.ts[2m > [22m[2mauditLog MEGA - getAuditSummary()[2m > [22m[2mshould group by severity
[22m[39m{"level":"error","message":"[Audit:security] breach","timestamp":"2026-01-29T08:56:35.982Z","context":{"eventId":"audit_mkz7zp8u_gfz8ej","success":false}}

 [32mâœ“[39m tests/lib/Saju/textGenerator.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 72[2mms[22m[39m
 [32mâœ“[39m tests/lib/security/auditLog.mega.test.ts [2m([22m[2m40 tests[22m[2m)[22m[32m 149[2mms[22m[39m
 [32mâœ“[39m tests/lib/persona/analysis.test.ts [2m([22m[2m48 tests[22m[2m)[22m[32m 162[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useChatSession.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 186[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology-integration.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction-constants.test.ts [2m([22m[2m103 tests[22m[2m)[22m[32m 164[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/comprehensive.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 106[2mms[22m[39m
 [32mâœ“[39m tests/lib/metrics/index.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 185[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/flowAnalyzer.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 98[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/familyLineage.test.ts [2m([22m[2m64 tests[22m[2m)[22m[32m 93[2mms[22m[39m
 [32mâœ“[39m tests/lib/accessibility/validator.mega.test.ts [2m([22m[2m204 tests[22m[2m)[22m[32m 112[2mms[22m[39m
 [32mâœ“[39m tests/lib/metrics/sla.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 124[2mms[22m[39m
 [32mâœ“[39m tests/lib/ui/animations.test.ts [2m([22m[2m62 tests[22m[2m)[22m[32m 74[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/ai-report/pdfGenerator.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 168[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/errorHandler.test.ts [2m([22m[2m50 tests[22m[2m)[22m[32m 95[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/prompt/fortune/index.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 185[2mms[22m[39m
 [32mâœ“[39m tests/hooks/useTypingAnimation.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 109[2mms[22m[39m
 [32mâœ“[39m tests/errorHandler.test.ts [2m([22m[2m87 tests[22m[2m)[22m[32m 96[2mms[22m[39m
 [32mâœ“[39m tests/lib/constants/constants-modules.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/relations.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 83[2mms[22m[39m
 [32mâœ“[39m tests/lib/security/sri.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 92[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/multi-year.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 120[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/utils/analyzers.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/daeunTransitSync.test.ts [2m([22m[2m40 tests[22m[2m)[22m[32m 77[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/config/specialDays.config.test.ts [2m([22m[2m84 tests[22m[2m)[22m[32m 115[2mms[22m[39m
 [32mâœ“[39m tests/tier7To10Analysis.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 70[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/matrixAnalyzer.test.ts [2m([22m[2m51 tests[22m[2m)[22m[32m 146[2mms[22m[39m
 [32mâœ“[39m tests/lib/request-ip/request-ip.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/lib/apiGuard.mega.test.ts [2m([22m[2m47 tests[22m[2m)[22m[32m 156[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/transit.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/app/api/latlon-to-timezone/route.mega.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 106[2mms[22m[39m
 [32mâœ“[39m tests/lib/icp/analysis.test.ts [2m([22m[2m51 tests[22m[2m)[22m[32m 78[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/constants.test.ts [2m([22m[2m121 tests[22m[2m)[22m[32m 92[2mms[22m[39m
 [32mâœ“[39m tests/lib/persona/types.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/interpreter/report-generator.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 168[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/scoring-config.test.ts [2m([22m[2m83 tests[22m[2m)[22m[32m 72[2mms[22m[39m
 [32mâœ“[39m tests/lib/referral/referralService.comprehensive.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 128[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/engine/constants.test.ts [2m([22m[2m80 tests[22m[2m)[22m[32m 93[2mms[22m[39m
 [32mâœ“[39m tests/questionClassifiers.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 95[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/interpreter/insight-generator.test.ts [2m([22m[2m40 tests[22m[2m)[22m[32m 78[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/uncovered-lines.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 149[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/helpers/index.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 98[2mms[22m[39m
 [32mâœ“[39m tests/app/api/cache/chart/route.mega.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 91[2mms[22m[39m
 [32mâœ“[39m tests/lib/persona/questions.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 91[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/utils/date-formatters.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 125[2mms[22m[39m
 [32mâœ“[39m tests/auraIntegrity.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 156[2mms[22m[39m
 [32mâœ“[39m tests/lib/credits/credits.test.ts [2m([22m[2m49 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/ApiClient.mega.test.ts [2m([22m[2m64 tests[22m[2m)[22m[32m 87[2mms[22m[39m
 [32mâœ“[39m tests/lib/marketing/dailyFortuneGenerator.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 133[2mms[22m[39m
 [32mâœ“[39m tests/lib/security/security-dataRedactor.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 128[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/templates/paymentFailed.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 90[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/comprehensiveReport.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 59[2mms[22m[39m
[90mstderr[2m | tests/lib/Saju/unse.test.ts[2m > [22m[2munse[2m > [22m[2mgetDaeunCycles[2m > [22m[2mshould return empty cycles for invalid input
[22m[39m{"level":"error","message":"getDaeunCycles: ìœ íš¨í•˜ì§€ ì•Šì€ ì¸ìž","timestamp":"2026-01-29T08:56:47.728Z"}

 [32mâœ“[39m tests/lib/Saju/unse.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 122[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/validation.mega.test.ts [2m([22m[2m125 tests[22m[2m)[22m[32m 101[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrology/asteroids-stars.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 98[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/builders/title-desc-builder.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/compatibilityFusion.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/utils/scoring-utils.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/display/i18n.test.ts [2m([22m[2m71 tests[22m[2m)[22m[32m 116[2mms[22m[39m
 [32mâœ“[39m tests/lib/consultation/saveConsultation.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 92[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/compatibilityGraph.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 67[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/analyzer-extended.test.ts [2m([22m[2m47 tests[22m[2m)[22m[32m 86[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/advancedTimingEngine.test.ts [2m([22m[2m57 tests[22m[2m)[22m[32m 121[2mms[22m[39m
 [32mâœ“[39m tests/lib/utils/typeGuards.test.ts [2m([22m[2m88 tests[22m[2m)[22m[32m 121[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/groupCompatibility.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 69[2mms[22m[39m
 [32mâœ“[39m tests/lib/credits/creditService.test.ts [2m([22m[2m60 tests[22m[2m)[22m[32m 76[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/tarot-recommend.data.test.ts [2m([22m[2m50 tests[22m[2m)[22m[32m 82[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/validation.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 97[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrologyengine.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/interpretation-guide.test.ts [2m([22m[2m60 tests[22m[2m)[22m[32m 62[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction-astro.test.ts [2m([22m[2m81 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/advancedSajuAnalysis.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m tests/lib/logger.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/activity-scoring.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/electional.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 76[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/localization.test.ts [2m([22m[2m71 tests[22m[2m)[22m[32m 74[2mms[22m[39m
 [32mâœ“[39m tests/data/blog-posts.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 60[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/constants.test.ts [2m([22m[2m40 tests[22m[2m)[22m[32m 80[2mms[22m[39m
 [32mâœ“[39m tests/daeunTransitSync.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 79[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/unseAnalysis.test.ts [2m([22m[2m53 tests[22m[2m)[22m[32m 144[2mms[22m[39m
 [32mâœ“[39m tests/adapters/map-12.test.ts [2m([22m[2m50 tests[22m[2m)[22m[32m 123[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/errorResponse.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 84[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrology/returns-progressions.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 67[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/prompt/fortune/base/toneStyle.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m tests/relations.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map-integration.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar-constants.test.ts [2m([22m[2m77 tests[22m[2m)[22m[32m 87[2mms[22m[39m
 [32mâœ“[39m tests/lib/utils.comprehensive.test.ts [2m([22m[2m69 tests[22m[2m)[22m[32m 68[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/advancedAstrologyAnalysis.test.ts [2m([22m[2m66 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/strategies/OtherStrategies.test.ts [2m([22m[2m93 tests[22m[2m)[22m[32m 68[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/apiHandler.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 107[2mms[22m[39m
 [32mâœ“[39m tests/lib/telemetry.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 80[2mms[22m[39m
 [32mâœ“[39m tests/compatibilityIntegrity.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m tests/compatibilityEngine.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 55[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/planetary-hours.test.ts [2m([22m[2m64 tests[22m[2m)[22m[32m 159[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/constants.test.ts [2m([22m[2m65 tests[22m[2m)[22m[32m 118[2mms[22m[39m
 [32mâœ“[39m tests/dataRedactor.test.ts [2m([22m[2m48 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrology/specialized-charts.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/astrology/element-utils.test.ts [2m([22m[2m61 tests[22m[2m)[22m[32m 42[2mms[22m[39m
[90mstderr[2m | tests/publicToken.test.ts[2m > [22m[2mrequirePublicToken[2m > [22m[2mwhen PUBLIC_API_TOKEN is not set[2m > [22m[2mrejects request in production mode
[22m[39m{"level":"error","message":"[SECURITY] PUBLIC_API_TOKEN not configured in production","timestamp":"2026-01-29T08:56:56.689Z"}

 [32mâœ“[39m tests/publicToken.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 65[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/prompt/fortune/base/baseAllDataPrompt.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 65[2mms[22m[39m
 [32mâœ“[39m tests/dreamIntegrity.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/index.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 80[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/destinyAnalyzer.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 81[2mms[22m[39m
[90mstderr[2m | tests/components/calendar/cache-utils.test.ts[2m > [22m[2mcalendar/cache-utils[2m > [22m[2mgetCachedData[2m > [22m[2mshould handle invalid JSON gracefully
[22m[39m{"level":"error","message":"[Cache] Failed to get cached data:","timestamp":"2026-01-29T08:56:57.662Z","error":{"message":"Unexpected token 'i', \"invalid json\" is not valid JSON","name":"SyntaxError","stack":"SyntaxError: Unexpected token 'i', \"invalid json\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at getCachedData (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\components\\calendar\\cache-utils.ts:24:45)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\components\\calendar\\cache-utils.test.ts:188:22\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}}

[90mstderr[2m | tests/components/calendar/cache-utils.test.ts[2m > [22m[2mcalendar/cache-utils[2m > [22m[2msetCachedData[2m > [22m[2mshould handle localStorage quota errors
[22m[39m{"level":"error","message":"[Cache] Failed to set cached data:","timestamp":"2026-01-29T08:56:57.703Z","error":{"message":"QuotaExceededError","name":"Error","stack":"Error: QuotaExceededError\n    at Object.<anonymous> (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\components\\calendar\\cache-utils.test.ts:268:17)\n    at Object.mockCall (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/spy/dist/index.js:96:15)\n    at Object.spy [as setItem] (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/tinyspy/dist/index.js:47:80)\n    at setCachedData (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\components\\calendar\\cache-utils.ts:66:18)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\components\\calendar\\cache-utils.test.ts:275:9\n    at Proxy.assertThrows (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:2767:5)\n    at Proxy.methodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1686:25)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1088:12)\n    at Proxy.overwritingMethodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1735:33)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1420:16)"}}

[90mstderr[2m | tests/components/calendar/cache-utils.test.ts[2m > [22m[2mcalendar/cache-utils[2m > [22m[2mclearOldCache[2m > [22m[2mshould handle errors gracefully
[22m[39m{"level":"error","message":"[Cache] Failed to clear old cache:","timestamp":"2026-01-29T08:56:57.773Z","error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Function.<anonymous> (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\components\\calendar\\cache-utils.test.ts:381:15)\n    at Function.mockCall (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/spy/dist/index.js:96:15)\n    at Function.spy (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/tinyspy/dist/index.js:47:80)\n    at clearOldCache (c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\src\\components\\calendar\\cache-utils.ts:91:25)\n    at c:\\Users\\pjyrh\\Desktop\\saju-astro-chat-backup-latest\\tests\\components\\calendar\\cache-utils.test.ts:385:20\n    at Proxy.assertThrows (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:2767:5)\n    at Proxy.methodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1686:25)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1088:12)\n    at Proxy.overwritingMethodWrapper (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/chai/index.js:1735:33)\n    at Proxy.<anonymous> (file:///c:/Users/pjyrh/Desktop/saju-astro-chat-backup-latest/node_modules/@vitest/expect/dist/index.js:1420:16)"}}

 [32mâœ“[39m tests/components/calendar/cache-utils.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 142[2mms[22m[39m
 [32mâœ“[39m tests/lib/security/auditLog.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m tests/lib/backend-url.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m tests/lib/notifications/dailyTransitNotifications.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m tests/lib/logger/logger.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m tests/utils/numberFormat.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/helpers/monthDataCalculator.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 267[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrology/saju-orchestrator.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/yongsin.test.ts [2m([22m[2m59 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/astrology/degree-aspects.test.ts [2m([22m[2m52 tests[22m[2m)[22m[32m 76[2mms[22m[39m
[90mstderr[2m | tests/lib/auth/publicToken.test.ts[2m > [22m[2mrequirePublicToken[2m > [22m[2mshould fail in production when PUBLIC_API_TOKEN not set
[22m[39m{"level":"error","message":"[SECURITY] PUBLIC_API_TOKEN not configured in production","timestamp":"2026-01-29T08:57:00.341Z"}

 [32mâœ“[39m tests/lib/constants/api-limits.test.ts [2m([22m[2m50 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/workflows/workflows-smoke.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m tests/strengthScore.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32mâœ“[39m tests/lib/auth/publicToken.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m tests/pushService.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/compatibilityEngine.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m tests/lib/metrics/schema.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/advancedSajuCore.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 78[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/grading.test.ts [2m([22m[2m54 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/builders/saju-factor-builder.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/element-utils.test.ts [2m([22m[2m51 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/utils.test.ts [2m([22m[2m54 tests[22m[2m)[22m[32m 68[2mms[22m[39m
 [32mâœ“[39m tests/lib/http.mega.test.ts [2m([22m[2m60 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/scoring-adapter.test.ts [2m([22m[2m87 tests[22m[2m)[22m[32m 87[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/helpers/text-sanitization.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/labels.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/advisors/eventAdvisor.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/tier6Analysis.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/grading-optimized.test.ts [2m([22m[2m63 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m tests/userProfile.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 69[2mms[22m[39m
 [32mâœ“[39m tests/lib/request-ip.mega.test.ts [2m([22m[2m90 tests[22m[2m)[22m[32m 81[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/tarotThemeConfig.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 60[2mms[22m[39m
 [32mâœ“[39m tests/lib/i18n/types.mega.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/transit-analysis.test.ts [2m([22m[2m54 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/astrology/nodes-lilith.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/lib/accessibility/validator.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/strengthsAnalyzer.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m tests/components/calendar/constants.test.ts [2m([22m[2m80 tests[22m[2m)[22m[32m 81[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/lifePredictionConstants.test.ts [2m([22m[2m71 tests[22m[2m)[22m[32m 83[2mms[22m[39m
 [32mâœ“[39m tests/apiSecurityHardened.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/tonggeun.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/utils/branch-relationship-analyzer.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/utils/koreanTextNormalizer.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/crossSystemAnalysis.test.ts [2m([22m[2m56 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m tests/envValidation.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m tests/app/api/health/redis/route.mega.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m tests/data/yearly-fortune-generator.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/saju-temporal-scoring.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/i18n/i18n-extensions.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/analyzers/astrology-analyzer.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/daily-fortune.test.ts [2m([22m[2m51 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/utils/builders.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/karmaMatrix.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/harmonics.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/emailService.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/ichingWisdom.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m tests/lib/numerology/descriptions.test.ts [2m([22m[2m54 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-match/quickCompatibility.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m tests/lib/persona/archetypes.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/types.test.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m tests/destiny-matrix-layers.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m tests/tarot.smoke.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/sibsinAnalysis.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/interpreter/weight-calculator.test.ts [2m([22m[2m50 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/analyzers/advanced-predictor.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/ganhap.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/relation-analysis.test.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/config/geokguk.config.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/analysis-helpers.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/twelve-states.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m tests/sanitize.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m tests/rateLimitAdvanced.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/cache/cache-versions.test.ts [2m([22m[2m57 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/utils/event-timing-helpers.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m tests/lib/constants/themes.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m tests/astrologyHouses.test.ts [2m([22m[2m56 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/careerAnalyzer.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/analyzers/factor-generator.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 179[2mms[22m[39m
 [32mâœ“[39m tests/authentication.test.ts [2m([22m[2m49 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m tests/backend/python-routes-smoke.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/patternMatcher.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/destinyCalendar.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/components/saju/result-display/constants.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/astrology/advanced-points.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/analyzers/periodClassifier.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/strategies/CareerStrategy.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/utils/helpers.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m tests/lib/numerology/numerology.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/analyzers/multilayer-analyzer.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m tests/lib/security/errorSanitizer.test.ts [2m([22m[2m45 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/index.test.ts [2m([22m[2m49 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/types.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/shinsals.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/astrology/composite-house.test.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/summary/highlights.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/multi-year.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/harmonies-conflicts.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m tests/rateLimit.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/hyeongchung.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/ultra-precision-types.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/astrology-analysis.test.ts [2m([22m[2m68 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/http/http-enforceBodySize.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/sse.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/gongmang.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/date-analysis-factors.test.ts [2m([22m[2m52 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/builders/category-generator.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m tests/lib/security/DataRedactor.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/synastry.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/cosmicCompatibility.test.ts [2m([22m[2m40 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/public-api.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/utils/cn.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m tests/utils/scrollUtils.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/lib/cache/memoize.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32mâœ“[39m tests/lib/apiGuard.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m tests/reducers/all-reducers.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/utils/helpers.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/date-analysis-astro.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/helpers/report-validation.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m tests/lib/streaming/StreamProcessor.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 69[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/destinyCalendar.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m tests/reducers/calendarReducer.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/house-system.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/prompt/fortune/base/prompt-template.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/astrology/davison-progressed.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 68[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/weekly/analyzer.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 74[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/utils/saju-extractors.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/scoring/eventScorer.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m tests/lib/credits/creditRefund.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m tests/stemBranchUtils.test.ts [2m([22m[2m50 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/sanitizers.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/cache.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/validation.test.ts [2m([22m[2m57 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/strategies/StrategyFactory.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/ApiClient.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 63[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/ichingNumerology.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m tests/database/database-smoke.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/houses.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 55[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/tarot-recommend.test.ts [2m([22m[2m40 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/utils/recommendation-filter.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/tarotIntegrity.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/type-guards.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m tests/lib/auth/adminAudit.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 101[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/profile-factory.test.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 54[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/formatters/text-generators.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/shared.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/ai-report/scoreCalculators.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/loveAnalyzer.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 63[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/config/specialDays.utils.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m tests/lib/constants/http.test.ts [2m([22m[2m59 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/midpoints.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/astrology-planets.test.ts [2m([22m[2m61 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/tier7To10Analysis.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 140[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/utils/shinsal-mapper.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m tests/lib/errors/ApiError.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 134[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/config/area.config.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/comprehensive.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m tests/referralService.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m tests/weeklyFortune.test.ts [2m([22m[2m52 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/karmaAnalyzer.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/final-push.test.ts [2m([22m[2m78 tests[22m[2m)[22m[32m 63[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/types.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m tests/data/blogPostLoader.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/utils/houses.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 57[2mms[22m[39m
 [32mâœ“[39m tests/lib/auth/signInUrl.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/draconic.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/progressions.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 156[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/base.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/lib/constants/formulas.test.ts [2m([22m[2m69 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/scoring.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/ten-gods.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/element-utils.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/date-analysis-saju.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/personalityAnalyzer.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m tests/lib/security/csrf.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/shinsal.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/data/constants.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 61[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/matrixAnalyzer.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m tests/ichingIntegrity.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/components/saju/result-display/utils.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/local-report-generator.test.ts [2m([22m[2m53 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m tests/lib/notifications/calendarPremiumCheck.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m tests/lib/performance/web-vitals-reporter.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/prompt/fortune/base/formatter-utils.test.ts [2m([22m[2m51 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/templates/referralReward.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/interpretations.test.ts [2m([22m[2m55 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/config/elements.config.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/wealthAnalyzer.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 68[2mms[22m[39m
 [32mâœ“[39m tests/apiRoutes.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/life-prediction/types.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/utils/ganji-helpers.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/interpreter/types.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/strengthScore.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/chat-constants.test.ts [2m([22m[2m59 tests[22m[2m)[22m[32m 55[2mms[22m[39m
 [32mâœ“[39m tests/lib/api/middleware.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/utils/planets.test.ts [2m([22m[2m86 tests[22m[2m)[22m[32m 74[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/counselor-examples.test.ts [2m([22m[2m58 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/tarot-counselors.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 76[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/stemBranchUtils.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m tests/app/api/weekly-fortune/route.mega.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m tests/lib/utils.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/eclipses.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/cache.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/sibsinAnalyzer.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 61[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/gyeokguk.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 63[2mms[22m[39m
 [32mâœ“[39m tests/scripts/scripts-smoke.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/strategies/MarriageStrategy.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m tests/destiny-map-api-smoke.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/grading.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m tests/lib/textGuards.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/analyzers/time-context-analyzer.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m tests/lib/validation/patterns.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/saju/daeun-seun.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/astrology-aspects.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/yongsinAnalyzer.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/healthAnalyzer.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/reasonTranslator.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m tests/lib/cache/chart-cache-mock.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 113[2mms[22m[39m
 [32mâœ“[39m tests/lib/consultation/extractSummary.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/changingLineData.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 119[2mms[22m[39m
 [32mâœ“[39m tests/lib/icp/types.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m tests/numerologyIntegrity.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/apiClient.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m tests/lib/chartDataCache.comprehensive.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/analyzers/saju-analyzer.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/providers/resendProvider.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m tests/saju.smoke.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m tests/apiMiddleware.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/specialDays-analysis.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/analyzers/confidence-calculator.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/astrology-lunar.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/crossAnalyzer.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32mâœ“[39m tests/lib/http.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/compatibility.smoke.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/aspects.test.ts [2m([22m[2m49 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/analyzers/types/specialized.types.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m tests/stripeWebhook.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 140[2mms[22m[39m
 [32mâœ“[39m tests/lib/past-life/utils/extractors.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/daily-fortune-helpers.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 110[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/types.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m tests/lib/db/prisma.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m tests/apiValidation.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/transit.test.ts [2m([22m[2m56 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/cosmicCompatibility-functions.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 60[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/analysis/element-utils.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/tarot.types.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m tests/lib/request-ip.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m tests/components/destiny-map/fun-insights/generators/luckyItems.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 67[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/scoring-comprehensive.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m tests/lib/Tarot/data/questionClassifierPatterns.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/geokguk.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m tests/lib/numerology/numerology-analysis.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/utils.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/houses.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/prompt/fortune/base/translation-maps.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m tests/premium-cache.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m tests/lib/i18n/types.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/numerology/utils.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m tests/lib/auth/admin.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/astrology/aspect-utils.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m tests/lib/email/templates/welcome.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m tests/lib/prediction/prompt-contexts.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m tests/lib/compatibility/astrology/basic-analysis.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m tests/lib/i18n/chat-utils.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/destiny-map-sanitize.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/advanced/options.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/scoring-config.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m tests/lib/security/timingSafe.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/category-scoring.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/scoring-factory.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/advanced/meta.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/builders/astro-factor-builder.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m tests/lib/iChing/iChingData.ko.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m tests/lib/Saju/index.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/sanitize.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-map/calendar/saju-analysis.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/progressions.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 139[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/returns.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 168[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/astrologyService.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 150[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/shared.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 122[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/data/layer7-advanced-analysis.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m tests/lib/destiny-matrix/data/layer8-shinsal-planet.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/extraPoints.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 119[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/fixedStars.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 146[2mms[22m[39m
 [2m[90mâ†“[39m[22m tests/lib/cache/redis-rate-limit.test.ts [2m([22m[2m11 tests[22m[2m | [22m[33m11 skipped[39m[2m)[22m
 [32mâœ“[39m tests/lib/destiny-matrix/data/layer4-timing-overlay.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/draconic.test.ts [2m([22m[2m49 tests[22m[2m)[22m[32m 62[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/harmonics.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/electional.test.ts [2m([22m[2m79 tests[22m[2m)[22m[32m 141[2mms[22m[39m
 [2m[90mâ†“[39m[22m tests/lib/cache/chart-cache.test.ts [2m([22m[2m10 tests[22m[2m | [22m[33m10 skipped[39m[2m)[22m
 [32mâœ“[39m tests/lib/astrology/foundation/rectification.test.ts [2m([22m[2m65 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [2m[90mâ†“[39m[22m tests/lib/cache/redis-session.test.ts [2m([22m[2m9 tests[22m[2m | [22m[33m9 skipped[39m[2m)[22m
 [32mâœ“[39m tests/lib/astrology/foundation/synastry.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/midpoints.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/composite.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 61[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/asteroids.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/aspects.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m tests/lib/astrology/foundation/eclipses.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 25[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 71 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Basic Functionality[2m > [22mhandles empty params
[31m[1mAssertionError[22m: expected 'empty:v1:' to be 'empty:' // Object.is equality[39m

Expected: [32m"empty:"[39m
Received: [31m"empty:[7mv1:[27m"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m29:17[22m[39m
    [90m 27| [39m  [34mit[39m([32m"handles empty params"[39m[33m,[39m () [33m=>[39m {
    [90m 28| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"empty"[39m[33m,[39m {})[33m;[39m
    [90m 29| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"empty:"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 30| [39m  })[33m;[39m
    [90m 31| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Basic Functionality[2m > [22mhandles single param
[31m[1mAssertionError[22m: expected 'single:v1:id:abc' to be 'single:id:abc' // Object.is equality[39m

Expected: [32m"single:id:abc"[39m
Received: [31m"single:[7mv1:[27mid:abc"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m34:17[22m[39m
    [90m 32| [39m  [34mit[39m([32m"handles single param"[39m[33m,[39m () [33m=>[39m {
    [90m 33| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"single"[39m[33m,[39m { id[33m:[39m [32m"abc"[39m })[33m;[39m
    [90m 34| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"single:id:abc"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 35| [39m  })[33m;[39m
    [90m 36| [39m})[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Sorting[2m > [22msorts keys alphabetically for consistency
[31m[1mAssertionError[22m: expected 'test:v1:a:2|m:3|z:1' to be 'test:a:2|m:3|z:1' // Object.is equality[39m

Expected: [32m"test:a:2|m:3|z:1"[39m
Received: [31m"test:[7mv1:[27ma:2|m:3|z:1"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m47:18[22m[39m
    [90m 45| [39m    [34mexpect[39m(key1)[33m.[39m[34mtoBe[39m(key2)[33m;[39m
    [90m 46| [39m    [34mexpect[39m(key2)[33m.[39m[34mtoBe[39m(key3)[33m;[39m
    [90m 47| [39m    [34mexpect[39m(key1)[33m.[39m[34mtoBe[39m([32m"test:a:2|m:3|z:1"[39m)[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m 48| [39m  })[33m;[39m
    [90m 49| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Sorting[2m > [22msorts numeric keys correctly (as strings)
[31m[1mAssertionError[22m: expected 'numeric:v1:1:a|10:c|2:b' to be 'numeric:1:a|10:c|2:b' // Object.is equality[39m

Expected: [32m"numeric:1:a|10:c|2:b"[39m
Received: [31m"numeric:[7mv1:[27m1:a|10:c|2:b"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m53:17[22m[39m
    [90m 51| [39m    const key = makeCacheKey("numeric", { "2": "b", "1": "a", "10": "câ€¦
    [90m 52| [39m    [90m// Sorted alphabetically as strings: "1", "10", "2"[39m
    [90m 53| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"numeric:1:a|10:c|2:b"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 54| [39m  })[33m;[39m
    [90m 55| [39m})[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Value Types[2m > [22mhandles string values
[31m[1mAssertionError[22m: expected 'str:v1:name:í™ê¸¸ë™' to be 'str:name:í™ê¸¸ë™' // Object.is equality[39m

Expected: [32m"str:name:í™ê¸¸ë™"[39m
Received: [31m"str:[7mv1:[27mname:í™ê¸¸ë™"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m60:17[22m[39m
    [90m 58| [39m  [34mit[39m([32m"handles string values"[39m[33m,[39m () [33m=>[39m {
    [90m 59| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"str"[39m[33m,[39m { name[33m:[39m [32m"í™ê¸¸ë™"[39m })[33m;[39m
    [90m 60| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"str:name:í™ê¸¸ë™"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 61| [39m  })[33m;[39m
    [90m 62| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Value Types[2m > [22mhandles number values
[31m[1mAssertionError[22m: expected 'num:v1:count:42' to be 'num:count:42' // Object.is equality[39m

Expected: [32m"num:count:42"[39m
Received: [31m"num:[7mv1:[27mcount:42"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m65:17[22m[39m
    [90m 63| [39m  [34mit[39m([32m"handles number values"[39m[33m,[39m () [33m=>[39m {
    [90m 64| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"num"[39m[33m,[39m { count[33m:[39m [34m42[39m })[33m;[39m
    [90m 65| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"num:count:42"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 66| [39m  })[33m;[39m
    [90m 67| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Value Types[2m > [22mhandles null values
[31m[1mAssertionError[22m: expected 'null:v1:value:null' to be 'null:value:null' // Object.is equality[39m

Expected: [32m"null:value:null"[39m
Received: [31m"null:[7mv1:[27mvalue:null"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m76:17[22m[39m
    [90m 74| [39m  [34mit[39m([32m"handles null values"[39m[33m,[39m () [33m=>[39m {
    [90m 75| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"null"[39m[33m,[39m { value[33m:[39m [35mnull[39m })[33m;[39m
    [90m 76| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"null:value:null"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 77| [39m  })[33m;[39m
    [90m 78| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Value Types[2m > [22mhandles undefined values
[31m[1mAssertionError[22m: expected 'undef:v1:value:undefined' to be 'undef:value:undefined' // Object.is equality[39m

Expected: [32m"undef:value:undefined"[39m
Received: [31m"undef:[7mv1:[27mvalue:undefined"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m81:17[22m[39m
    [90m 79| [39m  [34mit[39m([32m"handles undefined values"[39m[33m,[39m () [33m=>[39m {
    [90m 80| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"undef"[39m[33m,[39m { value[33m:[39m undefined })[33m;[39m
    [90m 81| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"undef:value:undefined"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 82| [39m  })[33m;[39m
    [90m 83| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Value Types[2m > [22mhandles object values (toString)
[31m[1mAssertionError[22m: expected 'obj:v1:data:[object Object]' to be 'obj:data:[object Object]' // Object.is equality[39m

Expected: [32m"obj:data:[object Object]"[39m
Received: [31m"obj:[7mv1:[27mdata:[object Object]"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m86:17[22m[39m
    [90m 84| [39m  [34mit[39m([32m"handles object values (toString)"[39m[33m,[39m () [33m=>[39m {
    [90m 85| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"obj"[39m[33m,[39m { data[33m:[39m { nested[33m:[39m [35mtrue[39m } })[33m;[39m
    [90m 86| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"obj:data:[object Object]"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 87| [39m  })[33m;[39m
    [90m 88| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Value Types[2m > [22mhandles array values (toString)
[31m[1mAssertionError[22m: expected 'arr:v1:items:1,2,3' to be 'arr:items:1,2,3' // Object.is equality[39m

Expected: [32m"arr:items:1,2,3"[39m
Received: [31m"arr:[7mv1:[27mitems:1,2,3"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m91:17[22m[39m
    [90m 89| [39m  [34mit[39m([32m"handles array values (toString)"[39m[33m,[39m () [33m=>[39m {
    [90m 90| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"arr"[39m[33m,[39m { items[33m:[39m [[34m1[39m[33m,[39m [34m2[39m[33m,[39m [34m3[39m] })[33m;[39m
    [90m 91| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"arr:items:1,2,3"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m 92| [39m  })[33m;[39m
    [90m 93| [39m})[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Real World Examples[2m > [22mgenerates user-specific cache key
[31m[1mAssertionError[22m: expected 'user:fortune:v1:date:2024-01-15|type:â€¦' to be 'user:fortune:date:2024-01-15|type:daiâ€¦' // Object.is equality[39m

Expected: [32m"user:fortune:date:2024-01-15|type:daily|userId:user123"[39m
Received: [31m"user:fortune:[7mv1:[27mdate:2024-01-15|type:daily|userId:user123"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m138:17[22m[39m
    [90m136| [39m    })[33m;[39m
    [90m137| [39m
    [90m138| [39m    expect(key).toBe("user:fortune:date:2024-01-15|type:daily|userId:uâ€¦
    [90m   | [39m                [31m^[39m
    [90m139| [39m  })[33m;[39m
    [90m140| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[11/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Real World Examples[2m > [22mgenerates compatibility cache key
[31m[1mAssertionError[22m: expected 'compat:v1:user1:abc123|user2:xyz789' to be 'compat:user1:abc123|user2:xyz789' // Object.is equality[39m

Expected: [32m"compat:user1:abc123|user2:xyz789"[39m
Received: [31m"compat:[7mv1:[27muser1:abc123|user2:xyz789"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m147:17[22m[39m
    [90m145| [39m    })[33m;[39m
    [90m146| [39m
    [90m147| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"compat:user1:abc123|user2:xyz789"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m148| [39m  })[33m;[39m
    [90m149| [39m})[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[12/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Special Characters[2m > [22mhandles special characters in values
[31m[1mAssertionError[22m: expected 'special:v1:name:í™:ê¸¸|ë™' to be 'special:name:í™:ê¸¸|ë™' // Object.is equality[39m

Expected: [32m"special:name:í™:ê¸¸|ë™"[39m
Received: [31m"special:[7mv1:[27mname:í™:ê¸¸|ë™"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m154:17[22m[39m
    [90m152| [39m  [34mit[39m([32m"handles special characters in values"[39m[33m,[39m () [33m=>[39m {
    [90m153| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"special"[39m[33m,[39m { name[33m:[39m [32m"í™:ê¸¸|ë™"[39m })[33m;[39m
    [90m154| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"special:name:í™:ê¸¸|ë™"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m155| [39m  })[33m;[39m
    [90m156| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[13/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Special Characters[2m > [22mhandles spaces in values
[31m[1mAssertionError[22m: expected 'space:v1:text:hello world' to be 'space:text:hello world' // Object.is equality[39m

Expected: [32m"space:text:hello world"[39m
Received: [31m"space:[7mv1:[27mtext:hello world"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m159:17[22m[39m
    [90m157| [39m  [34mit[39m([32m"handles spaces in values"[39m[33m,[39m () [33m=>[39m {
    [90m158| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"space"[39m[33m,[39m { text[33m:[39m [32m"hello world"[39m })[33m;[39m
    [90m159| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"space:text:hello world"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m160| [39m  })[33m;[39m
    [90m161| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[14/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Special Characters[2m > [22mhandles unicode in values
[31m[1mAssertionError[22m: expected 'unicode:v1:emoji:ðŸ˜€ðŸŽ‰' to be 'unicode:emoji:ðŸ˜€ðŸŽ‰' // Object.is equality[39m

Expected: [32m"unicode:emoji:ðŸ˜€ðŸŽ‰"[39m
Received: [31m"unicode:[7mv1:[27memoji:ðŸ˜€ðŸŽ‰"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m164:17[22m[39m
    [90m162| [39m  [34mit[39m([32m"handles unicode in values"[39m[33m,[39m () [33m=>[39m {
    [90m163| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"unicode"[39m[33m,[39m { emoji[33m:[39m [32m"ðŸ˜€ðŸŽ‰"[39m })[33m;[39m
    [90m164| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"unicode:emoji:ðŸ˜€ðŸŽ‰"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m165| [39m  })[33m;[39m
    [90m166| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[15/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Special Characters[2m > [22mhandles newlines in values
[31m[1mAssertionError[22m: expected 'newline:v1:text:line1\nline2' to be 'newline:text:line1\nline2' // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- newline:text:line1[39m
[31m+ newline:[7mv1:[27mtext:line1[39m
[2m  line2[22m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m169:17[22m[39m
    [90m167| [39m  [34mit[39m([32m"handles newlines in values"[39m[33m,[39m () [33m=>[39m {
    [90m168| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"newline"[39m[33m,[39m { text[33m:[39m [32m"line1\nline2"[39m })[33m;[39m
    [90m169| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"newline:text:line1\nline2"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m170| [39m  })[33m;[39m
    [90m171| [39m})[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[16/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Edge Cases[2m > [22mhandles empty string values
[31m[1mAssertionError[22m: expected 'empty:v1:value:' to be 'empty:value:' // Object.is equality[39m

Expected: [32m"empty:value:"[39m
Received: [31m"empty:[7mv1:[27mvalue:"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m194:17[22m[39m
    [90m192| [39m  [34mit[39m([32m"handles empty string values"[39m[33m,[39m () [33m=>[39m {
    [90m193| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"empty"[39m[33m,[39m { value[33m:[39m [32m""[39m })[33m;[39m
    [90m194| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"empty:value:"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m195| [39m  })[33m;[39m
    [90m196| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[17/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/redisCache.test.ts[2m > [22mmakeCacheKey: Edge Cases[2m > [22mhandles keys that look like numbers
[31m[1mAssertionError[22m: expected 'numkey:v1:123:value' to be 'numkey:123:value' // Object.is equality[39m

Expected: [32m"numkey:123:value"[39m
Received: [31m"numkey:[7mv1:[27m123:value"[39m

[36m [2mâ¯[22m tests/redisCache.test.ts:[2m199:17[22m[39m
    [90m197| [39m  [34mit[39m([32m"handles keys that look like numbers"[39m[33m,[39m () [33m=>[39m {
    [90m198| [39m    [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"numkey"[39m[33m,[39m { [32m"123"[39m[33m:[39m [32m"value"[39m })[33m;[39m
    [90m199| [39m    [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"numkey:123:value"[39m)[33m;[39m
    [90m   | [39m                [31m^[39m
    [90m200| [39m  })[33m;[39m
    [90m201| [39m})[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[18/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mmakeCacheKey[2m > [22mshould create cache key with prefix
[31m[1mAssertionError[22m: expected 'test:v1:id:123' to be 'test:id:123' // Object.is equality[39m

Expected: [32m"test:id:123"[39m
Received: [31m"test:[7mv1:[27mid:123"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m40:19[22m[39m
    [90m 38| [39m    [34mit[39m([32m"should create cache key with prefix"[39m[33m,[39m () [33m=>[39m {
    [90m 39| [39m      [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"test"[39m[33m,[39m { id[33m:[39m [32m"123"[39m })[33m;[39m
    [90m 40| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"test:id:123"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 41| [39m    })[33m;[39m
    [90m 42| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[19/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mmakeCacheKey[2m > [22mshould sort params alphabetically
[31m[1mAssertionError[22m: expected 'user:v1:a:first|m:middle|z:last' to be 'user:a:first|m:middle|z:last' // Object.is equality[39m

Expected: [32m"user:a:first|m:middle|z:last"[39m
Received: [31m"user:[7mv1:[27ma:first|m:middle|z:last"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m45:19[22m[39m
    [90m 43| [39m    [34mit[39m([32m"should sort params alphabetically"[39m[33m,[39m () [33m=>[39m {
    [90m 44| [39m      const key = makeCacheKey("user", { z: "last", a: "first", m: "miâ€¦
    [90m 45| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"user:a:first|m:middle|z:last"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 46| [39m    })[33m;[39m
    [90m 47| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[20/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle numeric values
[31m[1mAssertionError[22m: expected 'cache:v1:count:42|page:1' to be 'cache:count:42|page:1' // Object.is equality[39m

Expected: [32m"cache:count:42|page:1"[39m
Received: [31m"cache:[7mv1:[27mcount:42|page:1"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m50:19[22m[39m
    [90m 48| [39m    [34mit[39m([32m"should handle numeric values"[39m[33m,[39m () [33m=>[39m {
    [90m 49| [39m      [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"cache"[39m[33m,[39m { count[33m:[39m [34m42[39m[33m,[39m page[33m:[39m [34m1[39m })[33m;[39m
    [90m 50| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"cache:count:42|page:1"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 51| [39m    })[33m;[39m
    [90m 52| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[21/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle boolean values
[31m[1mAssertionError[22m: expected 'feature:v1:beta:false|enabled:true' to be 'feature:beta:false|enabled:true' // Object.is equality[39m

Expected: [32m"feature:beta:false|enabled:true"[39m
Received: [31m"feature:[7mv1:[27mbeta:false|enabled:true"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m55:19[22m[39m
    [90m 53| [39m    [34mit[39m([32m"should handle boolean values"[39m[33m,[39m () [33m=>[39m {
    [90m 54| [39m      const key = makeCacheKey("feature", { enabled: true, beta: falseâ€¦
    [90m 55| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"feature:beta:false|enabled:true"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 56| [39m    })[33m;[39m
    [90m 57| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle empty params
[31m[1mAssertionError[22m: expected 'empty:v1:' to be 'empty:' // Object.is equality[39m

Expected: [32m"empty:"[39m
Received: [31m"empty:[7mv1:[27m"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m60:19[22m[39m
    [90m 58| [39m    [34mit[39m([32m"should handle empty params"[39m[33m,[39m () [33m=>[39m {
    [90m 59| [39m      [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"empty"[39m[33m,[39m {})[33m;[39m
    [90m 60| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"empty:"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 61| [39m    })[33m;[39m
    [90m 62| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[23/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle null and undefined values
[31m[1mAssertionError[22m: expected 'nullable:v1:a:null|b:undefined' to be 'nullable:a:null|b:undefined' // Object.is equality[39m

Expected: [32m"nullable:a:null|b:undefined"[39m
Received: [31m"nullable:[7mv1:[27ma:null|b:undefined"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m65:19[22m[39m
    [90m 63| [39m    [34mit[39m([32m"should handle null and undefined values"[39m[33m,[39m () [33m=>[39m {
    [90m 64| [39m      [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"nullable"[39m[33m,[39m { a[33m:[39m [35mnull[39m[33m,[39m b[33m:[39m undefined })[33m;[39m
    [90m 65| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"nullable:a:null|b:undefined"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 66| [39m    })[33m;[39m
    [90m 67| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[24/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle complex objects as string
[31m[1mAssertionError[22m: expected 'complex:v1:obj:[object Object]' to be 'complex:obj:[object Object]' // Object.is equality[39m

Expected: [32m"complex:obj:[object Object]"[39m
Received: [31m"complex:[7mv1:[27mobj:[object Object]"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m70:19[22m[39m
    [90m 68| [39m    [34mit[39m([32m"should handle complex objects as string"[39m[33m,[39m () [33m=>[39m {
    [90m 69| [39m      const key = makeCacheKey("complex", { obj: { nested: "value" } }â€¦
    [90m 70| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"complex:obj:[object Object]"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 71| [39m    })[33m;[39m
    [90m 72| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[25/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mmakeCacheKey[2m > [22mshould handle array values
[31m[1mAssertionError[22m: expected 'array:v1:items:1,2,3' to be 'array:items:1,2,3' // Object.is equality[39m

Expected: [32m"array:items:1,2,3"[39m
Received: [31m"array:[7mv1:[27mitems:1,2,3"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m75:19[22m[39m
    [90m 73| [39m    [34mit[39m([32m"should handle array values"[39m[33m,[39m () [33m=>[39m {
    [90m 74| [39m      [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"array"[39m[33m,[39m { items[33m:[39m [[34m1[39m[33m,[39m [34m2[39m[33m,[39m [34m3[39m] })[33m;[39m
    [90m 75| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"array:items:1,2,3"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 76| [39m    })[33m;[39m
    [90m 77| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[26/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mcacheGet (unit tests)[2m > [22mshould handle Korean characters in values
[31m[1mAssertionError[22m: expected 'saju:v1:birthYear:1990|name:í™ê¸¸ë™' to be 'saju:birthYear:1990|name:í™ê¸¸ë™' // Object.is equality[39m

Expected: [32m"saju:birthYear:1990|name:í™ê¸¸ë™"[39m
Received: [31m"saju:[7mv1:[27mbirthYear:1990|name:í™ê¸¸ë™"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m104:19[22m[39m
    [90m102| [39m    [34mit[39m([32m"should handle Korean characters in values"[39m[33m,[39m () [33m=>[39m {
    [90m103| [39m      const key = makeCacheKey("saju", { name: "í™ê¸¸ë™", birthYear: 1990 â€¦
    [90m104| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"saju:birthYear:1990|name:í™ê¸¸ë™"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m105| [39m    })[33m;[39m
    [90m106| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[27/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCache Key Generation Patterns[2m > [22mshould generate destiny map cache key
[31m[1mAssertionError[22m: expected 'destiny:v1:day:15|gender:male|hour:10â€¦' to be 'destiny:day:15|gender:male|hour:10|loâ€¦' // Object.is equality[39m

Expected: [32m"destiny:day:15|gender:male|hour:10|locale:ko|month:5|year:1990"[39m
Received: [31m"destiny:[7mv1:[27mday:15|gender:male|hour:10|locale:ko|month:5|year:1990"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m125:19[22m[39m
    [90m123| [39m      })[33m;[39m
    [90m124| [39m
    [90m125| [39m      expect(key).toBe("destiny:day:15|gender:male|hour:10|locale:ko|mâ€¦
    [90m   | [39m                  [31m^[39m
    [90m126| [39m    })[33m;[39m
    [90m127| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[28/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCache Key Generation Patterns[2m > [22mshould generate tarot reading cache key
[31m[1mAssertionError[22m: expected 'tarot:v1:cards:1,5,10,22,33|category:â€¦' to be 'tarot:cards:1,5,10,22,33|category:lovâ€¦' // Object.is equality[39m

Expected: [32m"tarot:cards:1,5,10,22,33|category:love|spread:celtic_cross"[39m
Received: [31m"tarot:[7mv1:[27mcards:1,5,10,22,33|category:love|spread:celtic_cross"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m135:19[22m[39m
    [90m133| [39m      })[33m;[39m
    [90m134| [39m
    [90m135| [39m      expect(key).toBe("tarot:cards:1,5,10,22,33|category:love|spread:â€¦
    [90m   | [39m                  [31m^[39m
    [90m136| [39m    })[33m;[39m
    [90m137| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[29/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCache Key Generation Patterns[2m > [22mshould generate calendar analysis cache key
[31m[1mAssertionError[22m: expected 'calendar:v1:endDate:2024-01-31|startDâ€¦' to be 'calendar:endDate:2024-01-31|startDateâ€¦' // Object.is equality[39m

Expected: [32m"calendar:endDate:2024-01-31|startDate:2024-01-01|userId:user123"[39m
Received: [31m"calendar:[7mv1:[27mendDate:2024-01-31|startDate:2024-01-01|userId:user123"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m145:19[22m[39m
    [90m143| [39m      })[33m;[39m
    [90m144| [39m
    [90m145| [39m      expect(key).toBe("calendar:endDate:2024-01-31|startDate:2024-01-â€¦
    [90m   | [39m                  [31m^[39m
    [90m146| [39m    })[33m;[39m
    [90m147| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[30/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCache Key Generation Patterns[2m > [22mshould generate user session cache key
[31m[1mAssertionError[22m: expected 'session:v1:deviceId:mobile_ios|userIdâ€¦' to be 'session:deviceId:mobile_ios|userId:abâ€¦' // Object.is equality[39m

Expected: [32m"session:deviceId:mobile_ios|userId:abc123"[39m
Received: [31m"session:[7mv1:[27mdeviceId:mobile_ios|userId:abc123"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m154:19[22m[39m
    [90m152| [39m      })[33m;[39m
    [90m153| [39m
    [90m154| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"session:deviceId:mobile_ios|userId:abc123"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m155| [39m    })[33m;[39m
    [90m156| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[31/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mEdge Cases[2m > [22mshould handle empty string prefix
[31m[1mAssertionError[22m: expected ':v1:a:1' to be ':a:1' // Object.is equality[39m

Expected: [32m":a:1"[39m
Received: [31m"[7m:v1[27m:a:1"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m202:19[22m[39m
    [90m200| [39m    [34mit[39m([32m"should handle empty string prefix"[39m[33m,[39m () [33m=>[39m {
    [90m201| [39m      [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m""[39m[33m,[39m { a[33m:[39m [34m1[39m })[33m;[39m
    [90m202| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m":a:1"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m203| [39m    })[33m;[39m
    [90m204| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[32/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mEdge Cases[2m > [22mshould handle single character values
[31m[1mAssertionError[22m: expected 'single:v1:a:x|b:y' to be 'single:a:x|b:y' // Object.is equality[39m

Expected: [32m"single:a:x|b:y"[39m
Received: [31m"single:[7mv1:[27ma:x|b:y"[39m

[36m [2mâ¯[22m tests/lib/redis-cache.test.ts:[2m207:19[22m[39m
    [90m205| [39m    [34mit[39m([32m"should handle single character values"[39m[33m,[39m () [33m=>[39m {
    [90m206| [39m      [35mconst[39m key [33m=[39m [34mmakeCacheKey[39m([32m"single"[39m[33m,[39m { a[33m:[39m [32m"x"[39m[33m,[39m b[33m:[39m [32m"y"[39m })[33m;[39m
    [90m207| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"single:a:x|b:y"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m208| [39m    })[33m;[39m
    [90m209| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[33/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache-mock.test.ts[2m > [22mRedis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate saju cache key
[31m[1mAssertionError[22m: expected 'saju:v1:1990-01-01:12:00:M' to be 'saju:1990-01-01:12:00:M' // Object.is equality[39m

Expected: [32m"saju:1990-01-01:12:00:M"[39m
Received: [31m"saju:[7mv1:[27m1990-01-01:12:00:M"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache-mock.test.ts:[2m63:19[22m[39m
    [90m 61| [39m
    [90m 62| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34msaju[39m([32m'1990-01-01'[39m[33m,[39m [32m'12:00'[39m[33m,[39m [32m'M'[39m)[33m;[39m
    [90m 63| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m'saju:1990-01-01:12:00:M'[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 64| [39m    })[33m;[39m
    [90m 65| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[34/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache-mock.test.ts[2m > [22mRedis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate tarot cache key
[31m[1mAssertionError[22m: expected 'tarot:v1:user123:V2hhdCBpcyBteSBmdXR1â€¦' to contain 'tarot:user123:'[39m

Expected: [32m"tarot:user123:"[39m
Received: [31m"tarot:[7mv1:[27muser123:[7mV2hhdCBpcyBteSBmdXR1cmU/:celtic-cross[27m"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache-mock.test.ts:[2m70:19[22m[39m
    [90m 68| [39m
    [90m 69| [39m      const key = CacheKeys.tarot('user123', 'What is my future?', 'ceâ€¦
    [90m 70| [39m      [34mexpect[39m(key)[33m.[39m[34mtoContain[39m([32m'tarot:user123:'[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 71| [39m      [34mexpect[39m(key)[33m.[39m[34mtoContain[39m([32m':celtic-cross'[39m)[33m;[39m
    [90m 72| [39m    })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[35/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache-mock.test.ts[2m > [22mRedis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate destiny map cache key
[31m[1mAssertionError[22m: expected 'destiny:v1:1990-01-01:12:00' to be 'destiny:1990-01-01:12:00' // Object.is equality[39m

Expected: [32m"destiny:1990-01-01:12:00"[39m
Received: [31m"destiny:[7mv1:[27m1990-01-01:12:00"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache-mock.test.ts:[2m78:19[22m[39m
    [90m 76| [39m
    [90m 77| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34mdestinyMap[39m([32m'1990-01-01'[39m[33m,[39m [32m'12:00'[39m)[33m;[39m
    [90m 78| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m'destiny:1990-01-01:12:00'[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 79| [39m    })[33m;[39m
    [90m 80| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[36/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache-mock.test.ts[2m > [22mRedis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate grading cache key
[31m[1mAssertionError[22m: expected 'grade:v1:2024-01-01:c2FqdS1kYXRhLXN0câ€¦' to contain 'grade:2024-01-01:'[39m

Expected: [32m"grade:2024-01-01:"[39m
Received: [31m"grade:[7mv1:[27m2024-01-01:[7mc2FqdS1kYXRhLXN0cmlu[27m"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache-mock.test.ts:[2m85:19[22m[39m
    [90m 83| [39m
    [90m 84| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34mgrading[39m([32m'2024-01-01'[39m[33m,[39m [32m'saju-data-string'[39m)[33m;[39m
    [90m 85| [39m      [34mexpect[39m(key)[33m.[39m[34mtoContain[39m([32m'grade:2024-01-01:'[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 86| [39m    })[33m;[39m
    [90m 87| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[37/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache-mock.test.ts[2m > [22mRedis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate calendar cache key
[31m[1mAssertionError[22m: expected 'cal:v1:2024:1:user123' to be 'cal:2024:1:user123' // Object.is equality[39m

Expected: [32m"cal:2024:1:user123"[39m
Received: [31m"cal:[7mv1:[27m2024:1:user123"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache-mock.test.ts:[2m92:19[22m[39m
    [90m 90| [39m
    [90m 91| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34mcalendar[39m([34m2024[39m[33m,[39m [34m1[39m[33m,[39m [32m'user123'[39m)[33m;[39m
    [90m 92| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m'cal:2024:1:user123'[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 93| [39m    })[33m;[39m
    [90m 94| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[38/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache-mock.test.ts[2m > [22mRedis Cache Utilities (Mocked)[2m > [22mCacheKeys generators[2m > [22mshould generate compatibility cache key
[31m[1mAssertionError[22m: expected 'compat:v1:person1:person2' to be 'compat:person1:person2' // Object.is equality[39m

Expected: [32m"compat:person1:person2"[39m
Received: [31m"compat:[7mv1:[27mperson1:person2"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache-mock.test.ts:[2m109:19[22m[39m
    [90m107| [39m
    [90m108| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34mcompatibility[39m([32m'person1'[39m[33m,[39m [32m'person2'[39m)[33m;[39m
    [90m109| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m'compat:person1:person2'[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m110| [39m    })[33m;[39m
    [90m111| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCacheKeys[2m > [22mgenerates saju cache key
[31m[1mAssertionError[22m: expected 'saju:v1:1990-01-01:12:00:M' to be 'saju:1990-01-01:12:00:M' // Object.is equality[39m

Expected: [32m"saju:1990-01-01:12:00:M"[39m
Received: [31m"saju:[7mv1:[27m1990-01-01:12:00:M"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache.test.ts:[2m54:19[22m[39m
    [90m 52| [39m    [34mit[39m([32m"generates saju cache key"[39m[33m,[39m () [33m=>[39m {
    [90m 53| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34msaju[39m([32m"1990-01-01"[39m[33m,[39m [32m"12:00"[39m[33m,[39m [32m"M"[39m)[33m;[39m
    [90m 54| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"saju:1990-01-01:12:00:M"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 55| [39m    })[33m;[39m
    [90m 56| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[40/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCacheKeys[2m > [22mgenerates tarot cache key
[31m[1mAssertionError[22m: expected 'tarot:v1:user123:cXVlc3Rpb24=:celtic' to contain 'tarot:user123'[39m

Expected: [32m"tarot:user123"[39m
Received: [31m"tarot:[7mv1:[27muser123[7m:cXVlc3Rpb24=:celtic[27m"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache.test.ts:[2m59:19[22m[39m
    [90m 57| [39m    [34mit[39m([32m"generates tarot cache key"[39m[33m,[39m () [33m=>[39m {
    [90m 58| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34mtarot[39m([32m"user123"[39m[33m,[39m [32m"question"[39m[33m,[39m [32m"celtic"[39m)[33m;[39m
    [90m 59| [39m      [34mexpect[39m(key)[33m.[39m[34mtoContain[39m([32m"tarot:user123"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 60| [39m      [34mexpect[39m(key)[33m.[39m[34mtoContain[39m([32m"celtic"[39m)[33m;[39m
    [90m 61| [39m    })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[41/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCacheKeys[2m > [22mgenerates destiny map key
[31m[1mAssertionError[22m: expected 'destiny:v1:1990-01-01:12:00' to be 'destiny:1990-01-01:12:00' // Object.is equality[39m

Expected: [32m"destiny:1990-01-01:12:00"[39m
Received: [31m"destiny:[7mv1:[27m1990-01-01:12:00"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache.test.ts:[2m65:19[22m[39m
    [90m 63| [39m    [34mit[39m([32m"generates destiny map key"[39m[33m,[39m () [33m=>[39m {
    [90m 64| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34mdestinyMap[39m([32m"1990-01-01"[39m[33m,[39m [32m"12:00"[39m)[33m;[39m
    [90m 65| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"destiny:1990-01-01:12:00"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 66| [39m    })[33m;[39m
    [90m 67| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[42/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCacheKeys[2m > [22mgenerates calendar key
[31m[1mAssertionError[22m: expected 'cal:v1:2024:1:user123' to be 'cal:2024:1:user123' // Object.is equality[39m

Expected: [32m"cal:2024:1:user123"[39m
Received: [31m"cal:[7mv1:[27m2024:1:user123"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache.test.ts:[2m70:19[22m[39m
    [90m 68| [39m    [34mit[39m([32m"generates calendar key"[39m[33m,[39m () [33m=>[39m {
    [90m 69| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34mcalendar[39m([34m2024[39m[33m,[39m [34m1[39m[33m,[39m [32m"user123"[39m)[33m;[39m
    [90m 70| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"cal:2024:1:user123"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 71| [39m    })[33m;[39m
    [90m 72| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[43/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCacheKeys[2m > [22mgenerates compatibility key
[31m[1mAssertionError[22m: expected 'compat:v1:person1:person2' to be 'compat:person1:person2' // Object.is equality[39m

Expected: [32m"compat:person1:person2"[39m
Received: [31m"compat:[7mv1:[27mperson1:person2"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache.test.ts:[2m75:19[22m[39m
    [90m 73| [39m    [34mit[39m([32m"generates compatibility key"[39m[33m,[39m () [33m=>[39m {
    [90m 74| [39m      [35mconst[39m key [33m=[39m [33mCacheKeys[39m[33m.[39m[34mcompatibility[39m([32m"person1"[39m[33m,[39m [32m"person2"[39m)[33m;[39m
    [90m 75| [39m      [34mexpect[39m(key)[33m.[39m[34mtoBe[39m([32m"compat:person1:person2"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 76| [39m    })[33m;[39m
    [90m 77| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[44/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCacheKeys edge cases[2m > [22mgenerates grading key with truncated hash
[31m[1mAssertionError[22m: expected 'grade:v1:2024-01-15:eyJ0ZXN0IjoiZGF0Yâ€¦' to match /^grade:2024-01-15:/[39m

[32m- Expected:[39m 
/^grade:2024-01-15:/

[31m+ Received:[39m 
"grade:v1:2024-01-15:eyJ0ZXN0IjoiZGF0YSJ9"

[36m [2mâ¯[22m tests/lib/cache/redis-cache.test.ts:[2m161:19[22m[39m
    [90m159| [39m    [34mit[39m([32m"generates grading key with truncated hash"[39m[33m,[39m () [33m=>[39m {
    [90m160| [39m      const key = CacheKeys.grading("2024-01-15", JSON.stringify({ tesâ€¦
    [90m161| [39m      [34mexpect[39m(key)[33m.[39m[34mtoMatch[39m([36m/^grade:2024-01-15:/[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m162| [39m      [90m// btoa produces base64, sliced to 20 chars[39m
    [90m163| [39m      [34mexpect[39m(key[33m.[39m[34msplit[39m([32m":"[39m)[[34m2[39m][33m.[39mlength)[33m.[39m[34mtoBeLessThanOrEqual[39m([34m20[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[45/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/cache/redis-cache.test.ts[2m > [22mRedis Cache[2m > [22mCacheKeys edge cases[2m > [22mhandles special characters in tarot question
[31m[1mAssertionError[22m: expected 'tarot:v1:user1:V2hhdCBpcyBteSBsb3ZlIGâ€¦' to contain 'tarot:user1:'[39m

Expected: [32m"tarot:user1:"[39m
Received: [31m"tarot:[7mv1:[27muser1:[7mV2hhdCBpcyBteSBsb3ZlIGxpZmU/:celtic[27m"[39m

[36m [2mâ¯[22m tests/lib/cache/redis-cache.test.ts:[2m168:19[22m[39m
    [90m166| [39m    [34mit[39m([32m"handles special characters in tarot question"[39m[33m,[39m () [33m=>[39m {
    [90m167| [39m      const key = CacheKeys.tarot("user1", "What is my love life?", "câ€¦
    [90m168| [39m      [34mexpect[39m(key)[33m.[39m[34mtoContain[39m([32m"tarot:user1:"[39m)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m169| [39m      [90m// btoa should encode the question[39m
    [90m170| [39m      [34mexpect[39m(key)[33m.[39mnot[33m.[39m[34mtoContain[39m([32m"What is my love life?"[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[46/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiBackend.test.ts[2m > [22mAI Backend[2m > [22mcallAIBackendGeneric[2m > [22mshould handle timeout
[31m[1mError[22m: Test timed out in 130000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiBackend.test.ts:[2m114:5[22m[39m
    [90m112| [39m    })
    [90m113| [39m
    [90m114| [39m    [34mit[39m([32m'should handle timeout'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m115| [39m      global[33m.[39mfetch [33m=[39m vi
    [90m116| [39m        [33m.[39m[34mfn[39m()

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[47/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Basic Generation[2m > [22mshould generate AI premium report successfully
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m149:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[48/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Basic Generation[2m > [22mshould generate report in English
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m169:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[49/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Basic Generation[2m > [22mshould include all 10 sections
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m180:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[50/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Basic Generation[2m > [22mshould include profile information
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m200:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[51/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Basic Generation[2m > [22mshould include matrix summary
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m216:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[52/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Basic Generation[2m > [22mshould include metadata
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m231:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[53/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Options[2m > [22mshould handle focus domain option
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m251:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[54/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Options[2m > [22mshould handle detail level option
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m264:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[55/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Options[2m > [22mshould handle themed report
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m277:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[56/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Options[2m > [22mshould handle comprehensive theme
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m290:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[57/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Error Handling[2m > [22mshould handle malformed JSON response
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m339:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[58/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Error Handling[2m > [22mshould handle missing response field
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m357:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[59/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Fetch Behavior[2m > [22mshould call fetch with correct URL
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m374:11[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[60/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Fetch Behavior[2m > [22mshould send POST request
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m387:11[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[61/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Fetch Behavior[2m > [22mshould send correct headers
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m399:11[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[62/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Fetch Behavior[2m > [22mshould send request body with prompt
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m411:11[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[63/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Response Parsing[2m > [22mshould parse sections from JSON response
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m447:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[64/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Response Parsing[2m > [22mshould extract model and token info
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m477:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[65/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Response Parsing[2m > [22mshould measure processing time
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m489:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[66/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Report ID[2m > [22mshould generate unique report IDs
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m506:27[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[67/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Report ID[2m > [22mshould include timestamp in ID
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m520:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[68/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Matrix Summary[2m > [22mshould extract top 3 top insights
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m543:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[69/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Matrix Summary[2m > [22mshould extract key strengths
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m558:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[70/71]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts[2m > [22mgenerateAIPremiumReport - Matrix Summary[2m > [22mshould extract key challenges
[31m[1mError[22m: OpenAI API key not configured[39m
[36m [2mâ¯[22m callAIBackendGeneric src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m39:11[22m[39m
    [90m 37| [39m  [35mif[39m ([33m![39mopenaiKey) {
    [90m 38| [39m    logger[33m.[39m[34merror[39m([32m'[AI Backend] OPENAI_API_KEY not configured'[39m)
    [90m 39| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'OpenAI API key not configured'[39m)
    [90m   | [39m          [31m^[39m
    [90m 40| [39m  }
    [90m 41| [39m
[90m [2mâ¯[22m callAIBackend src/lib/destiny-matrix/ai-report/aiBackend.ts:[2m24:10[22m[39m
[90m [2mâ¯[22m generateAIPremiumReport src/lib/destiny-matrix/ai-report/aiReportService.ts:[2m56:49[22m[39m
[90m [2mâ¯[22m tests/lib/destiny-matrix/ai-report/aiReportService.test.ts:[2m574:26[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[71/71]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m6 failed[39m[22m[2m | [22m[1m[32m678 passed[39m[22m[2m | [22m[33m3 skipped[39m[90m (687)[39m
[2m      Tests [22m [1m[31m71 failed[39m[22m[2m | [22m[1m[32m28663 passed[39m[22m[2m | [22m[33m30 skipped[39m[90m (28764)[39m
[2m   Start at [22m 16:54:11
[2m   Duration [22m 236.75s[2m (transform 362.17s, setup 465.63s, collect 493.81s, tests 533.67s, environment 1500.80s, prepare 500.15s)[22m

