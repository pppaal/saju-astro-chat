// src/components/destiny-map/chat-i18n.ts
// Extracted i18n translations for Chat component

export type LangKey = "en" | "ko" | "ja" | "zh" | "es" | "fr" | "de" | "pt" | "ru";

export type Copy = {
  placeholder: string;
  send: string;
  thinking: string;
  empty: string;
  error: string;
  fallbackNote: string;
  safetyNote: string;
  noResponse: string;
  uploadCv: string;
  attached: string;
  parsingPdf: string;
  tarotPrompt: string;
  tarotButton: string;
  tarotDesc: string;
  // Crisis support
  crisisTitle: string;
  crisisMessage: string;
  crisisHotline: string;
  crisisHotlineNumber: string;
  crisisClose: string;
  // Returning user
  welcomeBack: string;
  // Grounding
  groundingTip: string;
  // Session management
  newChat: string;
  previousChats: string;
  noHistory: string;
  loadSession: string;
  deleteSession: string;
  confirmDelete: string;
  cancel: string;
  today: string;
  yesterday: string;
  daysAgo: string;
  messages: string;
};

export const CHAT_I18N: Record<LangKey, Copy> = {
  en: {
    placeholder: "Ask precisely (when/why/what)",
    send: "Send",
    thinking: "Looking deeply into your concerns...",
    empty: "Ask in the chosen theme for more precise answers.",
    error: "An error occurred. Please try again.",
    fallbackNote: "Using backup response (AI temporarily unavailable).",
    safetyNote: "Response limited due to policy restrictions.",
    noResponse: "No response received. Try again later.",
    uploadCv: "Upload CV",
    attached: "Attached:",
    parsingPdf: "Reading PDF...",
    tarotPrompt: "Want deeper insights?",
    tarotButton: "Try Tarot Reading",
    tarotDesc: "Combine your astrology & saju with tarot for guidance on your current concern",
    crisisTitle: "We're Here For You",
    crisisMessage: "It sounds like you're going through a really difficult time. Please know that support is available.",
    crisisHotline: "Crisis Hotline",
    crisisHotlineNumber: "988 (US) / 116 123 (UK)",
    crisisClose: "I understand",
    welcomeBack: "Welcome back! Let's continue our conversation.",
    groundingTip: "Try this: Take a deep breath. Notice 5 things you can see around you.",
    newChat: "New Chat",
    previousChats: "Previous Chats",
    noHistory: "No previous conversations",
    loadSession: "Load",
    deleteSession: "Delete",
    confirmDelete: "Delete this conversation?",
    cancel: "Cancel",
    today: "Today",
    yesterday: "Yesterday",
    daysAgo: "days ago",
    messages: "messages",
  },
  ko: {
    placeholder: "언제/왜/무엇을 구체적으로 입력해 주세요.",
    send: "보내기",
    thinking: "당신의 고민을 깊이 살펴보고 있습니다...",
    empty: "선택한 주제에 맞춰 질문하면 더 정확하게 답변합니다.",
    error: "오류가 발생했습니다. 다시 시도해 주세요.",
    fallbackNote: "백업 응답으로 대신합니다 (AI 일시 불가).",
    safetyNote: "정책상 제한된 답변입니다.",
    noResponse: "응답을 받을 수 없습니다. 잠시 후 다시 시도해 주세요.",
    uploadCv: "이력서 업로드",
    attached: "첨부됨:",
    parsingPdf: "PDF 읽는 중...",
    tarotPrompt: "더 깊은 통찰을 원하시나요?",
    tarotButton: "타로 리딩 받기",
    tarotDesc: "점성술과 사주를 타로와 결합하여 현재 고민에 대한 지침을 받아보세요",
    crisisTitle: "당신 곁에 있어요",
    crisisMessage: "지금 많이 힘드시죠. 혼자가 아니에요. 전문 상담 도움을 받으실 수 있어요.",
    crisisHotline: "위기상담전화",
    crisisHotlineNumber: "자살예방 1393 / 정신건강 1577-0199",
    crisisClose: "확인했어요",
    welcomeBack: "다시 오셨네요! 이어서 대화해볼까요?",
    groundingTip: "잠시 숨을 고르세요. 지금 주변에서 보이는 것 5가지를 세어보세요.",
    newChat: "새 대화",
    previousChats: "이전 대화",
    noHistory: "이전 대화가 없습니다",
    loadSession: "불러오기",
    deleteSession: "삭제",
    confirmDelete: "이 대화를 삭제할까요?",
    cancel: "취소",
    today: "오늘",
    yesterday: "어제",
    daysAgo: "일 전",
    messages: "개 메시지",
  },
  ja: {
    placeholder: "いつ/なぜ/何を、できるだけ具体的に",
    send: "送信",
    thinking: "宇宙の道を分析中...",
    empty: "選んだテーマで聞くと、より正確な答えになります。",
    error: "エラーが発生しました。もう一度お試しください。",
    fallbackNote: "バックアップの応答を返しました（AI一時停止中）。",
    safetyNote: "ポリシー上、回答が制限されます。",
    noResponse: "応答がありません。しばらくしてからお試しください。",
    uploadCv: "履歴書アップロード",
    attached: "添付済み:",
    parsingPdf: "PDFを読み込み中...",
    tarotPrompt: "より深い洞察を求めますか？",
    tarotButton: "タロットリーディング",
    tarotDesc: "占星術と四柱推命をタロットと組み合わせて、今の悩みへの指針を得ましょう",
    crisisTitle: "あなたのそばにいます",
    crisisMessage: "今、とても辛い時期を過ごしていますね。専門のサポートがあります。",
    crisisHotline: "相談窓口",
    crisisHotlineNumber: "いのちの電話 0570-783-556",
    crisisClose: "確認しました",
    welcomeBack: "お帰りなさい！続きをお話ししましょう。",
    groundingTip: "深呼吸してみてください。周りに見えるもの5つを数えてみましょう。",
    newChat: "New Chat",
    previousChats: "Previous Chats",
    noHistory: "No previous conversations",
    loadSession: "Load",
    deleteSession: "Delete",
    confirmDelete: "Delete this conversation?",
    cancel: "Cancel",
    today: "Today",
    yesterday: "Yesterday",
    daysAgo: "days ago",
    messages: "messages",
  },
  zh: {
    placeholder: "请具体说明（何时/原因/内容）",
    send: "发送",
    thinking: "正在分析您的宇宙之路...",
    empty: "在选定主题下提问，会更精准。",
    error: "发生错误，请稍后重试。",
    fallbackNote: "返回了备用回答（AI暂不可用）。",
    safetyNote: "因策略限制，回答受限。",
    noResponse: "暂无回复，请稍后再试。",
    uploadCv: "上传简历",
    attached: "已附加:",
    parsingPdf: "正在读取PDF...",
    tarotPrompt: "想要更深入的洞察吗？",
    tarotButton: "塔罗牌占卜",
    tarotDesc: "结合占星术和四柱，用塔罗牌为您当前的困惑提供指引",
    crisisTitle: "我们在您身边",
    crisisMessage: "您现在正经历困难时期。您并不孤单，专业支持随时可用。",
    crisisHotline: "心理援助热线",
    crisisHotlineNumber: "全国心理援助 400-161-9995",
    crisisClose: "我了解了",
    welcomeBack: "欢迎回来！让我们继续对话。",
    groundingTip: "试着深呼吸，数一数周围能看到的5样东西。",
    newChat: "New Chat",
    previousChats: "Previous Chats",
    noHistory: "No previous conversations",
    loadSession: "Load",
    deleteSession: "Delete",
    confirmDelete: "Delete this conversation?",
    cancel: "Cancel",
    today: "Today",
    yesterday: "Yesterday",
    daysAgo: "days ago",
    messages: "messages",
  },
  es: {
    placeholder: "Pregunta concreta (cuando/por que/que)",
    send: "Enviar",
    thinking: "Analizando tu camino cósmico...",
    empty: "Pregunta en el tema seleccionado para respuestas mas precisas.",
    error: "Ocurrio un error. Intentalo de nuevo.",
    fallbackNote: "Se uso respuesta de respaldo (IA temporalmente no disponible).",
    safetyNote: "Respuesta limitada por politica.",
    noResponse: "Sin respuesta. Intentalo mas tarde.",
    uploadCv: "Subir CV",
    attached: "Adjunto:",
    parsingPdf: "Leyendo PDF...",
    tarotPrompt: "¿Quieres percepciones más profundas?",
    tarotButton: "Lectura de Tarot",
    tarotDesc: "Combina tu astrología y saju con el tarot para guiarte en tu preocupación actual",
    crisisTitle: "Estamos contigo",
    crisisMessage: "Parece que estás pasando por un momento difícil. Hay apoyo disponible.",
    crisisHotline: "Línea de crisis",
    crisisHotlineNumber: "Teléfono de la Esperanza 717 003 717",
    crisisClose: "Entendido",
    welcomeBack: "¡Bienvenido de nuevo! Continuemos nuestra conversación.",
    groundingTip: "Respira profundo. Nombra 5 cosas que puedes ver a tu alrededor.",
    newChat: "New Chat",
    previousChats: "Previous Chats",
    noHistory: "No previous conversations",
    loadSession: "Load",
    deleteSession: "Delete",
    confirmDelete: "Delete this conversation?",
    cancel: "Cancel",
    today: "Today",
    yesterday: "Yesterday",
    daysAgo: "days ago",
    messages: "messages",
  },
  fr: {
    placeholder: "Pose une question precise (quand/pourquoi/quoi)",
    send: "Envoyer",
    thinking: "Analyse de votre chemin cosmique...",
    empty: "Pose ta question dans le theme choisi pour plus de precision.",
    error: "Une erreur s'est produite. Reessaie.",
    fallbackNote: "Reponse de secours utilisee (IA momentaneamento indisponible).",
    safetyNote: "Reponse limitee par la politique.",
    noResponse: "Pas de reponse. Reessaie plus tard.",
    uploadCv: "Télécharger CV",
    attached: "Joint:",
    parsingPdf: "Lecture du PDF...",
    tarotPrompt: "Voulez-vous des aperçus plus profonds?",
    tarotButton: "Tirage de Tarot",
    tarotDesc: "Combinez votre astrologie et saju avec le tarot pour des conseils sur votre préoccupation actuelle",
    crisisTitle: "Nous sommes là pour vous",
    crisisMessage: "Vous traversez une période difficile. De l'aide est disponible.",
    crisisHotline: "Ligne de crise",
    crisisHotlineNumber: "SOS Amitié 09 72 39 40 50",
    crisisClose: "J'ai compris",
    welcomeBack: "Bon retour ! Continuons notre conversation.",
    groundingTip: "Respirez profondément. Nommez 5 choses que vous voyez autour de vous.",
    newChat: "New Chat",
    previousChats: "Previous Chats",
    noHistory: "No previous conversations",
    loadSession: "Load",
    deleteSession: "Delete",
    confirmDelete: "Delete this conversation?",
    cancel: "Cancel",
    today: "Today",
    yesterday: "Yesterday",
    daysAgo: "days ago",
    messages: "messages",
  },
  de: {
    placeholder: "Frag prazise (wann/warum/was)",
    send: "Senden",
    thinking: "Analysiere deinen kosmischen Pfad...",
    empty: "Frage im gewahlten Thema fuer genauere Antworten.",
    error: "Es ist ein Fehler aufgetreten. Bitte erneut versuchen.",
    fallbackNote: "Backup-Antwort verwendet (KI voruebergehend nicht verfuegbar).",
    safetyNote: "Antwort aus Richtliniengruenden eingeschraenkt.",
    noResponse: "Keine Antwort erhalten. Spaeter erneut versuchen.",
    uploadCv: "Lebenslauf hochladen",
    attached: "Angehängt:",
    parsingPdf: "PDF lesen...",
    tarotPrompt: "Möchten Sie tiefere Einblicke?",
    tarotButton: "Tarot-Lesung",
    tarotDesc: "Kombinieren Sie Ihre Astrologie und Saju mit Tarot für Anleitungen zu Ihrem aktuellen Anliegen",
    crisisTitle: "Wir sind für Sie da",
    crisisMessage: "Sie durchleben gerade eine schwierige Zeit. Hilfe ist verfügbar.",
    crisisHotline: "Krisenhotline",
    crisisHotlineNumber: "Telefonseelsorge 0800 111 0 111",
    crisisClose: "Verstanden",
    welcomeBack: "Willkommen zurück! Lassen Sie uns weitersprechen.",
    groundingTip: "Atmen Sie tief. Zählen Sie 5 Dinge, die Sie um sich herum sehen.",
    newChat: "New Chat",
    previousChats: "Previous Chats",
    noHistory: "No previous conversations",
    loadSession: "Load",
    deleteSession: "Delete",
    confirmDelete: "Delete this conversation?",
    cancel: "Cancel",
    today: "Today",
    yesterday: "Yesterday",
    daysAgo: "days ago",
    messages: "messages",
  },
  pt: {
    placeholder: "Pergunte de forma precisa (quando/por que/o que)",
    send: "Enviar",
    thinking: "Analisando seu caminho cósmico...",
    empty: "Pergunte no tema escolhido para respostas mais precisas.",
    error: "Ocorreu um erro. Tente novamente.",
    fallbackNote: "Usando resposta de backup (IA temporariamente indisponivel).",
    safetyNote: "Resposta limitada por politica.",
    noResponse: "Nenhuma resposta. Tente novamente mais tarde.",
    uploadCv: "Enviar CV",
    attached: "Anexado:",
    parsingPdf: "Lendo PDF...",
    tarotPrompt: "Quer insights mais profundos?",
    tarotButton: "Leitura de Tarô",
    tarotDesc: "Combine sua astrologia e saju com tarô para orientação sobre sua preocupação atual",
    crisisTitle: "Estamos com você",
    crisisMessage: "Parece que você está passando por um momento difícil. Ajuda está disponível.",
    crisisHotline: "Linha de crise",
    crisisHotlineNumber: "CVV 188",
    crisisClose: "Entendi",
    welcomeBack: "Bem-vindo de volta! Vamos continuar nossa conversa.",
    groundingTip: "Respire fundo. Nomeie 5 coisas que você pode ver ao redor.",
    newChat: "New Chat",
    previousChats: "Previous Chats",
    noHistory: "No previous conversations",
    loadSession: "Load",
    deleteSession: "Delete",
    confirmDelete: "Delete this conversation?",
    cancel: "Cancel",
    today: "Today",
    yesterday: "Yesterday",
    daysAgo: "days ago",
    messages: "messages",
  },
  ru: {
    placeholder: "Сформулируйте точно (когда/почему/что)",
    send: "Отправить",
    thinking: "Анализируем ваш космический путь...",
    empty: "Спрашивайте в выбранной теме для более точных ответов.",
    error: "Произошла ошибка. Попробуйте позже.",
    fallbackNote: "Использован резервный ответ (ИИ временно недоступен).",
    safetyNote: "Ответ ограничен правилами.",
    noResponse: "Нет ответа. Попробуйте позже.",
    uploadCv: "Загрузить резюме",
    attached: "Прикреплено:",
    parsingPdf: "Чтение PDF...",
    tarotPrompt: "Хотите более глубокие озарения?",
    tarotButton: "Чтение Таро",
    tarotDesc: "Объедините свою астрологию и саджу с таро для руководства по текущей проблеме",
    crisisTitle: "Мы рядом с вами",
    crisisMessage: "Похоже, вы переживаете трудное время. Помощь доступна.",
    crisisHotline: "Линия помощи",
    crisisHotlineNumber: "8-800-2000-122",
    crisisClose: "Понятно",
    welcomeBack: "С возвращением! Продолжим наш разговор.",
    groundingTip: "Сделайте глубокий вдох. Назовите 5 вещей, которые видите вокруг.",
    newChat: "New Chat",
    previousChats: "Previous Chats",
    noHistory: "No previous conversations",
    loadSession: "Load",
    deleteSession: "Delete",
    confirmDelete: "Delete this conversation?",
    cancel: "Cancel",
    today: "Today",
    yesterday: "Yesterday",
    daysAgo: "days ago",
    messages: "messages",
  },
};

// Crisis detection keywords
export const CRISIS_KEYWORDS: Record<string, string[]> = {
  ko: ["죽고 싶", "자살", "끝내고 싶", "사라지고 싶", "자해", "삶이 싫"],
  en: ["kill myself", "suicide", "end it all", "want to die", "self harm"],
};

export function detectCrisis(text: string, lang: LangKey): boolean {
  const keywords = CRISIS_KEYWORDS[lang] || CRISIS_KEYWORDS.en;
  const lowerText = text.toLowerCase();
  return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));
}
