/**
 * Few-shot examples for DestinyPal Counselor
 * 상담사 답변 품질 개선을 위한 고품질 예시
 */

export const counselorExamples = {
  ko: [
    {
      question: "나는 어떤 사람이에요?",
      answer: `당신의 사주를 보면, 일간이 병화(丙火)로 태양의 에너지를 가지고 계십니다. 이는 밝고 열정적이며, 주변에 온기를 주는 성향을 나타냅니다. 특히 정재(正財) 2개가 있어 안정적인 재물 관리 능력이 뛰어나고, 식신(食神) 1개로 창의적 표현력도 갖추셨네요.

점성술로 보면, 태양이 사수자리에 있고 상승궁이 물병자리입니다. 이는 자유롭고 혁신적인 사고를 하면서도, 진리와 의미를 추구하는 이중적 면모를 보여줍니다. 금성이 염소자리 7하우스에 있어 관계에서 성숙하고 책임감 있는 파트너를 선호하시는군요.

현재 흐름 (2025년 12월):
- 대운: 乙亥(22-31세) - 편재 에너지로 사업/투자 기회가 활발한 시기
- 세운: 2025년 乙巳 - 비견 에너지로 경쟁과 독립심이 강화되는 해
- 트랜짓: 토성이 물고기자리 2하우스 통과 중으로 재정 구조 재정비 시기

종합하면, 당신은 밝고 따뜻한 에너지로 사람들에게 영감을 주는 리더 타입입니다. 현실감각과 창의성을 모두 갖췄지만, 때로 너무 많은 일을 벌이려는 경향이 있으니 선택과 집중이 필요합니다. 지금은 재정 기반을 다지면서도 새로운 도전을 준비하는 전환기입니다.`,
    },
    {
      question: "올해 연애운이 어때요? 언제 만날까요?",
      answer: `2025년 연애운을 사주와 점성술로 종합 분석해드릴게요.

사주 분석 (현재 운세 흐름):
- 2025년 세운: 乙巳(목화) - 식신 에너지 활성화로 소통과 표현력 증가
- 월운 보기:
  - 2025년 3-5월 (봄): 목 에너지 강해져 새로운 만남 가능성 ↑
  - 2025년 9-10월 (가을): 금 에너지로 기존 인연 진전 또는 정리 시기
- 도화살: 당신 사주에 도화(桃花)가 있어 매력 자체는 늘 발산됨

점성술 타이밍:
- 금성 트랜짓: 2025년 4월 초-5월 중순 금성이 쌍둥이자리(당신 5하우스) 통과 → 연애 에너지 최고조
- 목성 축복: 2025년 6-8월 목성이 게자리 7하우스에서 당신 금성과 트라인(120도) → 진지한 관계 발전 가능
- 일식/월식: 2025년 3월 29일 물고기자리 일식(당신 2하우스), 9월 7일 물고기자리 월식 → 가치관 변화로 새 인연 끌림

구체적 예측:
1. 만남 시기: 2025년 3-5월 가능성 가장 높음 (사주 목 에너지 + 금성 트랜짓 겹침)
2. 만남 장소: 금성 11하우스 위치상 친구 소개, 온라인 커뮤니티, 취미 모임
3. 상대 특징:
   - 7하우스 염소자리 → 성실하고 목표지향적, 2-4살 연상 가능성
   - 금성-토성 각도 → 안정감 주는 성숙한 타입

실천 조언:
- 3-5월에는 적극적으로 모임 나가세요 (특히 친구가 추천하는 자리)
- 외모보다 대화/가치관 맞는지 중점 체크
- 조급해하지 말고 6-8월까지 여유 가지세요 (목성이 진짜 인연 확정 도움)

⚠️ 주의: 9-10월은 기존 관계 정리 시기라 새 만남보다는 진지한 관계 점검 시기입니다.`,
    },
    {
      question: "직장을 옮겨야 할까요? 지금이 맞는 타이밍인가요?",
      answer: `직장 이동 타이밍을 현재 흐름과 함께 분석해드릴게요.

현재 에너지 진단 (2025년 12월 기준):
- 대운: 辛卯(28-37세) - 정관(安定된 직장) 에너지 강함
- 세운: 2025년 乙巳 - 상관(변화/혁신) 에너지로 현상 타파 욕구 증가
- 월운: 12월 무자(戊子) - 편인 에너지로 새로운 배움/방향 모색

점성술 직업운:
- MC(천정): 전갈자리 - 깊이 있는 전문성, 변화 주도 적성
- 10하우스: 명왕성 위치 → 권력/영향력 있는 역할 선호
- 트랜짓 토성: 물고기자리 2하우스(수입) 통과 중 → 재정 안정성 재점검 필요
- 트랜짓 목성: 2025년 6월부터 게자리 7하우스 → 파트너십/협업 중요

타이밍 분석:
✅ 이직 적기: 2025년 3-5월 또는 9월
- 3-5월: 목 에너지 + 금성 트랜짓으로 새로운 기회 포착력 최고
- 9월: 추석 전후 기업 채용 시즌 + 월식 영향으로 큰 변화 가능

❌ 보류 권장: 2025년 6-8월, 11-12월
- 6-8월: 목성 7하우스 → 현 직장에서 파트너십/협업 기회 증가 (조금 더 지켜보세요)
- 11-12월: 연말 프로젝트 마무리 + 수성 역행 → 커뮤니케이션 혼선 가능

체크리스트:
1. 재정 여유: 3개월치 생활비 확보되었나요? (토성 2하우스 경고)
2. 전문성: 현 직장에서 배울 게 남았나요? (정관 에너지는 안정 선호)
3. 목표 명확성: 새 직장이 MC(전갈자리) 특성인 '깊이와 영향력'을 줄 수 있나요?

추천 방향:
당신의 MC 전갈자리 + 상관 에너지를 고려하면:
- 리서치/분석/컨설팅 분야로 전환
- 스타트업 핵심 직책 (권한과 책임 동시에)
- 교육/멘토링 (식신 에너지 활용)

⚡ 결론: 지금 12월은 준비 기간으로 삼고, 2025년 3월부터 본격 이직 활동 시작하세요. 면접은 3-5월에 집중, 6-8월은 현 직장 프로젝트 마무리하며 유종의 미 거두는 게 운의 흐름에 맞습니다.`,
    },
  ],
  en: [
    {
      question: "Who am I as a person?",
      answer: `Looking at your Four Pillars, your Day Master is Bing Fire (丙火), representing the sun's energy. This gives you a bright, passionate nature that warms those around you. You have 2 Direct Wealth (正財) stars indicating excellent stable financial management, and 1 Eating God (食神) showing creative expression abilities.

From an astrological perspective, your Sun is in Sagittarius with Aquarius rising. This shows you have a dual nature - freedom-loving and innovative thinking combined with a quest for truth and meaning. Venus in Capricorn 7th house indicates you prefer mature, responsible partners in relationships.

Current Flow (December 2025):
- 10-Year Luck: Yi Hai (乙亥, ages 22-31) - Indirect Wealth energy activating business/investment opportunities
- Annual Luck: 2025 Yi Si (乙巳) - Companion energy strengthening competition and independence
- Transits: Saturn moving through Pisces 2nd house - time to restructure finances

In summary, you are a bright, warm leader who inspires others. You have both practical sense and creativity, but sometimes try to take on too much. Focus and selectivity are needed. This is a transitional period where you're building financial foundation while preparing for new challenges.`,
    },
  ],
};

export function buildFewShotPrompt(lang: "ko" | "en", userQuestion: string): string {
  const examples = counselorExamples[lang] || counselorExamples.ko;

  const exampleText = examples
    .map((ex, i) => `
[Example ${i + 1}]
Q: ${ex.question}
A: ${ex.answer}
`)
    .join("\n---\n");

  return `
Here are examples of HIGH-QUALITY counselor responses that deeply utilize saju and astrology data:

${exampleText}

---

Now answer the user's question with THE SAME LEVEL OF DETAIL AND DATA USAGE:
Q: ${userQuestion}
A: `;
}
